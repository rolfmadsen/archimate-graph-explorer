var yx=(a,v)=>()=>(v||a((v={exports:{}}).exports,v),v.exports);import{k as ol}from"./kuzu-wasm-BP5yORNQ.js";var qx=yx((sa,jn)=>{(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))f(g);new MutationObserver(g=>{for(const p of g)if(p.type==="childList")for(const b of p.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&f(b)}).observe(document,{childList:!0,subtree:!0});function P(g){const p={};return g.integrity&&(p.integrity=g.integrity),g.referrerPolicy&&(p.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?p.credentials="include":g.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function f(g){if(g.ep)return;g.ep=!0;const p=P(g);fetch(g.href,p)}})();var sl,vs;sl=void 0,vs=function(){function a(H,ne){var ue=Object.keys(H);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(H);ne&&(me=me.filter(function(xe){return Object.getOwnPropertyDescriptor(H,xe).enumerable})),ue.push.apply(ue,me)}return ue}function v(H){for(var ne=1;ne<arguments.length;ne++){var ue=arguments[ne]!=null?arguments[ne]:{};ne%2?a(Object(ue),!0).forEach(function(me){f(H,me,ue[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(ue)):a(Object(ue)).forEach(function(me){Object.defineProperty(H,me,Object.getOwnPropertyDescriptor(ue,me))})}return H}function P(H){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},P(H)}function f(H,ne,ue){return ne in H?Object.defineProperty(H,ne,{value:ue,enumerable:!0,configurable:!0,writable:!0}):H[ne]=ue,H}function g(H){return function(ne){if(Array.isArray(ne))return b(ne)}(H)||function(ne){if(typeof Symbol<"u"&&ne[Symbol.iterator]!=null||ne["@@iterator"]!=null)return Array.from(ne)}(H)||p(H)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(H,ne){if(H){if(typeof H=="string")return b(H,ne);var ue=Object.prototype.toString.call(H).slice(8,-1);return ue==="Object"&&H.constructor&&(ue=H.constructor.name),ue==="Map"||ue==="Set"?Array.from(H):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?b(H,ne):void 0}}function b(H,ne){(ne==null||ne>H.length)&&(ne=H.length);for(var ue=0,me=new Array(ne);ue<ne;ue++)me[ue]=H[ue];return me}var y=function(H){return typeof H=="string"?document.querySelector(H):H()},x=function(H,ne){var ue=typeof H=="string"?document.createElement(H):H;for(var me in ne){var xe=ne[me];if(me==="inside")xe.append(ue);else if(me==="dest")y(xe[0]).insertAdjacentElement(xe[1],ue);else if(me==="around"){var Me=xe;Me.parentNode.insertBefore(ue,Me),ue.append(Me),Me.getAttribute("autofocus")!=null&&Me.focus()}else me in ue?ue[me]=xe:ue.setAttribute(me,xe)}return ue},E=function(H,ne){return H=String(H).toLowerCase(),ne?H.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):H},S=function(H,ne){return x("mark",v({innerHTML:H},typeof ne=="string"&&{class:ne})).outerHTML},d=function(H,ne){ne.input.dispatchEvent(new CustomEvent(H,{bubbles:!0,detail:ne.feedback,cancelable:!0}))},w=function(H,ne,ue){var me=ue||{},xe=me.mode,Me=me.diacritics,De=me.highlight,Ge=E(ne,Me);if(ne=String(ne),H=E(H,Me),xe==="loose"){var Ke=(H=H.replace(/ /g,"")).length,Oe=0,Ye=Array.from(ne).map(function(Qe,ce){return Oe<Ke&&Ge[ce]===H[Oe]&&(Qe=De?S(Qe,De):Qe,Oe++),Qe}).join("");if(Oe===Ke)return Ye}else{var Ue=Ge.indexOf(H);if(~Ue)return H=ne.substring(Ue,Ue+H.length),Ue=De?ne.replace(H,S(H,De)):ne}},A=function(H,ne){return new Promise(function(ue,me){var xe;return(xe=H.data).cache&&xe.store?ue():new Promise(function(Me,De){return typeof xe.src=="function"?xe.src(ne).then(Me,De):Me(xe.src)}).then(function(Me){try{return H.feedback=xe.store=Me,d("response",H),ue()}catch(De){return me(De)}},me)})},T=function(H,ne){var ue=ne.data,me=ne.searchEngine,xe=[];ue.store.forEach(function(De,Ge){var Ke=function(Ue){var Qe=Ue?De[Ue]:De,ce=typeof me=="function"?me(H,Qe):w(H,Qe,{mode:me,diacritics:ne.diacritics,highlight:ne.resultItem.highlight});if(ce){var he={match:ce,value:De};Ue&&(he.key=Ue),xe.push(he)}};if(ue.keys){var Oe,Ye=function(Ue,Qe){var ce=typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(!ce){if(Array.isArray(Ue)||(ce=p(Ue))||Qe){ce&&(Ue=ce);var he=0,ve=function(){};return{s:ve,n:function(){return he>=Ue.length?{done:!0}:{done:!1,value:Ue[he++]}},e:function($e){throw $e},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae,Pe=!0,We=!1;return{s:function(){ce=ce.call(Ue)},n:function(){var $e=ce.next();return Pe=$e.done,$e},e:function($e){We=!0,Ae=$e},f:function(){try{Pe||ce.return==null||ce.return()}finally{if(We)throw Ae}}}}(ue.keys);try{for(Ye.s();!(Oe=Ye.n()).done;)Ke(Oe.value)}catch(Ue){Ye.e(Ue)}finally{Ye.f()}}else Ke()}),ue.filter&&(xe=ue.filter(xe));var Me=xe.slice(0,ne.resultsList.maxResults);ne.feedback={query:H,matches:xe,results:Me},d("results",ne)},N="aria-expanded",F="aria-activedescendant",$="aria-selected",Y=function(H,ne){H.feedback.selection=v({index:ne},H.feedback.results[ne])},z=function(H){H.isOpen||((H.wrapper||H.input).setAttribute(N,!0),H.list.removeAttribute("hidden"),H.isOpen=!0,d("open",H))},Z=function(H){H.isOpen&&((H.wrapper||H.input).setAttribute(N,!1),H.input.setAttribute(F,""),H.list.setAttribute("hidden",""),H.isOpen=!1,d("close",H))},q=function(H,ne){var ue=ne.resultItem,me=ne.list.getElementsByTagName(ue.tag),xe=!!ue.selected&&ue.selected.split(" ");if(ne.isOpen&&me.length){var Me,De,Ge=ne.cursor;H>=me.length&&(H=0),H<0&&(H=me.length-1),ne.cursor=H,Ge>-1&&(me[Ge].removeAttribute($),xe&&(De=me[Ge].classList).remove.apply(De,g(xe))),me[H].setAttribute($,!0),xe&&(Me=me[H].classList).add.apply(Me,g(xe)),ne.input.setAttribute(F,me[ne.cursor].id),ne.list.scrollTop=me[H].offsetTop-ne.list.clientHeight+me[H].clientHeight+5,ne.feedback.cursor=ne.cursor,Y(ne,H),d("navigate",ne)}},J=function(H){q(H.cursor+1,H)},ie=function(H){q(H.cursor-1,H)},se=function(H,ne,ue){(ue=ue>=0?ue:H.cursor)<0||(H.feedback.event=ne,Y(H,ue),d("selection",H),Z(H))};function oe(H,ne){var ue=this;return new Promise(function(me,xe){var Me,De;return Me=ne||((De=H.input)instanceof HTMLInputElement||De instanceof HTMLTextAreaElement?De.value:De.innerHTML),function(Ke,Oe,Ye){return Oe?Oe(Ke):Ke.length>=Ye}(Me=H.query?H.query(Me):Me,H.trigger,H.threshold)?A(H,Me).then(function(Ke){try{return H.feedback instanceof Error?me():(T(Me,H),H.resultsList&&function(Oe){var Ye=Oe.resultsList,Ue=Oe.list,Qe=Oe.resultItem,ce=Oe.feedback,he=ce.matches,ve=ce.results;if(Oe.cursor=-1,Ue.innerHTML="",he.length||Ye.noResults){var Ae=new DocumentFragment;ve.forEach(function(Pe,We){var $e=x(Qe.tag,v({id:"".concat(Qe.id,"_").concat(We),role:"option",innerHTML:Pe.match,inside:Ae},Qe.class&&{class:Qe.class}));Qe.element&&Qe.element($e,Pe)}),Ue.append(Ae),Ye.element&&Ye.element(Ue,ce),z(Oe)}else Z(Oe)}(H),Ge.call(ue))}catch(Oe){return xe(Oe)}},xe):(Z(H),Ge.call(ue));function Ge(){return me()}})}var le=function(H,ne){for(var ue in H)for(var me in H[ue])ne(ue,me)},ye=function(H){var ne,ue,me,xe=H.events,Me=(ne=function(){return oe(H)},ue=H.debounce,function(){clearTimeout(me),me=setTimeout(function(){return ne()},ue)}),De=H.events=v({input:v({},xe&&xe.input)},H.resultsList&&{list:xe?v({},xe.list):{}}),Ge={input:{input:function(){Me()},keydown:function(Ke){(function(Oe,Ye){switch(Oe.keyCode){case 40:case 38:Oe.preventDefault(),Oe.keyCode===40?J(Ye):ie(Ye);break;case 13:Ye.submit||Oe.preventDefault(),Ye.cursor>=0&&se(Ye,Oe);break;case 9:Ye.resultsList.tabSelect&&Ye.cursor>=0&&se(Ye,Oe);break;case 27:Ye.input.value="",Z(Ye)}})(Ke,H)},blur:function(){Z(H)}},list:{mousedown:function(Ke){Ke.preventDefault()},click:function(Ke){(function(Oe,Ye){var Ue=Ye.resultItem.tag.toUpperCase(),Qe=Array.from(Ye.list.querySelectorAll(Ue)),ce=Oe.target.closest(Ue);ce&&ce.nodeName===Ue&&se(Ye,Oe,Qe.indexOf(ce))})(Ke,H)}}};le(Ge,function(Ke,Oe){(H.resultsList||Oe==="input")&&(De[Ke][Oe]||(De[Ke][Oe]=Ge[Ke][Oe]))}),le(De,function(Ke,Oe){H[Ke].addEventListener(Oe,De[Ke][Oe])})};function ge(H){var ne=this;return new Promise(function(ue,me){var xe,Me,De;if(xe=H.placeHolder,De={role:"combobox","aria-owns":(Me=H.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},x(H.input,v(v({"aria-controls":Me.id,"aria-autocomplete":"both"},xe&&{placeholder:xe}),!H.wrapper&&v({},De))),H.wrapper&&(H.wrapper=x("div",v({around:H.input,class:H.name+"_wrapper"},De))),Me&&(H.list=x(Me.tag,v({dest:[Me.destination,Me.position],id:Me.id,role:"listbox",hidden:"hidden"},Me.class&&{class:Me.class}))),ye(H),H.data.cache)return A(H).then(function(Ke){try{return Ge.call(ne)}catch(Oe){return me(Oe)}},me);function Ge(){return d("init",H),ue()}return Ge.call(ne)})}function _e(H){var ne=H.prototype;ne.init=function(){ge(this)},ne.start=function(ue){oe(this,ue)},ne.unInit=function(){if(this.wrapper){var ue=this.wrapper.parentNode;ue.insertBefore(this.input,this.wrapper),ue.removeChild(this.wrapper)}var me;le((me=this).events,function(xe,Me){me[xe].removeEventListener(Me,me.events[xe][Me])})},ne.open=function(){z(this)},ne.close=function(){Z(this)},ne.goTo=function(ue){q(ue,this)},ne.next=function(){J(this)},ne.previous=function(){ie(this)},ne.select=function(ue){se(this,null,ue)},ne.search=function(ue,me,xe){return w(ue,me,xe)}}return function H(ne){this.options=ne,this.id=H.instances=(H.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(ue){var me=ue.name,xe=ue.options,Me=ue.resultsList,De=ue.resultItem;for(var Ge in xe)if(P(xe[Ge])==="object")for(var Ke in ue[Ge]||(ue[Ge]={}),xe[Ge])ue[Ge][Ke]=xe[Ge][Ke];else ue[Ge]=xe[Ge];ue.selector=ue.selector||"#"+me,Me.destination=Me.destination||ue.selector,Me.id=Me.id||me+"_list_"+ue.id,De.id=De.id||me+"_result",ue.input=y(ue.selector)}(this),_e.call(this,H),ge(this)}},typeof sa=="object"&&typeof jn<"u"?jn.exports=vs():typeof define=="function"&&define.amd?define(vs):(sl=typeof globalThis<"u"?globalThis:sl||self).autoComplete=vs();/*
 |  tail.select - The vanilla solution to make your HTML select fields AWESOME!
 |  @file       ./js/tail.select.js
 |  @author     wolffe <getbutterfly@gmail.com>
 |  @author     SamBrishes <sam@pytes.net>
 |  @version    0.5.22
 |
 |  @website    https://github.com/wolffe/tail.select.js
 |  @license    X11 / MIT License
 |  @copyright  Copyright © 2020 - 2021 wolffe <getbutterfly@gmail.com>
 |  @copyright  Copyright © 2014 - 2019 SamBrishes, pytesNET <info@pytes.net>
 */(function(a,v){typeof define=="function"&&define.amd?define(function(){return v(a)}):typeof jn=="object"&&jn.exports?jn.exports=v(a):(a.tail===void 0&&(a.tail={}),a.tail.select=v(a),typeof jQuery<"u"&&(jQuery.fn.tailselect=function(P){var f=[],g;return this.each(function(){(g=tail.select(this,P))!==!1&&f.push(g)}),f.length===1?f[0]:f.length!==0&&f}),typeof MooTools<"u"&&Element.implement({tailselect:function(P){return new tail.select(this,P)}}))})(window,function(a){var v=a,P=a.document;function f(d,w){return!!(d&&"classList"in d)&&d.classList.contains(w)}function g(d,w){return d&&"classList"in d?d.classList.add(w):void 0}function p(d,w){return d&&"classList"in d?d.classList.remove(w):void 0}function b(d,w,A){var T;if(CustomEvent&&CustomEvent.name)var T=new CustomEvent(w,A);else(T=P.createEvent("CustomEvent")).initCustomEvent(w,!1,!0,A.detail);return d.dispatchEvent(T)}function y(d,w){if(typeof Object.assign=="function")return Object.assign({},d,w||{});var A=Object.constructor();for(var T in d)A[T]=T in w?w[T]:d[T];return A}function x(d,w){var A=P.createElement(d);return A.className=w&&w.join?w.join(" "):w||"",A}var E=function(d,w){if((d=typeof d=="string"?P.querySelectorAll(d):d)instanceof NodeList||d instanceof HTMLCollection||d instanceof Array){for(var A=[],T=d.length,N=0;N<T;N++)A.push(new E(d[N],y(w,{})));return A.length===1?A[0]:A.length!==0&&A}if(!(d instanceof Element&&this instanceof E))return d instanceof Element&&new E(d,w);if(E.inst[d.getAttribute("data-tail-select")])return E.inst[d.getAttribute("data-tail-select")];if(d.getAttribute("data-select")){var F=JSON.parse(d.getAttribute("data-select").replace(/\'/g,'"'));F instanceof Object&&(w=y(w,F))}var $=d.getAttribute("placeholder")||d.getAttribute("data-placeholder"),Y="bindSourceSelect",z="sourceHide";return(w=typeof w=="object"?w:{}).multiple="multiple"in w?w.multiple:d.multiple,w.disabled="disabled"in w?w.disabled:d.disabled,w.placeholder=$||w.placeholder||null,w.width=w.width==="auto"?d.offsetWidth+50:w.width,w.sourceBind=Y in w?w[Y]:w.sourceBind||!1,w.sourceHide=z in w?w[z]:w.sourceHide||!0,w.multiLimit=w.multiLimit>=0?w.multiLimit:1/0,this.e=d,this.id=++E.count,this.con=y(E.defaults,w),this.events={},E.inst["tail-"+this.id]=this,this.init().bind()},S;return E.count=0,E.inst={},E.defaults={animate:!0,classNames:null,csvOutput:!1,csvSeparator:",",descriptions:!1,deselect:!1,disabled:!1,height:350,hideDisabled:!1,hideSelected:!1,items:{},locale:"en",linguisticRules:{е:"ё",a:"ä",o:"ö",u:"ü",ss:"ß"},multiple:!1,multiLimit:1/0,multiPinSelected:!1,multiContainer:!1,multiShowCount:!0,multiShowLimit:!1,multiSelectAll:!1,multiSelectGroup:!0,openAbove:null,placeholder:null,search:!1,searchConfig:["text","value"],searchFocus:!0,searchMarked:!0,searchMinLength:1,searchDisabled:!0,sortItems:!1,sortGroups:!1,sourceBind:!1,sourceHide:!0,startOpen:!1,stayOpen:!1,width:null,cbComplete:void 0,cbEmpty:void 0,cbLoopItem:void 0,cbLoopGroup:void 0},E.strings={en:{all:"All",none:"None",empty:"No Options available",emptySearch:"No Options found",limit:"You can't select more Options",placeholder:"Select an Option...",placeholderMulti:"Select up to :limit Options...",search:"Type in to search...",disabled:"This Field is disabled"},modify:function(d,w,A){if(!(d in this))return!1;if(w instanceof Object)for(var T in w)this.modify(d,T,w[T]);else this[d][w]=typeof A=="string"?A:this[d][w];return!0},register:function(d,w){return typeof d=="string"&&w instanceof Object&&(this[d]=w,!0)}},E.prototype={_e:function(T,w,A){if(!(T in this.__))return A||T;var T;if(typeof(T=this.__[T])=="function"&&(T=T.call(this,w)),typeof w=="object")for(var N in w)T=T.replace(N,w[N]);return T},init:function(){var d=this,w=["tail-select"],A=this.con,T=/^[0-9.]+(?:cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|\%)$/i,N=A.classNames===!0?this.e.className:A.classNames;w.push(N&&N.push?N.join(" "):N&&N.split?N:"no-classes"),A.hideSelected&&w.push("hide-selected"),A.hideDisabled&&w.push("hide-disabled"),A.multiLimit==0&&w.push("disabled"),A.multiple&&w.push("multiple"),A.deselect&&w.push("deselect"),A.disabled&&w.push("disabled"),this.__=y(E.strings.en,E.strings[A.locale]||{}),this._init=!0,this._query=!1,this.select=x("DIV",w),this.label=x("DIV","select-label"),this.dropdown=x("DIV","select-dropdown"),this.search=x("DIV","dropdown-search"),this.csvInput=x("INPUT","select-search"),this.e.getAttribute("tabindex")!==null?this.select.setAttribute("tabindex",this.e.getAttribute("tabindex")):this.select.setAttribute("tabindex",0),A.width&&T.test(A.width)?this.select.style.width=A.width:A.width&&!isNaN(parseFloat(A.width,10))&&(this.select.style.width=A.width+"px"),this.label.addEventListener("click",function(z){d.toggle.call(d,d.con.animate)}),this.select.appendChild(this.label),isNaN(parseInt(A.height,10))||(this.dropdown.style.maxHeight=parseInt(A.height,10)+"px"),A.search&&(this.search.innerHTML='<input type="text" class="search-input" />',this.search.children[0].placeholder=this._e("search"),this.search.children[0].addEventListener("input",function(z){d.query.call(d,this.value.length>A.searchMinLength?this.value:void 0)}),this.dropdown.appendChild(this.search)),this.select.appendChild(this.dropdown),this.csvInput.type="hidden",A.csvOutput&&(this.csvInput.name=this.e.name,this.e.removeAttribute("name"),this.select.appendChild(this.csvInput)),A.multiple&&A.multiContainer&&(P.querySelector(A.multiContainer)?(this.container=P.querySelector(A.multiContainer),this.container.className+=" tail-select-container"):A.multiContainer===!0&&(this.container=this.label,this.container.className+=" tail-select-container")),this.options=new S(this.e,this);for(var F=this.e.options.length,$=0;$<F;$++)this.options.set(this.e.options[$],!1);for(var Y in A.items)typeof A.items[Y]=="string"&&(A.items[Y]={value:A.items[Y]}),this.options.add(A.items[Y].key||Y,A.items[Y].value,A.items[Y].group,A.items[Y].selected,A.items[Y].disabled,A.items[Y].description);return this.query(),this.e.nextElementSibling?this.e.parentElement.insertBefore(this.select,this.e.nextElementSibling):this.e.parentElement.appendChild(this.select),A.sourceHide&&(this.e.style.display=="none"?(this.select.style.display="none",this.e.setAttribute("data-select-hidden","display")):this.e.style.visibility=="hidden"?(this.select.style.visibiltiy="hidden",this.e.setAttribute("data-select-hidden","visibility")):(this.e.style.display="none",this.e.setAttribute("data-select-hidden","0"))),this.e.setAttribute("data-tail-select","tail-"+this.id),d.con.startOpen&&this.open(A.animate),(A.cbComplete||function(){}).call(this,this.select),this._init=!1,this},bind:function(){var d=this;if(this.options_initial===void 0){for(var w=[],A=0;A<this.options.selected.length;++A)w.push(this.options.selected[A]);this.options_initial={selected:w}}return P.addEventListener("keydown",function(T){var N=T.keyCode||T.which,F,$,Y,z,Z;if(!(N==32&&d.select===document.activeElement)&&(!f(d.select,"active")||[13,27,38,40].indexOf(N)<0))return!1;if(T.preventDefault(),T.stopPropagation(),N===32)return d.open(d.con.animate);if(N==13&&(F=d.dropdown.querySelector(".dropdown-option.hover:not(.disabled)"))&&(F.classList.contains("selected")?d.options.unselect.call(d.options,F):d.options.select.call(d.options,F)),N==27||N==13)return d.close(d.con.animate);if(F=d.dropdown.querySelector(".dropdown-option.hover:not(.disabled)"))for(p(F,"hover"),Y=[(N==40?"next":"previous")+"ElementSibling"];(F=(z=F[Y])!==null&&F.tagName=="LI"?z:(z=F.parentElement[Y])!==null&&z.children.length>0&&z.tagName=="UL"&&z.children[N==40?0:z.children.length-1])&&(!f(F,"dropdown-option")||f(F,"disabled")););if(F||N!=40?F||N!=38||(F=(Z=d.dropdown.querySelectorAll(".dropdown-option:not(.disabled)"))[Z.length-1]):F=d.dropdown.querySelector(".dropdown-option:not(.disabled)"),F&&($=d.dropdown.querySelector(".dropdown-inner"))){var q=function(J){for(var ie={top:J.offsetTop,height:J.offsetHeight};(J=J.parentElement)!=$;)ie.top+=J.offsetTop;return ie}(F);g(F,"hover"),$.scrollTop=Math.max(0,q.top-2*q.height)}return!0}),P.addEventListener("click",function(T){if(!f(d.select,"active")||f(d.select,"idle")||d.con.stayOpen===!0)return!1;for(var N=[d.e,d.select,d.container],F=N.length,$=0;$<F;$++)if(N[$]&&(N[$].contains(T.target)||N[$]==T.target)||!T.target.parentElement)return!1;return d.close.call(d,d.con.animate)}),!this.con.sourceBind||(this.e.addEventListener("change",function(T){if(T.detail!=null)return!1;if(T.preventDefault(),T.stopPropagation(),!this.multiple&&this.selectedIndex)d.options.select.call(d.options,this.options[this.selectedIndex]);else{var N=[].concat(d.options.selected),F=[].filter.call(this.querySelectorAll("option:checked"),function($){return!(N.indexOf($)>=0)||(N.splice(N.indexOf($),1),!1)});d.options.walk.call(d.options,"unselect",N),d.options.walk.call(d.options,"select",F)}}),!0)},callback:function(d,w,A){var T="[data-key='"+d.key.replace(/('|\\)/g,"\\$1")+"'][data-group='"+d.group.replace(/('|\\)/g,"\\$1")+"']";if(w=="rebuild")return this.query();var N=this.dropdown.querySelector(T);return N&&["select","disable"].indexOf(w)>=0?g(N,w=="select"?"selected":"disabled"):N&&["unselect","enable"].indexOf(w)>=0&&p(N,w=="unselect"?"selected":"disabled"),this.update(d),A===!0||this.trigger("change",d,w)},trigger:function(d){if(this._init)return!1;var w={bubbles:!1,cancelable:!0,detail:{args:arguments,self:this}};d=="change"&&arguments[2]&&arguments[2].indexOf("select")>=0&&(b(this.e,"input",w),b(this.e,"change",w)),b(this.select,"tail::"+d,w);var A=[],T;return Array.prototype.map.call(arguments,function(N,F){F>0&&A.push(N)}),(this.events[d]||[]).forEach(function(N){(T=[].concat(A)).push(N.args||null),(N.cb||function(){}).apply(w.detail.self,T)}),!0},calc:function(){var d=this.dropdown.cloneNode(!0),w=this.con.height,A=0,T=this.dropdown.querySelector(".dropdown-inner");(d=this.dropdown.cloneNode(!0)).style.cssText="height:auto;min-height:auto;max-height:none;opacity:0;display:block;visibility:hidden;",d.style.maxHeight=this.con.height+"px",d.className+=" cloned",this.dropdown.parentElement.appendChild(d),w=w>d.clientHeight?d.clientHeight:w,this.con.search&&(A=d.querySelector(".dropdown-search").clientHeight),this.dropdown.parentElement.removeChild(d);var N=this.select.getBoundingClientRect(),F=v.innerHeight-(N.top+N.height),$=w+A>F&&N.top>F;return this.con.openAbove===!0||this.con.openAbove!==!1&&$?($=!0,w=Math.min(w,N.top-10),g(this.select,"open-top")):($=!1,w=Math.min(w,F-10),p(this.select,"open-top")),T&&(this.dropdown.style.maxHeight=w+"px",T.style.maxHeight=w-A+"px"),this},query:function(d,w){var A,T,N,F,$,Y,z=this,Z=this.con,q="getAttribute",J=x("DIV","dropdown-inner"),ie=d?"finder":"walker",se=d?[d,w]:[Z.sortItems,Z.sortGroups];for(this._query=typeof d=="string"&&d;A=this.options[ie].apply(this.options,se);){if(!N||N&&N[q]("data-group")!==A.group){if(!((T=(Z.cbLoopGroup||this.cbGroup).call(this,A.group,d,J))instanceof Element))break;(N=T).setAttribute("data-group",A.group),J.appendChild(N)}if((F=(Z.cbLoopItem||this.cbItem).call(this,A,N,d,J))!==null){if(F===!1)break;F.setAttribute("data-key",A.key),F.setAttribute("data-group",A.group),F.addEventListener("click",function(ye){if(!this.hasAttribute("data-key"))return!1;var ge=this[q]("data-key"),_e=this[q]("data-group")||"#";z.options.toggle.call(z.options,ge,_e)&&(z.con.stayOpen!==!1||z.con.multiple||z.close.call(z,z.con.animate))}),N.appendChild(F)}}var oe=J.querySelectorAll("*[data-key]").length;oe==0&&(this.con.cbEmpty||function(ye){var ge=x("SPAN","dropdown-empty");ge.innerText=this._e("empty"),ye.appendChild(ge)}).call(this,J,d),oe>0&&Z.multiple&&Z.multiLimit==1/0&&Z.multiSelectAll&&($=x("BUTTON","tail-all"),Y=x("BUTTON","tail-none"),$.innerText=this._e("all"),$.addEventListener("click",function(ye){ye.preventDefault();var ge=z.dropdown.querySelectorAll(".dropdown-inner .dropdown-option");z.options.walk.call(z.options,"select",ge)}),Y.innerText=this._e("none"),Y.addEventListener("click",function(ye){ye.preventDefault();var ge=z.dropdown.querySelectorAll(".dropdown-inner .dropdown-option");z.options.walk.call(z.options,"unselect",ge)}),(F=x("SPAN","dropdown-action")).appendChild($),F.appendChild(Y),J.insertBefore(F,J.children[0]));var le=this.dropdown.querySelector(".dropdown-inner");return this.dropdown[(le?"replace":"append")+"Child"](J,le),f(this.select,"active")&&this.calc(),this.updateCSV().updateLabel()},cbGroup:function(d,w){var A=x("UL","dropdown-optgroup"),T=this,N,F;return d=="#"||(A.innerHTML='<li class="optgroup-title"><b>'+d+"</b></li>",this.con.multiple&&this.con.multiLimit==1/0&&this.con.multiSelectAll&&(N=x("BUTTON","tail-none"),F=x("BUTTON","tail-all"),N.innerText=this._e("none"),N.addEventListener("click",function($){$.preventDefault();var Y=this.parentElement.parentElement.getAttribute("data-group");T.options.all.call(T.options,"unselect",Y)}),F.innerText=this._e("all"),F.addEventListener("click",function($){$.preventDefault();var Y=this.parentElement.parentElement.getAttribute("data-group");T.options.all.call(T.options,"select",Y)}),A.children[0].appendChild(N),A.children[0].appendChild(F))),A},cbItem:function(d,w,A){var T=x("LI","dropdown-option"+(d.selected?" selected":"")+(d.disabled?" disabled":""));return T.title=d.option.title,A&&A.length>0&&this.con.searchMarked?(A=this.options.applyLinguisticRules(A),T.innerHTML=d.value.replace(new RegExp("("+A+")","i"),"<mark>$1</mark>")):T.innerText=d.value,this.con.descriptions&&d.description&&(T.innerHTML+='<span class="option-description">'+d.description+"</span>"),T},update:function(d){return this.updateLabel().updateContainer(d).updatePin(d).updateCSV(d)},updateLabel:function(d){if(this.container==this.label&&this.options.selected.length>0)return this.label.querySelector(".label-inner")&&this.label.removeChild(this.label.querySelector(".label-inner")),this.label.querySelector(".label-count")&&this.label.removeChild(this.label.querySelector(".label-count")),this;var w=this.con,A=this.options.selected.length,T;return typeof d!="string"&&(d=w.disabled?"disabled":this.dropdown.querySelectorAll("*[data-key]").length==0?"empty"+(f(this.select,"in-search")?"Search":""):w.multiLimit<=A?"limit":!w.multiple&&this.options.selected.length>0?this.options.selected[0].innerText:typeof w.placeholder=="string"?w.placeholder:"placeholder"+(w.multiple&&w.multiLimit<1/0?"Multi":"")),d='<span class="label-inner">'+(d=this._e(d,{":limit":w.multiLimit},d))+"</span>",T=w.multiShowLimit&&w.multiLimit<1/0,w.multiple&&w.multiShowCount&&(d=(d='<span class="label-count '+(A?"label-count--selected":"")+'">:c</span>'+d).replace(":c",A+(T?" / "+w.multiLimit:""))),this.label.innerHTML=d,this},updateContainer:function(d){if(!this.container||!this.con.multiContainer)return this;var w="[data-group='"+d.group+"'][data-key='"+d.key+"']";if(this.container.querySelector(w))return d.selected||this.container.removeChild(this.container.querySelector(w)),this;if(d.selected){var A=this,T=x("DIV","select-handle");T.innerText=d.value,T.setAttribute("data-key",d.key),T.setAttribute("data-group",d.group),T.addEventListener("click",function(N){N.preventDefault(),N.stopPropagation();var F=this.getAttribute("data-key"),$=this.getAttribute("data-group");A.options.unselect.call(A.options,F,$)}),this.container.appendChild(T)}return this},updatePin:function(d){var w=this.dropdown.querySelector(".dropdown-inner ul"),A="li[data-key='"+d.key+"'][data-group='"+d.group+"']";if(!this.con.multiPinSelected||!w||this._query!==!1)return this;if(A=this.dropdown.querySelector(A),d.selected)w.insertBefore(A,w.children[0]);else{for(var T=this.dropdown.querySelector("ul[data-group='"+d.group+"']"),N=this.options[d.index-1],F=!1;N&&N.group==d.group&&!(F=T.querySelector("li[data-key='"+N.key+"']"));)N=this.options[N.index-1];F&&F.nextElementSibling?T.insertBefore(A,F.nextElementSibling):T.appendChild(A)}return this},updateCSV:function(d){if(!this.csvInput||!this.con.csvOutput)return this;for(var w=[],A=this.options.selected.length,T=0;T<A;T++)w.push(this.options.selected[T].value);return this.csvInput.value=w.join(this.con.csvSeparator||","),this},open:function(d){if(f(this.select,"active")||f(this.select,"idle")||this.con.disabled)return!1;this.calc();var w=function(){g(A.select,"active"),p(A.select,"idle"),this.dropdown.style.height="auto",this.dropdown.style.overflow="visible",this.label.removeAttribute("style"),this.con.search&&this.con.searchFocus&&this.dropdown.querySelector("input").focus(),this.trigger.call(this,"open")},A=this,T=this.dropdown.style;return d!==!1?(this.label.style.zIndex=25,this.dropdown.style.cssText+="height:0;display:block;overflow:hidden;",g(A.select,"idle"),function N(){var F=parseInt(T.height,10),$=parseInt(T.maxHeight,10);if(F>=$)return w.call(A);T.height=(F+50>$?$:F+50)+"px",setTimeout(N,20)}()):(T.cssText="height:"+T.maxHeight+";display:block;overflow:hidden;",w.call(this)),this},close:function(d){if(!f(this.select,"active")||f(this.select,"idle"))return!1;var w=function(){p(this.select,"active"),p(this.select,"idle"),this.dropdown.removeAttribute("style"),this.dropdown.querySelector(".dropdown-inner").removeAttribute("style"),this.trigger.call(this,"close")},A=this,T=this.dropdown;return d!==!1?(g(this.select,"idle"),this.dropdown.style.overflow="hidden",function N(){if(parseInt(T.offsetHeight,10)-50<=0)return w.call(A);T.style.height=parseInt(T.offsetHeight,10)-50+"px",setTimeout(N,20)}()):w.call(this),this},toggle:function(d){return f(this.select,"active")?this.close(d):f(this.select,"idle")?this:this.open(d)},remove:function(){if(this.e.removeAttribute("data-tail-select"),this.e.hasAttribute("data-select-hidden")&&(this.e.getAttribute("data-select-hidden")=="0"&&this.e.style.removeProperty("display"),this.e.removeAttribute("data-select-hidden")),Array.prototype.map.call(this.e.querySelectorAll("[data-select-option='add']"),function(T){T.parentElement.removeChild(T)}),Array.prototype.map.call(this.e.querySelectorAll("[data-select-optgroup='add']"),function(T){T.parentElement.removeChild(T)}),this.e.name=this.csvInput.hasAttribute("name")?this.csvInput.name:this.e.name,this.select.parentElement&&this.select.parentElement.removeChild(this.select),this.container)for(var d=this.container.querySelectorAll(".select-handle"),w=d.length,A=0;A<w;A++)this.container.removeChild(d[A]);return this},reload:function(){return this.remove().init()},reset:function(){for(var d=0;d<this.options.element.length;++d)this.options.element[d].selected=!1,this.options.unselect(this.options.element[d].value,"#",!0);for(var d=0;d<this.options_initial.selected.length;++d)this.options_initial.selected[d].selected=!0,this.options.select(this.options_initial.selected[d].value,"#",!0);this.dropdown.querySelector("input").value="",this.query.call(this,"")},config:function(d,w,A){if(d instanceof Object){for(var T in d)this.config(T,d[T],!1);return this.reload(),this.con}return d===void 0?this.con:d in this.con&&(w===void 0?this.con[d]:(this.con[d]=w,A!==!1&&this.reload(),this))},enable:function(d){return p(this.select,"disabled"),this.e.disabled=!1,this.con.disabled=!1,d===!1?this:this.reload()},disable:function(d){return g(this.select,"disabled"),this.e.disabled=!0,this.con.disabled=!0,d===!1?this:this.reload()},on:function(d,w,A){return!(["open","close","change"].indexOf(d)<0||typeof w!="function")&&(d in this.events||(this.events[d]=[]),this.events[d].push({cb:w,args:A instanceof Array?A:[]}),this)},value:function(){return this.options.selected.length==0?null:this.con.multiple?this.options.selected.map(function(d){return d.value}):this.options.selected[0].value}},(S=E.options=function(d,w){return this instanceof S?(this.self=w,this.element=d,this.length=0,this.selected=[],this.disabled=[],this.items={"#":{}},this.groups={},this):new S(d,w)}).prototype={_r:function(d){return d.replace("disabled","disable").replace("enabled","enable").replace("selected","select").replace("unselected","unselect")},get:function(d,w){var A="getAttribute";if(typeof d=="object"&&d.key&&d.group)w=d.group||w,d=d.key;else if(d instanceof Element)d.tagName=="OPTION"?(w=d.parentElement.label||"#",d=d.value||d.innerText):d.hasAttribute("data-key")&&(w=d[A]("data-group")||d.parentElement[A]("data-group")||"#",d=d[A]("data-key"));else if(typeof d!="string")return!1;return d=/^[0-9]+$/.test(d)?"_"+d:d,w in this.items&&this.items[w][d]},set:function(d,w){var A=d.value||d.innerText,T=d.parentElement.label||"#";if(T in this.items||(this.items[T]={},this.groups[T]=d.parentElement),A in this.items[T])return!1;var N=/^[0-9]+$/.test(A)?"_"+A:A,F=this.self.con;if(F.multiple&&this.selected.length>=F.multiLimit&&(d.selected=!1),!d.selected||!F.deselect||d.hasAttribute("selected")&&F.multiLimit!=0||(d.selected=!1,d.parentElement.selectedIndex=-1),d.hasAttribute("data-description")){var $=x("SPAN");$.innerHTML=d.getAttribute("data-description"),d.setAttribute("data-description",$.innerHTML)}return this.items[T][N]={key:A,value:d.text,description:d.getAttribute("data-description")||null,group:T,option:d,optgroup:T!="#"?this.groups[T]:void 0,selected:d.selected,disabled:d.disabled,hidden:d.hidden||!1},this.length++,d.selected&&this.select(this.items[T][N]),d.disabled&&this.disable(this.items[T][N]),!w||this.self.callback(this.items[T][A],"rebuild")},add:function(d,w,A,T,N,F,$){if(d instanceof Object){for(var Y in d)this.add(d[Y].key||Y,d[Y].value,d[Y].group,d[Y].selected,d[Y].disabled,d[Y].description,!1);return this.self.query()}if(this.get(d,A))return!1;if((A=typeof A=="string"?A:"#")!=="#"&&!(A in this.groups)){var z=x("OPTGROUP");z.label=A,z.setAttribute("data-select-optgroup","add"),this.element.appendChild(z),this.items[A]={},this.groups[A]=z}this.self.con.multiple&&this.selected.length>=this.self.con.multiLimit&&(T=!1),N=!!N;var Z=P.createElement("OPTION");return Z.value=d,Z.selected=T,Z.disabled=N,Z.innerText=w,Z.setAttribute("data-select-option","add"),F&&F.length>0&&Z.setAttribute("data-description",F),(A=="#"?this.element:this.groups[A]).appendChild(Z),this.set(Z,$)},move:function(d,w,A,T){if(!(d=this.get(d,w)))return!1;if(A!=="#"&&!(A in this.groups)){var N=x("OPTGROUP");N.label=A,this.element.appendChild(N),this.items[A]={},this.groups[A]=N,this.groups[A].appendChild(d.option)}return delete this.items[d.group][d.key],d.group=A,d.optgroup=this.groups[A]||void 0,this.items[A][d.key]=d,!T||this.self.query()},remove:function(d,w,A){if(!(d=this.get(d,w)))return!1;d.selected&&this.unselect(d),d.disabled&&this.enable(d),d.option.parentElement.removeChild(d.option);var T=/^[0-9]+$/.test(d.key)?"_"+d.key:d.key;return delete this.items[d.group][T],this.length--,Object.keys(this.items[d.group]).length===0&&(delete this.items[d.group],delete this.groups[d.group]),!A||this.self.query()},is:function(T,w,A){var T=this._r(T),N=this.get(w,A);return!N||["select","unselect","disable","enable"].indexOf(T)<0?null:T=="disable"||T=="enable"?T=="disable"?N.disabled:!N.disabled:(T=="select"||T=="unselect")&&(T=="select"?N.selected:!N.selected)},handle:function(F,w,A,T){var N=this.get(w,A),F=this._r(F);if(!N||["select","unselect","disable","enable"].indexOf(F)<0)return null;if(F=="disable"||F=="enable")return N.option in this.disabled||F!="disable"?N.option in this.disabled&&F=="enable"&&this.disabled.splice(this.disabled.indexOf(N.option),1):this.disabled.push(N.option),N.disabled=F=="disable",N.option.disabled=F=="disable",this.self.callback.call(this.self,N,F);var $=f(this.self.select,"disabled")||N.disabled||N.option.disabled,Y=this.self.con.multiple&&this.self.con.multiLimit<=this.selected.length,z=!this.self.con.multiple&&this.selected.indexOf(N.option)>0,Z=this.self.con.multiLimit==0&&this.self.con.deselect==1,q=!this.self.con.multiple&&!this.self.con.deselect&&T!==!0;if(F=="select"){if($||Y||Z||z)return!1;if(!this.self.con.multiple)for(var J in this.selected)this.unselect(this.selected[J],void 0,!0);this.selected.indexOf(N.option)<0&&this.selected.push(N.option)}else if(F=="unselect"){if($||q)return!1;this.selected.splice(this.selected.indexOf(N.option),1)}return N.selected=F=="select",N.option.selected=F=="select",N.option[(F.length>6?"remove":"set")+"Attribute"]("selected","selected"),this.self.callback.call(this.self,N,F,T)},enable:function(d,w){return this.handle("enable",d,w,!1)},disable:function(d,w){return this.handle("disable",d,w,!1)},select:function(d,w){return this.handle("select",d,w,!1)},unselect:function(d,w,A){return this.handle("unselect",d,w,A)},toggle:function(d,w){return!!(d=this.get(d,w))&&this.handle(d.selected?"unselect":"select",d,w,!1)},invert:function(d){if(d=this._r(d),["enable","disable"].indexOf(d)>=0)var w=this.disabled,A=d=="enable"?"disable":"enable";else if(["select","unselect"].indexOf(d)>=0)var w=this.selected,A=d=="select"?"unselect":"select";var T=Array.prototype.filter.call(this,function(F){return!(F in w)}),N=this;return[].concat(w).forEach(function(F){N.handle.call(N,A,F)}),[].concat(T).forEach(function(F){N.handle.call(N,d,F)}),!0},all:function(d,w){var A=this,T=this;return w in this.items?T=Object.keys(this.items[w]):["unselect","enable"].indexOf(d)>=0&&(T=[].concat(d=="unselect"?this.selected:this.disabled)),Array.prototype.forEach.call(T,function(N){A.handle.call(A,d,N,w,!1)}),!0},walk:function(d,w,A){if(w instanceof Array||w.length)for(var T=w.length,N=0;N<T;N++)this.handle.apply(this,[d,w[N],null].concat(A));else if(w instanceof Object){var F=this;if(w.forEach)w.forEach(function(Y){F.handle.apply(F,[d,Y,null].concat(A))});else for(var $ in w)(typeof w[$]=="string"||typeof w[$]=="number"||w[$]instanceof Element)&&this.handle.apply(this,[d,w[$],$ in this.items?$:null]).concat(A)}return this},applyLinguisticRules:function(d,w){var A=this.self.con.linguisticRules,T=[];return Object.keys(A).forEach(function(N){T.push("("+N+"|["+A[N]+"])")}),w&&(T=T.concat(T.map(function(N){return N.toUpperCase()}))),d.replace(new RegExp(T.join("|"),w?"g":"ig"),function(N){return T[[].indexOf.call(arguments,N,1)-1]})},find:function(d,w){var A=this,T,N={};if(w||(w=this.self.con.searchConfig),typeof w=="function")T=w.bind(this,d);else{(w=w instanceof Array?w:[w]).forEach(function(z){typeof z=="string"&&(N[z]=!0)}),N.any=N.any?N.any:N.attributes&&N.value,N.regex&&!N.text||(d=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),N.exactglyphes||(d=this.self.options.applyLinguisticRules(d,N.case)),N.word&&(d="\\b"+d+"\\b");var F=new RegExp(d,N.case?"m":"mi"),$=function(z){return F.test(z.text||z.value)};if(T=N.any?function(z){return $(z)||[].some.call(z.attributes,$)}:N.attributes?function(z){return[].some.call(z.attributes,$)}:$,!this.self.con.searchDisabled){var Y=T;T=function(z){return!z.disabled&&Y(z)}}}return[].filter.call(this.self.e.options,T).map(function(z){return!z.hidden&&A.get(z)})},finder:function(d,w){var A;for(this._finderLoop===void 0&&(this._finderLoop=this.find(d,w));(A=this._finderLoop.shift())!==void 0;)return A;return delete this._finderLoop,!1},walker:function(d,w){if(this._inLoop!==void 0&&this._inLoop){if(this._inItems.length>0){do var A=this.items[this._inGroup][this._inItems.shift()];while(A.hidden===!0);return A}if(this._inGroups.length>0){for(;this._inGroups.length>0;){var T=this._inGroups.shift();if(!(T in this.items))return!1;var N=Object.keys(this.items[T]);if(N.length>0)break}return d=="ASC"?N.sort():d=="DESC"?N.sort().reverse():typeof d=="function"&&(N=d.call(this,N)),this._inItems=N,this._inGroup=T,this.walker(null,null)}return delete this._inLoop,delete this._inItems,delete this._inGroup,delete this._inGroups,!1}var F=Object.keys(this.groups)||[];return w=="ASC"?F.sort():w=="DESC"?F.sort().reverse():typeof w=="function"&&(F=w.call(this,F)),F.unshift("#"),this._inLoop=!0,this._inItems=[],this._inGroups=F,this.walker(d,null)}},E});(function(a,v){typeof sa=="object"&&typeof jn<"u"?v(sa):typeof define=="function"&&define.amd?define(["exports"],v):v((a=typeof globalThis<"u"?globalThis:a||self).d3=a.d3||{})})(void 0,function(a){function v(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f(e){let t,n,r;function i(o,s,u=0,l=o.length){if(u<l){if(t(s,s)!==0)return l;do{const c=u+l>>>1;n(o[c],s)<0?u=c+1:l=c}while(u<l)}return u}return e.length!==2?(t=v,n=(o,s)=>v(e(o),s),r=(o,s)=>e(o)-s):(t=e===v||e===P?e:g,n=e,r=e),{left:i,center:function(o,s,u=0,l=o.length){const c=i(o,s,u,l-1);return c>u&&r(o[c-1],s)>-r(o[c],s)?c-1:c},right:function(o,s,u=0,l=o.length){if(u<l){if(t(s,s)!==0)return l;do{const c=u+l>>>1;n(o[c],s)<=0?u=c+1:l=c}while(u<l)}return u}}}function g(){return 0}function p(e){return e===null?NaN:+e}function*b(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const y=f(v),x=y.right,E=y.left,S=f(p).center;var d=x;const w=T($),A=T(function(e){const t=$(e);return(n,r,i,o,s)=>{t(n,r,(i<<=2)+0,(o<<=2)+0,s<<=2),t(n,r,i+1,o+1,s),t(n,r,i+2,o+2,s),t(n,r,i+3,o+3,s)}});function T(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:s}=t;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((s=Math.floor(s!==void 0?s:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!s||!n&&!r)return t;const u=n&&e(n),l=r&&e(r),c=i.slice();return u&&l?(N(u,c,i,o,s),N(u,i,c,o,s),N(u,c,i,o,s),F(l,i,c,o,s),F(l,c,i,o,s),F(l,i,c,o,s)):u?(N(u,i,c,o,s),N(u,c,i,o,s),N(u,i,c,o,s)):l&&(F(l,i,c,o,s),F(l,c,i,o,s),F(l,i,c,o,s)),t}}function N(e,t,n,r,i){for(let o=0,s=r*i;o<s;)e(t,n,o,o+=r,1)}function F(e,t,n,r,i){for(let o=0,s=r*i;o<r;++o)e(t,n,o,o+s,r)}function $(e){const t=Math.floor(e);if(t===e)return function(i){const o=2*i+1;return(s,u,l,c,h)=>{if(!((c-=h)>=l))return;let _=i*u[l];const m=h*i;for(let M=l,I=l+m;M<I;M+=h)_+=u[Math.min(c,M)];for(let M=l,I=c;M<=I;M+=h)_+=u[Math.min(c,M+m)],s[M]=_/o,_-=u[Math.max(l,M-m)]}}(e);const n=e-t,r=2*e+1;return(i,o,s,u,l)=>{if(!((u-=l)>=s))return;let c=t*o[s];const h=l*t,_=h+l;for(let m=s,M=s+h;m<M;m+=l)c+=o[Math.min(u,m)];for(let m=s,M=u;m<=M;m+=l)c+=o[Math.min(u,m+h)],i[m]=(c+n*(o[Math.max(s,m-_)]+o[Math.min(u,m+_)]))/r,c-=o[Math.max(s,m-h)]}}function Y(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function z(e){return 0|e.length}function Z(e){return!(e>0)}function q(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function J(e,t){let n,r=0,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i));else{let s=-1;for(let u of e)(u=t(u,++s,e))!=null&&(u=+u)>=u&&(n=u-i,i+=n/++r,o+=n*(u-i))}if(r>1)return o/(r-1)}function ie(e,t){const n=J(e,t);return n&&Math.sqrt(n)}function se(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class oe{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,u=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);u&&(n[r++]=u),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n,r,i,o=this._n,s=0;if(o>0){for(s=t[--o];o>0&&(n=s,r=t[--o],s=n+r,i=r-(s-n),!i););o>0&&(i<0&&t[o-1]<0||i>0&&t[o-1]>0)&&(r=2*i,n=s+r,r==n-s&&(s=n))}return s}}class le extends Map{constructor(t,n=ne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ge(this,t))}has(t){return super.has(ge(this,t))}set(t,n){return super.set(_e(this,t),n)}delete(t){return super.delete(H(this,t))}}class ye extends Set{constructor(t,n=ne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(ge(this,t))}add(t){return super.add(_e(this,t))}delete(t){return super.delete(H(this,t))}}function ge({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function H({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ne(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ue(e){return e}function me(e,...t){return Oe(e,ue,ue,t)}function xe(e,...t){return Oe(e,Array.from,ue,t)}function Me(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(i=>i.pop().map(([o,s])=>[...i,o,s]));return e}function De(e,t,...n){return Oe(e,ue,t,n)}function Ge(e,t,...n){return Oe(e,Array.from,t,n)}function Ke(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Oe(e,t,n,r){return function i(o,s){if(s>=r.length)return n(o);const u=new le,l=r[s++];let c=-1;for(const h of o){const _=l(h,++c,o),m=u.get(_);m?m.push(h):u.set(_,[h])}for(const[h,_]of u)u.set(h,i(_,s));return t(u)}(e,0)}function Ye(e,t){return Array.from(t,n=>e[n])}function Ue(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const s of t){const u=ce(s[i],s[o]);if(u)return u}})):(n=e.map(n),r.sort((i,o)=>ce(n[i],n[o]))),Ye(e,r)}return e.sort(Qe(n))}function Qe(e=v){if(e===v)return ce;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function ce(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var he=Array.prototype.slice;function ve(e){return()=>e}const Ae=Math.sqrt(50),Pe=Math.sqrt(10),We=Math.sqrt(2);function $e(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Ae?10:o>=Pe?5:o>=We?2:1;let u,l,c;return i<0?(c=Math.pow(10,-i)/s,u=Math.round(e*c),l=Math.round(t*c),u/c<e&&++u,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,u=Math.round(e/c),l=Math.round(t/c),u*c<e&&++u,l*c>t&&--l),l<u&&.5<=n&&n<2?$e(e,t,2*n):[u,l,c]}function it(e,t,n){if(!((n=+n)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[i,o,s]=r?$e(t,e,n):$e(e,t,n);if(!(o>=i))return[];const u=o-i+1,l=new Array(u);if(r)if(s<0)for(let c=0;c<u;++c)l[c]=(o-c)/-s;else for(let c=0;c<u;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<u;++c)l[c]=(i+c)/-s;else for(let c=0;c<u;++c)l[c]=(i+c)*s;return l}function $t(e,t,n){return $e(e=+e,t=+t,n=+n)[2]}function lt(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?$t(t,e,n):$t(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Le(e,t,n){let r;for(;;){const i=$t(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Dt(e){return Math.max(1,Math.ceil(Math.log(Y(e))/Math.LN2)+1)}function Ve(){var e=ue,t=se,n=Dt;function r(i){Array.isArray(i)||(i=Array.from(i));var o,s,u,l=i.length,c=new Array(l);for(o=0;o<l;++o)c[o]=e(i[o],o,i);var h=t(c),_=h[0],m=h[1],M=n(c,_,m);if(!Array.isArray(M)){const D=m,L=+M;if(t===se&&([_,m]=Le(_,m,L)),(M=it(_,m,L))[0]<=_&&(u=$t(_,m,L)),M[M.length-1]>=m)if(D>=m&&t===se){const j=$t(_,m,L);isFinite(j)&&(j>0?m=(Math.floor(m/j)+1)*j:j<0&&(m=(Math.ceil(m*-j)+1)/-j))}else M.pop()}for(var I=M.length,k=0,O=I;M[k]<=_;)++k;for(;M[O-1]>m;)--O;(k||O<I)&&(M=M.slice(k,O),I=O-k);var C,R=new Array(I+1);for(o=0;o<=I;++o)(C=R[o]=[]).x0=o>0?M[o-1]:_,C.x1=o<I?M[o]:m;if(isFinite(u)){if(u>0)for(o=0;o<l;++o)(s=c[o])!=null&&_<=s&&s<=m&&R[Math.min(I,Math.floor((s-_)/u))].push(i[o]);else if(u<0){for(o=0;o<l;++o)if((s=c[o])!=null&&_<=s&&s<=m){const D=Math.floor((_-s)*u);R[Math.min(I,D+(M[D]<=s))].push(i[o])}}}else for(o=0;o<l;++o)(s=c[o])!=null&&_<=s&&s<=m&&R[d(M,s,0,I)].push(i[o]);return R}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:ve(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:ve([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:ve(Array.isArray(i)?he.call(i):i),r):n},r}function At(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function cn(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Sr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Bn(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Bt(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?ce:Qe(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,h=Math.log(l),_=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*_*(l-_)/l)*(c-l/2<0?-1:1);Bt(e,t,Math.max(n,Math.floor(t-c*_/l+m)),Math.min(r,Math.floor(t+(l-c)*_/l+m)),i)}const o=e[t];let s=n,u=r;for(ut(e,n,t),i(e[r],o)>0&&ut(e,n,r);s<u;){for(ut(e,s,u),++s,--u;i(e[s],o)<0;)++s;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?ut(e,n,u):(++u,ut(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function ut(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function tr(e,t=v){let n,r=!1;if(t.length===1){let i;for(const o of e){const s=t(o);(r?v(s,i)>0:v(s,s)===0)&&(n=o,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function ln(e,t,n){if((r=(e=Float64Array.from(b(e,n))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return Sr(e);if(t>=1)return At(e);var r,i=(r-1)*t,o=Math.floor(i),s=At(Bt(e,o).subarray(0,o+1));return s+(Sr(e.subarray(o+1))-s)*(i-o)}}function ca(e,t,n=p){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function oi(e,t,n){if((r=(e=Float64Array.from(b(e,n))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return Bn(e);if(t>=1)return cn(e);var r,i=Math.floor((r-1)*t),o=Bt(Uint32Array.from(e,(s,u)=>u),i,0,r-1,(s,u)=>ce(e[s],e[u]));return tr(o.subarray(0,i+1),s=>e[s])}}function fn(e){return Array.from(function*(t){for(const n of t)yield*n}(e))}function la(e,t){return[e,t]}function Qt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function fa(e,t=v){if(t.length===1)return Bn(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?t(o,o)===0:t(o,n)<0)&&(n=o,r=i);return r}var ha=Jt(Math.random);function Jt(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const o=e()*i--|0,s=t[i+n];t[i+n]=t[o+n],t[o+n]=s}return t}}function hn(e){if(!(i=e.length))return[];for(var t=-1,n=Sr(e,L1),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r}function L1(e){return e.length}function P1(e){return e instanceof ye?e:new ye(e)}function dl(e,t){const n=e[Symbol.iterator](),r=new Set;for(const i of t){const o=pl(i);if(r.has(o))continue;let s,u;for(;{value:s,done:u}=n.next();){if(u)return!1;const l=pl(s);if(r.add(l),Object.is(o,l))break}}return!0}function pl(e){return e!==null&&typeof e=="object"?e.valueOf():e}function D1(e){return e}var da=1,pa=2,As=3,si=4,gl=1e-6;function R1(e){return"translate("+e+",0)"}function F1(e){return"translate(0,"+e+")"}function j1(e){return t=>+e(t)}function B1(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function U1(){return!this.__axis}function ga(e,t){var n=[],r=null,i=null,o=6,s=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===da||e===si?-1:1,h=e===si||e===pa?"x":"y",_=e===da||e===As?R1:F1;function m(M){var I=r??(t.ticks?t.ticks.apply(t,n):t.domain()),k=i??(t.tickFormat?t.tickFormat.apply(t,n):D1),O=Math.max(o,0)+u,C=t.range(),R=+C[0]+l,D=+C[C.length-1]+l,L=(t.bandwidth?B1:j1)(t.copy(),l),j=M.selection?M.selection():M,B=j.selectAll(".domain").data([null]),W=j.selectAll(".tick").data(I,t).order(),te=W.exit(),Q=W.enter().append("g").attr("class","tick"),G=W.select("line"),V=W.select("text");B=B.merge(B.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),W=W.merge(Q),G=G.merge(Q.append("line").attr("stroke","currentColor").attr(h+"2",c*o)),V=V.merge(Q.append("text").attr("fill","currentColor").attr(h,c*O).attr("dy",e===da?"0em":e===As?"0.71em":"0.32em")),M!==j&&(B=B.transition(M),W=W.transition(M),G=G.transition(M),V=V.transition(M),te=te.transition(M).attr("opacity",gl).attr("transform",function(K){return isFinite(K=L(K))?_(K+l):this.getAttribute("transform")}),Q.attr("opacity",gl).attr("transform",function(K){var re=this.parentNode.__axis;return _((re&&isFinite(re=re(K))?re:L(K))+l)})),te.remove(),B.attr("d",e===si||e===pa?s?"M"+c*s+","+R+"H"+l+"V"+D+"H"+c*s:"M"+l+","+R+"V"+D:s?"M"+R+","+c*s+"V"+l+"H"+D+"V"+c*s:"M"+R+","+l+"H"+D),W.attr("opacity",1).attr("transform",function(K){return _(L(K)+l)}),G.attr(h+"2",c*o),V.attr(h,c*O).text(k),j.filter(U1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===pa?"start":e===si?"end":"middle"),j.each(function(){this.__axis=L})}return m.scale=function(M){return arguments.length?(t=M,m):t},m.ticks=function(){return n=Array.from(arguments),m},m.tickArguments=function(M){return arguments.length?(n=M==null?[]:Array.from(M),m):n.slice()},m.tickValues=function(M){return arguments.length?(r=M==null?null:Array.from(M),m):r&&r.slice()},m.tickFormat=function(M){return arguments.length?(i=M,m):i},m.tickSize=function(M){return arguments.length?(o=s=+M,m):o},m.tickSizeInner=function(M){return arguments.length?(o=+M,m):o},m.tickSizeOuter=function(M){return arguments.length?(s=+M,m):s},m.tickPadding=function(M){return arguments.length?(u=+M,m):u},m.offset=function(M){return arguments.length?(l=+M,m):l},m}var z1={value:()=>{}};function nr(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new ya(r)}function ya(e){this._=e}function H1(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function yl(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=z1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}ya.prototype=nr.prototype={constructor:ya,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(l){var c="",h=l.indexOf(".");if(h>=0&&(c=l.slice(h+1),l=l.slice(0,h)),l&&!r.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:c}})),s=-1,u=o.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<u;)if(n=(e=o[s]).type)i[n]=yl(i[n],e.name,t);else if(t==null)for(n in i)i[n]=yl(i[n],e.name,null);return this}for(;++s<u;)if((n=(e=o[s]).type)&&(n=H1(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ya(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var Ms="http://www.w3.org/1999/xhtml",Es={svg:"http://www.w3.org/2000/svg",xhtml:Ms,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ui(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Es.hasOwnProperty(t)?{space:Es[t],local:e}:e}function G1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ms&&t.documentElement.namespaceURI===Ms?t.createElement(e):t.createElementNS(n,e)}}function $1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ma(e){var t=ui(e);return(t.local?$1:G1)(t)}function V1(){}function va(e){return e==null?V1:function(){return this.querySelector(e)}}function ml(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Y1(){return[]}function Ss(e){return e==null?Y1:function(){return this.querySelectorAll(e)}}function Ts(e){return function(){return this.matches(e)}}function vl(e){return function(t){return t.matches(e)}}var K1=Array.prototype.find;function X1(){return this.firstElementChild}var W1=Array.prototype.filter;function Z1(){return Array.from(this.children)}function bl(e){return new Array(e.length)}function ba(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Q1(e,t,n,r,i,o){for(var s,u=0,l=t.length,c=o.length;u<c;++u)(s=t[u])?(s.__data__=o[u],r[u]=s):n[u]=new ba(e,o[u]);for(;u<l;++u)(s=t[u])&&(i[u]=s)}function J1(e,t,n,r,i,o,s){var u,l,c,h=new Map,_=t.length,m=o.length,M=new Array(_);for(u=0;u<_;++u)(l=t[u])&&(M[u]=c=s.call(l,l.__data__,u,t)+"",h.has(c)?i[u]=l:h.set(c,l));for(u=0;u<m;++u)c=s.call(e,o[u],u,o)+"",(l=h.get(c))?(r[u]=l,l.__data__=o[u],h.delete(c)):n[u]=new ba(e,o[u]);for(u=0;u<_;++u)(l=t[u])&&h.get(M[u])===l&&(i[u]=l)}function q1(e){return e.__data__}function eg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ng(e){return function(){this.removeAttribute(e)}}function rg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ig(e,t){return function(){this.setAttribute(e,t)}}function ag(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function og(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function sg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ks(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ug(e){return function(){this.style.removeProperty(e)}}function cg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function rr(e,t){return e.style.getPropertyValue(t)||ks(e).getComputedStyle(e,null).getPropertyValue(t)}function fg(e){return function(){delete this[e]}}function hg(e,t){return function(){this[e]=t}}function dg(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function _l(e){return e.trim().split(/^|\s+/)}function Cs(e){return e.classList||new xl(e)}function xl(e){this._node=e,this._names=_l(e.getAttribute("class")||"")}function wl(e,t){for(var n=Cs(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Al(e,t){for(var n=Cs(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function pg(e){return function(){wl(this,e)}}function gg(e){return function(){Al(this,e)}}function yg(e,t){return function(){(t.apply(this,arguments)?wl:Al)(this,e)}}function mg(){this.textContent=""}function vg(e){return function(){this.textContent=e}}function bg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _g(){this.innerHTML=""}function xg(e){return function(){this.innerHTML=e}}function wg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ag(){this.nextSibling&&this.parentNode.appendChild(this)}function Mg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Eg(){return null}function Sg(){var e=this.parentNode;e&&e.removeChild(this)}function Tg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kg(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cg(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Ng(e,t,n){return function(){var r,i=this.__on,o=function(l){return function(c){l.call(this,c,this.__data__)}}(t);if(i){for(var s=0,u=i.length;s<u;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t)}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ml(e,t,n){var r=ks(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ig(e,t){return function(){return Ml(this,e,t)}}function Og(e,t){return function(){return Ml(this,e,t.apply(this,arguments))}}ba.prototype={constructor:ba,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},xl.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ns=[null];function Mt(e,t){this._groups=e,this._parents=t}function ir(){return new Mt([[document.documentElement]],Ns)}function mt(e){return typeof e=="string"?new Mt([[document.querySelector(e)]],[document.documentElement]):new Mt([[e]],Ns)}Mt.prototype=ir.prototype={constructor:Mt,select:function(e){typeof e!="function"&&(e=va(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,u=t[i],l=u.length,c=r[i]=new Array(l),h=0;h<l;++h)(o=u[h])&&(s=e.call(o,o.__data__,h,u))&&("__data__"in o&&(s.__data__=o.__data__),c[h]=s);return new Mt(r,this._parents)},selectAll:function(e){e=typeof e=="function"?function(h){return function(){return ml(h.apply(this,arguments))}}(e):Ss(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,u=t[o],l=u.length,c=0;c<l;++c)(s=u[c])&&(r.push(e.call(s,s.__data__,c,u)),i.push(s));return new Mt(r,i)},selectChild:function(e){return this.select(e==null?X1:function(t){return function(){return K1.call(this.children,t)}}(typeof e=="function"?e:vl(e)))},selectChildren:function(e){return this.selectAll(e==null?Z1:function(t){return function(){return W1.call(this.children,t)}}(typeof e=="function"?e:vl(e)))},filter:function(e){typeof e!="function"&&(e=Ts(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],u=s.length,l=r[i]=[],c=0;c<u;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new Mt(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,q1);var n=t?J1:Q1,r=this._parents,i=this._groups;typeof e!="function"&&(e=function(j){return function(){return j}}(e));for(var o=i.length,s=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var h=r[c],_=i[c],m=_.length,M=eg(e.call(h,h&&h.__data__,c,r)),I=M.length,k=u[c]=new Array(I),O=s[c]=new Array(I);n(h,_,k,O,l[c]=new Array(m),M,t);for(var C,R,D=0,L=0;D<I;++D)if(C=k[D]){for(D>=L&&(L=D+1);!(R=O[L])&&++L<I;);C._next=R||null}}return(s=new Mt(s,r))._enter=u,s._exit=l,s},enter:function(){return new Mt(this._enter||this._groups.map(bl),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(bl),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r))&&(r=r.selection()):r=r.append(e+""),t!=null&&(i=t(i))&&(i=i.selection()),n==null?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),u=new Array(i),l=0;l<s;++l)for(var c,h=n[l],_=r[l],m=h.length,M=u[l]=new Array(m),I=0;I<m;++I)(c=h[I]||_[I])&&(M[I]=c);for(;l<i;++l)u[l]=n[l];return new Mt(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(_,m){return _&&m?e(_.__data__,m.__data__):!_-!m}e||(e=tg);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,u=n[o],l=u.length,c=i[o]=new Array(l),h=0;h<l;++h)(s=u[h])&&(c[h]=s);c.sort(t)}return new Mt(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,u=o.length;s<u;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=ui(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?rg:ng:typeof t=="function"?n.local?sg:og:n.local?ag:ig)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((t==null?ug:typeof t=="function"?lg:cg)(e,t,n??"")):rr(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((t==null?fg:typeof t=="function"?dg:hg)(e,t)):this.node()[e]},classed:function(e,t){var n=_l(e+"");if(arguments.length<2){for(var r=Cs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?yg:t?pg:gg)(n,t))},text:function(e){return arguments.length?this.each(e==null?mg:(typeof e=="function"?bg:vg)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(e==null?_g:(typeof e=="function"?wg:xg)(e)):this.node().innerHTML},raise:function(){return this.each(Ag)},lower:function(){return this.each(Mg)},append:function(e){var t=typeof e=="function"?e:ma(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n=typeof e=="function"?e:ma(e),r=t==null?Eg:typeof t=="function"?t:va(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Sg)},clone:function(e){return this.select(e?kg:Tg)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(_){return _.trim().split(/^|\s+/).map(function(m){var M="",I=m.indexOf(".");return I>=0&&(M=m.slice(I+1),m=m.slice(0,I)),{type:m,name:M}})}(e+""),s=o.length;if(!(arguments.length<2)){for(u=t?Ng:Cg,r=0;r<s;++r)this.each(u(o[r],t,n));return this}var u=this.node().__on;if(u){for(var l,c=0,h=u.length;c<h;++c)for(r=0,l=u[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value}},dispatch:function(e,t){return this.each((typeof t=="function"?Og:Ig)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};var Lg=0;function El(){return new Is}function Is(){this._="@"+(++Lg).toString(36)}function Sl(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ut(e,t){if(e=Sl(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}Is.prototype=El.prototype={constructor:Is,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const Pg={passive:!1},ci={capture:!0,passive:!1};function Os(e){e.stopImmediatePropagation()}function Tr(e){e.preventDefault(),e.stopImmediatePropagation()}function _a(e){var t=e.document.documentElement,n=mt(e).on("dragstart.drag",Tr,ci);"onselectstart"in t?n.on("selectstart.drag",Tr,ci):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function xa(e,t){var n=e.document.documentElement,r=mt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Tr,ci),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var wa=e=>()=>e;function Ls(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:u,dx:l,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function Dg(e){return!e.ctrlKey&&!e.button}function Rg(){return this.parentNode}function Fg(e,t){return t??{x:e.x,y:e.y}}function jg(){return navigator.maxTouchPoints||"ontouchstart"in this}function kr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function li(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Un(){}Ls.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var ar=.7,Cr=1/ar,Nr="\\s*([+-]?\\d+)\\s*",fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bg=/^#([0-9a-f]{3,8})$/,Ug=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),zg=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),Hg=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${fi}\\)$`),Gg=new RegExp(`^rgba\\(${dn},${dn},${dn},${fi}\\)$`),$g=new RegExp(`^hsl\\(${fi},${dn},${dn}\\)$`),Vg=new RegExp(`^hsla\\(${fi},${dn},${dn},${fi}\\)$`),Tl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kl(){return this.rgb().formatHex()}function Cl(){return this.rgb().formatRgb()}function zn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nl(t):n===3?new ht(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):n===8?Aa(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):n===4?Aa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ug.exec(e))?new ht(t[1],t[2],t[3],1):(t=zg.exec(e))?new ht(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Hg.exec(e))?Aa(t[1],t[2],t[3],t[4]):(t=Gg.exec(e))?Aa(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$g.exec(e))?Ll(t[1],t[2]/100,t[3]/100,1):(t=Vg.exec(e))?Ll(t[1],t[2]/100,t[3]/100,t[4]):Tl.hasOwnProperty(e)?Nl(Tl[e]):e==="transparent"?new ht(NaN,NaN,NaN,0):null}function Nl(e){return new ht(e>>16&255,e>>8&255,255&e,1)}function Aa(e,t,n,r){return r<=0&&(e=t=n=NaN),new ht(e,t,n,r)}function Ps(e){return e instanceof Un||(e=zn(e)),e?new ht((e=e.rgb()).r,e.g,e.b,e.opacity):new ht}function Ir(e,t,n,r){return arguments.length===1?Ps(e):new ht(e,t,n,r??1)}function ht(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Il(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}`}function Ol(){const e=Ma(this.opacity);return`${e===1?"rgb(":"rgba("}${or(this.r)}, ${or(this.g)}, ${or(this.b)}${e===1?")":`, ${e})`}`}function Ma(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function or(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sr(e){return((e=or(e))<16?"0":"")+e.toString(16)}function Ll(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qt(e,t,n,r)}function Pl(e){if(e instanceof qt)return new qt(e.h,e.s,e.l,e.opacity);if(e instanceof Un||(e=zn(e)),!e)return new qt;if(e instanceof qt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-i,l=(o+i)/2;return u?(s=t===o?(n-r)/u+6*(n<r):n===o?(r-t)/u+2:(t-n)/u+4,u/=l<.5?o+i:2-o-i,s*=60):u=l>0&&l<1?0:s,new qt(s,u,l,e.opacity)}function Ea(e,t,n,r){return arguments.length===1?Pl(e):new qt(e,t,n,r??1)}function qt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Dl(e){return(e=(e||0)%360)<0?e+360:e}function Sa(e){return Math.max(0,Math.min(1,e||0))}function Ds(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}kr(Un,zn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kl,formatHex:kl,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Pl(this).formatHsl()},formatRgb:Cl,toString:Cl}),kr(ht,Ir,li(Un,{brighter(e){return e=e==null?Cr:Math.pow(Cr,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ar:Math.pow(ar,e),new ht(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ht(or(this.r),or(this.g),or(this.b),Ma(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Il,formatHex:Il,formatHex8:function(){return`#${sr(this.r)}${sr(this.g)}${sr(this.b)}${sr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ol,toString:Ol})),kr(qt,Ea,li(Un,{brighter(e){return e=e==null?Cr:Math.pow(Cr,e),new qt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ar:Math.pow(ar,e),new qt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ht(Ds(e>=240?e-240:e+120,i,r),Ds(e,i,r),Ds(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new qt(Dl(this.h),Sa(this.s),Sa(this.l),Ma(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ma(this.opacity);return`${e===1?"hsl(":"hsla("}${Dl(this.h)}, ${100*Sa(this.s)}%, ${100*Sa(this.l)}%${e===1?")":`, ${e})`}`}}));const Rl=Math.PI/180,Fl=180/Math.PI,jl=.96422,Bl=1,Ul=.82521,zl=4/29,Or=6/29,Hl=3*Or*Or,Yg=Or*Or*Or;function Gl(e){if(e instanceof en)return new en(e.l,e.a,e.b,e.opacity);if(e instanceof pn)return Vl(e);e instanceof ht||(e=Ps(e));var t,n,r=Bs(e.r),i=Bs(e.g),o=Bs(e.b),s=Rs((.2225045*r+.7168786*i+.0606169*o)/Bl);return r===i&&i===o?t=n=s:(t=Rs((.4360747*r+.3850649*i+.1430804*o)/jl),n=Rs((.0139322*r+.0971045*i+.7141733*o)/Ul)),new en(116*s-16,500*(t-s),200*(s-n),e.opacity)}function Ta(e,t,n,r){return arguments.length===1?Gl(e):new en(e,t,n,r??1)}function en(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Rs(e){return e>Yg?Math.pow(e,1/3):e/Hl+zl}function Fs(e){return e>Or?e*e*e:Hl*(e-zl)}function js(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Bs(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $l(e){if(e instanceof pn)return new pn(e.h,e.c,e.l,e.opacity);if(e instanceof en||(e=Gl(e)),e.a===0&&e.b===0)return new pn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Fl;return new pn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ka(e,t,n,r){return arguments.length===1?$l(e):new pn(e,t,n,r??1)}function pn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Vl(e){if(isNaN(e.h))return new en(e.l,0,0,e.opacity);var t=e.h*Rl;return new en(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}kr(en,Ta,li(Un,{brighter(e){return new en(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new en(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new ht(js(3.1338561*(t=jl*Fs(t))-1.6168667*(e=Bl*Fs(e))-.4906146*(n=Ul*Fs(n))),js(-.9787684*t+1.9161415*e+.033454*n),js(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),kr(pn,ka,li(Un,{brighter(e){return new pn(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new pn(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return Vl(this).rgb()}}));var Yl=-.14861,Us=1.78277,zs=-.29227,Ca=-.90649,hi=1.97294,Kl=hi*Ca,Xl=hi*Us,Wl=Us*zs-Ca*Yl;function tn(e,t,n,r){return arguments.length===1?function(i){if(i instanceof ur)return new ur(i.h,i.s,i.l,i.opacity);i instanceof ht||(i=Ps(i));var o=i.r/255,s=i.g/255,u=i.b/255,l=(Wl*u+Kl*o-Xl*s)/(Wl+Kl-Xl),c=u-l,h=(hi*(s-l)-zs*c)/Ca,_=Math.sqrt(h*h+c*c)/(hi*l*(1-l)),m=_?Math.atan2(h,c)*Fl-120:NaN;return new ur(m<0?m+360:m,_,l,i.opacity)}(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Zl(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function Ql(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,u=r<t-1?e[r+2]:2*o-i;return Zl((n-r/t)*t,s,i,o,u)}}function Jl(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],u=e[(r+2)%t];return Zl((n-r/t)*t,i,o,s,u)}}kr(ur,tn,li(Un,{brighter(e){return e=e==null?Cr:Math.pow(Cr,e),new ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ar:Math.pow(ar,e),new ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Rl,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ht(255*(t+n*(Yl*r+Us*i)),255*(t+n*(zs*r+Ca*i)),255*(t+n*(hi*r)),this.opacity)}}));var Na=e=>()=>e;function ql(e,t){return function(n){return e+n*t}}function Ia(e,t){var n=t-e;return n?ql(e,n>180||n<-180?n-360*Math.round(n/360):n):Na(isNaN(e)?t:e)}function Kg(e){return(e=+e)==1?dt:function(t,n){return n-t?function(r,i,o){return r=Math.pow(r,o),i=Math.pow(i,o)-r,o=1/o,function(s){return Math.pow(r+s*i,o)}}(t,n,e):Na(isNaN(t)?n:t)}}function dt(e,t){var n=t-e;return n?ql(e,n):Na(isNaN(e)?t:e)}var di=function e(t){var n=Kg(t);function r(i,o){var s=n((i=Ir(i)).r,(o=Ir(o)).r),u=n(i.g,o.g),l=n(i.b,o.b),c=dt(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function ef(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Ir(t[n]),o[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return o=e(o),s=e(s),u=e(u),r.opacity=1,function(l){return r.r=o(l),r.g=s(l),r.b=u(l),r+""}}}var tf=ef(Ql),Xg=ef(Jl);function Hs(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function nf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rf(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=Hn(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(u){for(n=0;n<i;++n)s[n]=o[n](u);return s}}function af(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Vt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function of(e,t){var n,r={},i={};for(n in e!==null&&typeof e=="object"||(e={}),t!==null&&typeof t=="object"||(t={}),t)n in e?r[n]=Hn(e[n],t[n]):i[n]=t[n];return function(o){for(n in r)i[n]=r[n](o);return i}}var Gs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$s=new RegExp(Gs.source,"g");function Vs(e,t){var n,r,i,o=Gs.lastIndex=$s.lastIndex=0,s=-1,u=[],l=[];for(e+="",t+="";(n=Gs.exec(e))&&(r=$s.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),u[s]?u[s]+=i:u[++s]=i),(n=n[0])===(r=r[0])?u[s]?u[s]+=r:u[++s]=r:(u[++s]=null,l.push({i:s,x:Vt(n,r)})),o=$s.lastIndex;return o<t.length&&(i=t.slice(o),u[s]?u[s]+=i:u[++s]=i),u.length<2?l[0]?function(c){return function(h){return c(h)+""}}(l[0].x):function(c){return function(){return c}}(t):(t=l.length,function(c){for(var h,_=0;_<t;++_)u[(h=l[_]).i]=h.x(c);return u.join("")})}function Hn(e,t){var n,r=typeof t;return t==null||r==="boolean"?Na(t):(r==="number"?Vt:r==="string"?(n=zn(t))?(t=n,di):Vs:t instanceof zn?di:t instanceof Date?af:nf(t)?Hs:Array.isArray(t)?rf:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?of:Vt)(e,t)}function Oa(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var La,sf=180/Math.PI,Ys={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uf(e,t,n,r,i,o){var s,u,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*sf,skewX:Math.atan(l)*sf,scaleX:s,scaleY:u}}function cf(e,t,n,r){function i(o){return o.length?o.pop()+" ":""}return function(o,s){var u=[],l=[];return o=e(o),s=e(s),function(c,h,_,m,M,I){if(c!==_||h!==m){var k=M.push("translate(",null,t,null,n);I.push({i:k-4,x:Vt(c,_)},{i:k-2,x:Vt(h,m)})}else(_||m)&&M.push("translate("+_+t+m+n)}(o.translateX,o.translateY,s.translateX,s.translateY,u,l),function(c,h,_,m){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),m.push({i:_.push(i(_)+"rotate(",null,r)-2,x:Vt(c,h)})):h&&_.push(i(_)+"rotate("+h+r)}(o.rotate,s.rotate,u,l),function(c,h,_,m){c!==h?m.push({i:_.push(i(_)+"skewX(",null,r)-2,x:Vt(c,h)}):h&&_.push(i(_)+"skewX("+h+r)}(o.skewX,s.skewX,u,l),function(c,h,_,m,M,I){if(c!==_||h!==m){var k=M.push(i(M)+"scale(",null,",",null,")");I.push({i:k-4,x:Vt(c,_)},{i:k-2,x:Vt(h,m)})}else _===1&&m===1||M.push(i(M)+"scale("+_+","+m+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,u,l),o=s=null,function(c){for(var h,_=-1,m=l.length;++_<m;)u[(h=l[_]).i]=h.x(c);return u.join("")}}}var lf=cf(function(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ys:uf(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),ff=cf(function(e){return e==null?Ys:(La||(La=document.createElementNS("http://www.w3.org/2000/svg","g")),La.setAttribute("transform",e),(e=La.transform.baseVal.consolidate())?uf((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ys)},", ",")",")");function hf(e){return((e=Math.exp(e))+1/e)/2}var df=function e(t,n,r){function i(o,s){var u,l,c=o[0],h=o[1],_=o[2],m=s[0],M=s[1],I=s[2],k=m-c,O=M-h,C=k*k+O*O;if(C<1e-12)l=Math.log(I/_)/t,u=function(W){return[c+W*k,h+W*O,_*Math.exp(t*W*l)]};else{var R=Math.sqrt(C),D=(I*I-_*_+r*C)/(2*_*n*R),L=(I*I-_*_-r*C)/(2*I*n*R),j=Math.log(Math.sqrt(D*D+1)-D),B=Math.log(Math.sqrt(L*L+1)-L);l=(B-j)/t,u=function(W){var te=W*l,Q=hf(j),G=_/(n*R)*(Q*function(V){return((V=Math.exp(2*V))-1)/(V+1)}(t*te+j)-function(V){return((V=Math.exp(V))-1/V)/2}(j));return[c+G*k,h+G*O,_*Q/hf(t*te+j)]}}return u.duration=1e3*l*t/Math.SQRT2,u}return i.rho=function(o){var s=Math.max(.001,+o),u=s*s;return e(s,u,u*u)},i}(Math.SQRT2,2,4);function pf(e){return function(t,n){var r=e((t=Ea(t)).h,(n=Ea(n)).h),i=dt(t.s,n.s),o=dt(t.l,n.l),s=dt(t.opacity,n.opacity);return function(u){return t.h=r(u),t.s=i(u),t.l=o(u),t.opacity=s(u),t+""}}}var Wg=pf(Ia),Zg=pf(dt);function gf(e){return function(t,n){var r=e((t=ka(t)).h,(n=ka(n)).h),i=dt(t.c,n.c),o=dt(t.l,n.l),s=dt(t.opacity,n.opacity);return function(u){return t.h=r(u),t.c=i(u),t.l=o(u),t.opacity=s(u),t+""}}}var Qg=gf(Ia),Jg=gf(dt);function yf(e){return function t(n){function r(i,o){var s=e((i=tn(i)).h,(o=tn(o)).h),u=dt(i.s,o.s),l=dt(i.l,o.l),c=dt(i.opacity,o.opacity);return function(h){return i.h=s(h),i.s=u(h),i.l=l(Math.pow(h,n)),i.opacity=c(h),i+""}}return n=+n,r.gamma=t,r}(1)}var qg=yf(Ia),Pa=yf(dt);function mf(e,t){t===void 0&&(t=e,e=Hn);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}var Da,pi,Lr=0,gi=0,yi=0,vf=1e3,Ra=0,cr=0,Fa=0,mi=typeof performance=="object"&&performance.now?performance:Date,bf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vi(){return cr||(bf(ey),cr=mi.now()+Fa)}function ey(){cr=0}function bi(){this._call=this._time=this._next=null}function ja(e,t,n){var r=new bi;return r.restart(e,t,n),r}function _f(){vi(),++Lr;for(var e,t=Da;t;)(e=cr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Lr}function xf(){cr=(Ra=mi.now())+Fa,Lr=gi=0;try{_f()}finally{Lr=0,function(){for(var e,t,n=Da,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Da=t);pi=e,Ks(r)}(),cr=0}}function ty(){var e=mi.now(),t=e-Ra;t>vf&&(Fa-=t,Ra=e)}function Ks(e){Lr||(gi&&(gi=clearTimeout(gi)),e-cr>24?(e<1/0&&(gi=setTimeout(xf,e-mi.now()-Fa)),yi&&(yi=clearInterval(yi))):(yi||(Ra=mi.now(),yi=setInterval(ty,vf)),Lr=1,bf(xf)))}function Xs(e,t,n){var r=new bi;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}bi.prototype=ja.prototype={constructor:bi,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vi():+n)+(t==null?0:+t),this._next||pi===this||(pi?pi._next=this:Da=this,pi=this),this._call=e,this._time=n,Ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ks())}};var ny=nr("start","end","cancel","interrupt"),ry=[],wf=0,Ws=1,Zs=2,Ba=3,Af=4,Qs=5,Ua=6;function za(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};(function(u,l,c){var h,_=u.__transition;function m(O){c.state=Ws,c.timer.restart(M,c.delay,c.time),c.delay<=O&&M(O-c.delay)}function M(O){var C,R,D,L;if(c.state!==Ws)return k();for(C in _)if((L=_[C]).name===c.name){if(L.state===Ba)return Xs(M);L.state===Af?(L.state=Ua,L.timer.stop(),L.on.call("interrupt",u,u.__data__,L.index,L.group),delete _[C]):+C<l&&(L.state=Ua,L.timer.stop(),L.on.call("cancel",u,u.__data__,L.index,L.group),delete _[C])}if(Xs(function(){c.state===Ba&&(c.state=Af,c.timer.restart(I,c.delay,c.time),I(O))}),c.state=Zs,c.on.call("start",u,u.__data__,c.index,c.group),c.state===Zs){for(c.state=Ba,h=new Array(D=c.tween.length),C=0,R=-1;C<D;++C)(L=c.tween[C].value.call(u,u.__data__,c.index,c.group))&&(h[++R]=L);h.length=R+1}}function I(O){for(var C=O<c.duration?c.ease.call(null,O/c.duration):(c.timer.restart(k),c.state=Qs,1),R=-1,D=h.length;++R<D;)h[R].call(u,C);c.state===Qs&&(c.on.call("end",u,u.__data__,c.index,c.group),k())}function k(){for(var O in c.state=Ua,c.timer.stop(),delete _[l],_)return;delete u.__transition}_[l]=c,c.timer=ja(m,0,c.time)})(e,n,{name:t,index:r,group:i,on:ny,tween:ry,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wf})}function Js(e,t){var n=nn(e,t);if(n.state>wf)throw new Error("too late; already scheduled");return n}function gn(e,t){var n=nn(e,t);if(n.state>Ba)throw new Error("too late; already running");return n}function nn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function lr(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=t==null?null:t+"",o)(n=o[i]).name===t?(r=n.state>Zs&&n.state<Qs,n.state=Ua,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}function iy(e,t){var n,r;return function(){var i=gn(this,e),o=i.tween;if(o!==n){for(var s=0,u=(r=n=o).length;s<u;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}}i.tween=r}}function ay(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=gn(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var u={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=u;break}l===c&&i.push(u)}o.tween=i}}function qs(e,t,n){var r=e._id;return e.each(function(){var i=gn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return nn(i,r).value[t]}}function Mf(e,t){var n;return(typeof t=="number"?Vt:t instanceof zn?di:(n=zn(t))?(t=n,di):Vs)(e,t)}function oy(e){return function(){this.removeAttribute(e)}}function sy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uy(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function cy(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function ly(e,t,n){var r,i,o;return function(){var s,u,l=n(this);if(l!=null)return(s=this.getAttribute(e))===(u=l+"")?null:s===r&&u===i?o:(i=u,o=t(r=s,l));this.removeAttribute(e)}}function fy(e,t,n){var r,i,o;return function(){var s,u,l=n(this);if(l!=null)return(s=this.getAttributeNS(e.space,e.local))===(u=l+"")?null:s===r&&u===i?o:(i=u,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function hy(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(s,u){return function(l){this.setAttributeNS(s.space,s.local,u.call(this,l))}}(e,o)),n}return i._value=t,i}function dy(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(s,u){return function(l){this.setAttribute(s,u.call(this,l))}}(e,o)),n}return i._value=t,i}function py(e,t){return function(){Js(this,e).delay=+t.apply(this,arguments)}}function gy(e,t){return t=+t,function(){Js(this,e).delay=t}}function yy(e,t){return function(){gn(this,e).duration=+t.apply(this,arguments)}}function my(e,t){return t=+t,function(){gn(this,e).duration=t}}var vy=ir.prototype.constructor;function Ef(e){return function(){this.style.removeProperty(e)}}var by=0;function yn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Sf(e){return ir().transition(e)}function Tf(){return++by}var Tn=ir.prototype;yn.prototype=Sf.prototype={constructor:yn,select:function(e){var t=this._name,n=this._id;typeof e!="function"&&(e=va(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var u,l,c=r[s],h=c.length,_=o[s]=new Array(h),m=0;m<h;++m)(u=c[m])&&(l=e.call(u,u.__data__,m,c))&&("__data__"in u&&(l.__data__=u.__data__),_[m]=l,za(_[m],t,n,m,_,nn(u,n)));return new yn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ss(e));for(var r=this._groups,i=r.length,o=[],s=[],u=0;u<i;++u)for(var l,c=r[u],h=c.length,_=0;_<h;++_)if(l=c[_]){for(var m,M=e.call(l,l.__data__,_,c),I=nn(l,n),k=0,O=M.length;k<O;++k)(m=M[k])&&za(m,t,n,k,M,I);o.push(M),s.push(l)}return new yn(o,s,t,n)},selectChild:Tn.selectChild,selectChildren:Tn.selectChildren,filter:function(e){typeof e!="function"&&(e=Ts(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],u=s.length,l=r[i]=[],c=0;c<u;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new yn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),u=0;u<o;++u)for(var l,c=t[u],h=n[u],_=c.length,m=s[u]=new Array(_),M=0;M<_;++M)(l=c[M]||h[M])&&(m[M]=l);for(;u<r;++u)s[u]=t[u];return new yn(s,this._parents,this._name,this._id)},selection:function(){return new vy(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Tf(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,u=r[o],l=u.length,c=0;c<l;++c)if(s=u[c]){var h=nn(s,t);za(s,e,n,c,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new yn(r,this._parents,e,n)},call:Tn.call,nodes:Tn.nodes,node:Tn.node,size:Tn.size,empty:Tn.empty,each:Tn.each,on:function(e,t){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(e):this.each(function(r,i,o){var s,u,l=function(c){return(c+"").trim().split(/^|\s+/).every(function(h){var _=h.indexOf(".");return _>=0&&(h=h.slice(0,_)),!h||h==="start"})}(i)?Js:gn;return function(){var c=l(this,r),h=c.on;h!==s&&(u=(s=h).copy()).on(i,o),c.on=u}}(n,e,t))},attr:function(e,t){var n=ui(e),r=n==="transform"?ff:Mf;return this.attrTween(e,typeof t=="function"?(n.local?fy:ly)(n,r,qs(this,"attr."+e,t)):t==null?(n.local?sy:oy)(n):(n.local?cy:uy)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ui(e);return this.tween(n,(r.local?hy:dy)(r,t))},style:function(e,t,n){var r=(e+="")=="transform"?lf:Mf;return t==null?this.styleTween(e,function(i,o){var s,u,l;return function(){var c=rr(this,i),h=(this.style.removeProperty(i),rr(this,i));return c===h?null:c===s&&h===u?l:l=o(s=c,u=h)}}(e,r)).on("end.style."+e,Ef(e)):typeof t=="function"?this.styleTween(e,function(i,o,s){var u,l,c;return function(){var h=rr(this,i),_=s(this),m=_+"";return _==null&&(this.style.removeProperty(i),m=_=rr(this,i)),h===m?null:h===u&&m===l?c:(l=m,c=o(u=h,_))}}(e,r,qs(this,"style."+e,t))).each(function(i,o){var s,u,l,c,h="style."+o,_="end."+h;return function(){var m=gn(this,i),M=m.on,I=m.value[h]==null?c||(c=Ef(o)):void 0;M===s&&l===I||(u=(s=M).copy()).on(_,l=I),m.on=u}}(this._id,e)):this.styleTween(e,function(i,o,s){var u,l,c=s+"";return function(){var h=rr(this,i);return h===c?null:h===u?l:l=o(u=h,s)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,function(i,o,s){var u,l;function c(){var h=o.apply(this,arguments);return h!==l&&(u=(l=h)&&function(_,m,M){return function(I){this.style.setProperty(_,m.call(this,I),M)}}(i,h,s)),u}return c._value=o,c}(e,t,n??""))},text:function(e){return this.tween("text",typeof e=="function"?function(t){return function(){var n=t(this);this.textContent=n??""}}(qs(this,"text",e)):function(t){return function(){this.textContent=t}}(e==null?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,function(n){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&function(u){return function(l){this.textContent=u.call(this,l)}}(s)),r}return o._value=n,o}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=nn(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((t==null?iy:ay)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?py:gy)(t,e)):nn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yy:my)(t,e)):nn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(n,r){if(typeof r!="function")throw new Error;return function(){gn(this,n).ease=r}}(t,e)):nn(this.node(),t).ease},easeVarying:function(e){if(typeof e!="function")throw new Error;return this.each(function(t,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;gn(this,t).ease=r}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var u={value:s},l={value:function(){--i==0&&o()}};n.each(function(){var c=gn(this,r),h=c.on;h!==e&&((t=(e=h).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),c.on=t}),i===0&&o()})},[Symbol.iterator]:Tn[Symbol.iterator]};function kf(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function eu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _y=function e(t){function n(r){return Math.pow(r,t)}return t=+t,n.exponent=e,n}(3),xy=function e(t){function n(r){return 1-Math.pow(1-r,t)}return t=+t,n.exponent=e,n}(3),Cf=function e(t){function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return t=+t,n.exponent=e,n}(3),Nf=Math.PI,If=Nf/2;function Of(e){return(1-Math.cos(Nf*e))/2}function Gn(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function Lf(e){return((e*=2)<=1?Gn(1-e):2-Gn(e-1))/2}function Pf(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var tu=4/11,wy=6/11,Ay=8/11,My=3/4,Ey=9/11,Sy=10/11,Ty=15/16,ky=21/22,Cy=63/64,Ha=1/tu/tu;function _i(e){return(e=+e)<tu?Ha*e*e:e<Ay?Ha*(e-=wy)*e+My:e<Sy?Ha*(e-=Ey)*e+Ty:Ha*(e-=ky)*e+Cy}var nu=1.70158,Ny=function e(t){function n(r){return(r=+r)*r*(t*(r-1)+r)}return t=+t,n.overshoot=e,n}(nu),Iy=function e(t){function n(r){return--r*r*((r+1)*t+r)+1}return t=+t,n.overshoot=e,n}(nu),Df=function e(t){function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return t=+t,n.overshoot=e,n}(nu),Pr=2*Math.PI,Oy=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Pr);function i(o){return t*Gn(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return e(o,n*Pr)},i.period=function(o){return e(t,o)},i}(1,.3),Rf=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Pr);function i(o){return 1-t*Gn(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return e(o,n*Pr)},i.period=function(o){return e(t,o)},i}(1,.3),Ly=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Pr);function i(o){return((o=2*o-1)<0?t*Gn(-o)*Math.sin((r-o)/n):2-t*Gn(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return e(o,n*Pr)},i.period=function(o){return e(t,o)},i}(1,.3),Py={time:null,delay:0,duration:250,ease:eu};function Dy(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}ir.prototype.interrupt=function(e){return this.each(function(){lr(this,e)})},ir.prototype.transition=function(e){var t,n;e instanceof yn?(t=e._id,e=e._name):(t=Tf(),(n=Py).time=vi(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,u=r[o],l=u.length,c=0;c<l;++c)(s=u[c])&&za(s,e,t,c,u,n||Dy(s,t));return new yn(r,this._parents,e,t)};var Ry=[null],ru=e=>()=>e;function Fy(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function iu(e){e.preventDefault(),e.stopImmediatePropagation()}var Ff={name:"drag"},au={name:"space"},Dr={name:"handle"},Rr={name:"center"};const{abs:jf,max:vt,min:bt}=Math;function Bf(e){return[+e[0],+e[1]]}function ou(e){return[Bf(e[0]),Bf(e[1])]}var Ga={name:"x",handles:["w","e"].map(xi),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},$a={name:"y",handles:["n","s"].map(xi),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},jy={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(xi),input:function(e){return e==null?null:ou(e)},output:function(e){return e}},kn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Uf={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},zf={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},By={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Uy={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function xi(e){return{type:e}}function zy(e){return!e.ctrlKey&&!e.button}function Hy(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Gy(){return navigator.maxTouchPoints||"ontouchstart"in this}function su(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function uu(e){var t,n=Hy,r=zy,i=Gy,o=!0,s=nr("start","brush","end"),u=6;function l(O){var C=O.property("__brush",k).selectAll(".overlay").data([xi("overlay")]);C.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",kn.overlay).merge(C).each(function(){var D=su(this).extent;mt(this).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1])}),O.selectAll(".selection").data([xi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",kn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=O.selectAll(".handle").data(e.handles,function(D){return D.type});R.exit().remove(),R.enter().append("rect").attr("class",function(D){return"handle handle--"+D.type}).attr("cursor",function(D){return kn[D.type]}),O.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",m).filter(i).on("touchstart.brush",m).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var O=mt(this),C=su(this).selection;C?(O.selectAll(".selection").style("display",null).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1]),O.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?C[1][0]-u/2:C[0][0]-u/2}).attr("y",function(R){return R.type[0]==="s"?C[1][1]-u/2:C[0][1]-u/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?C[1][0]-C[0][0]+u:u}).attr("height",function(R){return R.type==="e"||R.type==="w"?C[1][1]-C[0][1]+u:u})):O.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(O,C,R){var D=O.__brush.emitter;return!D||R&&D.clean?new _(O,C,R):D}function _(O,C,R){this.that=O,this.args=C,this.state=O.__brush,this.active=0,this.clean=R}function m(O){if((!t||O.touches)&&r.apply(this,arguments)){var C,R,D,L,j,B,W,te,Q,G,V,K=this,re=O.target.__data__.type,U=(o&&O.metaKey?re="overlay":re)==="selection"?Ff:o&&O.altKey?Rr:Dr,X=e===$a?null:By[re],ee=e===Ga?null:Uy[re],ae=su(K),fe=ae.extent,de=ae.selection,be=fe[0][0],pe=fe[0][1],we=fe[1][0],Ie=fe[1][1],Se=0,ke=0,Je=X&&ee&&o&&O.shiftKey,Re=Array.from(O.touches||[O],je=>{const Ze=je.identifier;return(je=Ut(je,K)).point0=je.slice(),je.identifier=Ze,je});lr(K);var st=h(K,arguments,!0).beforestart();if(re==="overlay"){de&&(Q=!0);const je=[Re[0],Re[1]||Re[0]];ae.selection=de=[[C=e===$a?be:bt(je[0][0],je[1][0]),D=e===Ga?pe:bt(je[0][1],je[1][1])],[j=e===$a?we:vt(je[0][0],je[1][0]),W=e===Ga?Ie:vt(je[0][1],je[1][1])]],Re.length>1&&un(O)}else C=de[0][0],D=de[0][1],j=de[1][0],W=de[1][1];R=C,L=D,B=j,te=W;var Gt=mt(K).attr("pointer-events","none"),sn=Gt.selectAll(".overlay").attr("cursor",kn[re]);if(O.touches)st.moved=Mn,st.ended=ms;else{var Fn=mt(O.view).on("mousemove.brush",Mn,!0).on("mouseup.brush",ms,!0);o&&Fn.on("keydown.brush",function(je){switch(je.keyCode){case 16:Je=X&&ee;break;case 18:U===Dr&&(X&&(j=B-Se*X,C=R+Se*X),ee&&(W=te-ke*ee,D=L+ke*ee),U=Rr,un(je));break;case 32:U!==Dr&&U!==Rr||(X<0?j=B-Se:X>0&&(C=R-Se),ee<0?W=te-ke:ee>0&&(D=L-ke),U=au,sn.attr("cursor",kn.selection),un(je));break;default:return}iu(je)},!0).on("keyup.brush",function(je){switch(je.keyCode){case 16:Je&&(G=V=Je=!1,un(je));break;case 18:U===Rr&&(X<0?j=B:X>0&&(C=R),ee<0?W=te:ee>0&&(D=L),U=Dr,un(je));break;case 32:U===au&&(je.altKey?(X&&(j=B-Se*X,C=R+Se*X),ee&&(W=te-ke*ee,D=L+ke*ee),U=Rr):(X<0?j=B:X>0&&(C=R),ee<0?W=te:ee>0&&(D=L),U=Dr),sn.attr("cursor",kn[re]),un(je));break;default:return}iu(je)},!0),_a(O.view)}c.call(K),st.start(O,U.name)}function Mn(je){for(const Ze of je.changedTouches||[je])for(const qn of Re)qn.identifier===Ze.identifier&&(qn.cur=Ut(Ze,K));if(Je&&!G&&!V&&Re.length===1){const Ze=Re[0];jf(Ze.cur[0]-Ze[0])>jf(Ze.cur[1]-Ze[1])?V=!0:G=!0}for(const Ze of Re)Ze.cur&&(Ze[0]=Ze.cur[0],Ze[1]=Ze.cur[1]);Q=!0,iu(je),un(je)}function un(je){const Ze=Re[0],qn=Ze.point0;var En;switch(Se=Ze[0]-qn[0],ke=Ze[1]-qn[1],U){case au:case Ff:X&&(Se=vt(be-C,bt(we-j,Se)),R=C+Se,B=j+Se),ee&&(ke=vt(pe-D,bt(Ie-W,ke)),L=D+ke,te=W+ke);break;case Dr:Re[1]?(X&&(R=vt(be,bt(we,Re[0][0])),B=vt(be,bt(we,Re[1][0])),X=1),ee&&(L=vt(pe,bt(Ie,Re[0][1])),te=vt(pe,bt(Ie,Re[1][1])),ee=1)):(X<0?(Se=vt(be-C,bt(we-C,Se)),R=C+Se,B=j):X>0&&(Se=vt(be-j,bt(we-j,Se)),R=C,B=j+Se),ee<0?(ke=vt(pe-D,bt(Ie-D,ke)),L=D+ke,te=W):ee>0&&(ke=vt(pe-W,bt(Ie-W,ke)),L=D,te=W+ke));break;case Rr:X&&(R=vt(be,bt(we,C-Se*X)),B=vt(be,bt(we,j+Se*X))),ee&&(L=vt(pe,bt(Ie,D-ke*ee)),te=vt(pe,bt(Ie,W+ke*ee)))}B<R&&(X*=-1,En=C,C=j,j=En,En=R,R=B,B=En,re in Uf&&sn.attr("cursor",kn[re=Uf[re]])),te<L&&(ee*=-1,En=D,D=W,W=En,En=L,L=te,te=En,re in zf&&sn.attr("cursor",kn[re=zf[re]])),ae.selection&&(de=ae.selection),G&&(R=de[0][0],B=de[1][0]),V&&(L=de[0][1],te=de[1][1]),de[0][0]===R&&de[0][1]===L&&de[1][0]===B&&de[1][1]===te||(ae.selection=[[R,L],[B,te]],c.call(K),st.brush(je,U.name))}function ms(je){if(function(Ze){Ze.stopImmediatePropagation()}(je),je.touches){if(je.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500)}else xa(je.view,Q),Fn.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Gt.attr("pointer-events","all"),sn.attr("cursor",kn.overlay),ae.selection&&(de=ae.selection),function(Ze){return Ze[0][0]===Ze[1][0]||Ze[0][1]===Ze[1][1]}(de)&&(ae.selection=null,c.call(K)),st.end(je,U.name)}}function M(O){h(this,arguments).moved(O)}function I(O){h(this,arguments).ended(O)}function k(){var O=this.__brush||{selection:null};return O.extent=ou(n.apply(this,arguments)),O.dim=e,O}return l.move=function(O,C,R){O.tween?O.on("start.brush",function(D){h(this,arguments).beforestart().start(D)}).on("interrupt.brush end.brush",function(D){h(this,arguments).end(D)}).tween("brush",function(){var D=this,L=D.__brush,j=h(D,arguments),B=L.selection,W=e.input(typeof C=="function"?C.apply(this,arguments):C,L.extent),te=Hn(B,W);function Q(G){L.selection=G===1&&W===null?null:te(G),c.call(D),j.brush()}return B!==null&&W!==null?Q:Q(1)}):O.each(function(){var D=this,L=arguments,j=D.__brush,B=e.input(typeof C=="function"?C.apply(D,L):C,j.extent),W=h(D,L).beforestart();lr(D),j.selection=B===null?null:B,c.call(D),W.start(R).brush(R).end(R)})},l.clear=function(O,C){l.move(O,null,C)},_.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(O,C){return this.starting?(this.starting=!1,this.emit("start",O,C)):this.emit("brush",O),this},brush:function(O,C){return this.emit("brush",O,C),this},end:function(O,C){return--this.active==0&&(delete this.state.emitter,this.emit("end",O,C)),this},emit:function(O,C,R){var D=mt(this.that).datum();s.call(O,this.that,new Fy(O,{sourceEvent:C,target:l,selection:e.output(this.state.selection),mode:R,dispatch:s}),D)}},l.extent=function(O){return arguments.length?(n=typeof O=="function"?O:ru(ou(O)),l):n},l.filter=function(O){return arguments.length?(r=typeof O=="function"?O:ru(!!O),l):r},l.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:ru(!!O),l):i},l.handleSize=function(O){return arguments.length?(u=+O,l):u},l.keyModifiers=function(O){return arguments.length?(o=!!O,l):o},l.on=function(){var O=s.on.apply(s,arguments);return O===s?l:O},l}var Hf=Math.abs,Fr=Math.cos,jr=Math.sin,Gf=Math.PI,Va=Gf/2,$f=2*Gf,Vf=Math.max,cu=1e-12;function lu(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function fu(e,t){var n=0,r=null,i=null,o=null;function s(u){var l,c=u.length,h=new Array(c),_=lu(0,c),m=new Array(c*c),M=new Array(c),I=0;u=Float64Array.from({length:c*c},t?(k,O)=>u[O%c][O/c|0]:(k,O)=>u[O/c|0][O%c]);for(let k=0;k<c;++k){let O=0;for(let C=0;C<c;++C)O+=u[k*c+C]+e*u[C*c+k];I+=h[k]=O}l=(I=Vf(0,$f-n*c)/I)?n:$f/c;{let k=0;r&&_.sort((O,C)=>r(h[O],h[C]));for(const O of _){const C=k;if(e){const R=lu(1+~c,c).filter(D=>D<0?u[~D*c+O]:u[O*c+D]);i&&R.sort((D,L)=>i(D<0?-u[~D*c+O]:u[O*c+D],L<0?-u[~L*c+O]:u[O*c+L]));for(const D of R)D<0?(m[~D*c+O]||(m[~D*c+O]={source:null,target:null})).target={index:O,startAngle:k,endAngle:k+=u[~D*c+O]*I,value:u[~D*c+O]}:(m[O*c+D]||(m[O*c+D]={source:null,target:null})).source={index:O,startAngle:k,endAngle:k+=u[O*c+D]*I,value:u[O*c+D]};M[O]={index:O,startAngle:C,endAngle:k,value:h[O]}}else{const R=lu(0,c).filter(D=>u[O*c+D]||u[D*c+O]);i&&R.sort((D,L)=>i(u[O*c+D],u[O*c+L]));for(const D of R){let L;if(O<D?(L=m[O*c+D]||(m[O*c+D]={source:null,target:null}),L.source={index:O,startAngle:k,endAngle:k+=u[O*c+D]*I,value:u[O*c+D]}):(L=m[D*c+O]||(m[D*c+O]={source:null,target:null}),L.target={index:O,startAngle:k,endAngle:k+=u[O*c+D]*I,value:u[O*c+D]},O===D&&(L.source=L.target)),L.source&&L.target&&L.source.value<L.target.value){const j=L.source;L.source=L.target,L.target=j}}M[O]={index:O,startAngle:C,endAngle:k,value:h[O]}}k+=l}}return(m=Object.values(m)).groups=M,o?m.sort(o):m}return s.padAngle=function(u){return arguments.length?(n=Vf(0,u),s):n},s.sortGroups=function(u){return arguments.length?(r=u,s):r},s.sortSubgroups=function(u){return arguments.length?(i=u,s):i},s.sortChords=function(u){return arguments.length?(u==null?o=null:(l=u,o=function(c,h){return l(c.source.value+c.target.value,h.source.value+h.target.value)})._=u,s):o&&o._;var l},s}const hu=Math.PI,du=2*hu,fr=1e-6,$y=du-fr;function Yf(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}let wi=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Yf:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Yf;const r=10**n;return function(i){this._+=i[0];for(let o=1,s=i.length;o<s;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,u=n-e,l=r-t,c=o-e,h=s-t,_=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(_>fr)if(Math.abs(h*u-l*c)>fr&&i){let m=n-o,M=r-s,I=u*u+l*l,k=m*m+M*M,O=Math.sqrt(I),C=Math.sqrt(_),R=i*Math.tan((hu-Math.acos((I+_-k)/(2*O*C)))/2),D=R/C,L=R/O;Math.abs(D-1)>fr&&this._append`L${e+D*c},${t+D*h}`,this._append`A${i},${i},0,0,${+(h*m>c*M)},${this._x1=e+L*u},${this._y1=t+L*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),u=n*Math.sin(r),l=e+s,c=t+u,h=1^o,_=o?r-i:i-r;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>fr||Math.abs(this._y1-c)>fr)&&this._append`L${l},${c}`,n&&(_<0&&(_=_%du+du),_>$y?this._append`A${n},${n},0,1,${h},${e-s},${t-u}A${n},${n},0,1,${h},${this._x1=l},${this._y1=c}`:_>fr&&this._append`A${n},${n},0,${+(_>=hu)},${h},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function pu(){return new wi}pu.prototype=wi.prototype;var Vy=Array.prototype.slice;function hr(e){return function(){return e}}function Yy(e){return e.source}function Ky(e){return e.target}function Kf(e){return e.radius}function Xy(e){return e.startAngle}function Wy(e){return e.endAngle}function Zy(){return 0}function Qy(){return 10}function Xf(e){var t=Yy,n=Ky,r=Kf,i=Kf,o=Xy,s=Wy,u=Zy,l=null;function c(){var h,_=t.apply(this,arguments),m=n.apply(this,arguments),M=u.apply(this,arguments)/2,I=Vy.call(arguments),k=+r.apply(this,(I[0]=_,I)),O=o.apply(this,I)-Va,C=s.apply(this,I)-Va,R=+i.apply(this,(I[0]=m,I)),D=o.apply(this,I)-Va,L=s.apply(this,I)-Va;if(l||(l=h=pu()),M>cu&&(Hf(C-O)>2*M+cu?C>O?(O+=M,C-=M):(O-=M,C+=M):O=C=(O+C)/2,Hf(L-D)>2*M+cu?L>D?(D+=M,L-=M):(D-=M,L+=M):D=L=(D+L)/2),l.moveTo(k*Fr(O),k*jr(O)),l.arc(0,0,k,O,C),O!==D||C!==L)if(e){var j=R-+e.apply(this,arguments),B=(D+L)/2;l.quadraticCurveTo(0,0,j*Fr(D),j*jr(D)),l.lineTo(R*Fr(B),R*jr(B)),l.lineTo(j*Fr(L),j*jr(L))}else l.quadraticCurveTo(0,0,R*Fr(D),R*jr(D)),l.arc(0,0,R,D,L);if(l.quadraticCurveTo(0,0,k*Fr(O),k*jr(O)),l.closePath(),h)return l=null,h+""||null}return e&&(c.headRadius=function(h){return arguments.length?(e=typeof h=="function"?h:hr(+h),c):e}),c.radius=function(h){return arguments.length?(r=i=typeof h=="function"?h:hr(+h),c):r},c.sourceRadius=function(h){return arguments.length?(r=typeof h=="function"?h:hr(+h),c):r},c.targetRadius=function(h){return arguments.length?(i=typeof h=="function"?h:hr(+h),c):i},c.startAngle=function(h){return arguments.length?(o=typeof h=="function"?h:hr(+h),c):o},c.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:hr(+h),c):s},c.padAngle=function(h){return arguments.length?(u=typeof h=="function"?h:hr(+h),c):u},c.source=function(h){return arguments.length?(t=h,c):t},c.target=function(h){return arguments.length?(n=h,c):n},c.context=function(h){return arguments.length?(l=h??null,c):l},c}var Wf=Array.prototype.slice;function Jy(e,t){return e-t}var $n=e=>()=>e;function qy(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=em(e,t[r]))return n;return 0}function em(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,u=s-1;o<s;u=o++){var l=e[o],c=l[0],h=l[1],_=e[u],m=_[0],M=_[1];if(tm(l,_,t))return 0;h>r!=M>r&&n<(m-c)*(r-h)/(M-h)+c&&(i=-i)}return i}function tm(e,t,n){var r,i,o,s;return function(u,l,c){return(l[0]-u[0])*(c[1]-u[1])==(c[0]-u[0])*(l[1]-u[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],s=t[r],i<=o&&o<=s||s<=o&&o<=i)}function nm(){}var Cn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function gu(){var e=1,t=1,n=Dt,r=u;function i(l){var c=n(l);if(Array.isArray(c))c=c.slice().sort(Jy);else{const h=se(l,rm);for(c=it(...Le(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>o(l,h))}function o(l,c){const h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var _=[],m=[];return function(M,I,k){var O,C,R,D,L,j,B=new Array,W=new Array;for(O=C=-1,D=dr(M[0],I),Cn[D<<1].forEach(te);++O<e-1;)R=D,D=dr(M[O+1],I),Cn[R|D<<1].forEach(te);for(Cn[D<<0].forEach(te);++C<t-1;){for(O=-1,D=dr(M[C*e+e],I),L=dr(M[C*e],I),Cn[D<<1|L<<2].forEach(te);++O<e-1;)R=D,D=dr(M[C*e+e+O+1],I),j=L,L=dr(M[C*e+O+1],I),Cn[R|D<<1|L<<2|j<<3].forEach(te);Cn[D|L<<3].forEach(te)}for(O=-1,L=M[C*e]>=I,Cn[L<<2].forEach(te);++O<e-1;)j=L,L=dr(M[C*e+O+1],I),Cn[L<<2|j<<3].forEach(te);function te(Q){var G,V,K=[Q[0][0]+O,Q[0][1]+C],re=[Q[1][0]+O,Q[1][1]+C],U=s(K),X=s(re);(G=W[U])?(V=B[X])?(delete W[G.end],delete B[V.start],G===V?(G.ring.push(re),k(G.ring)):B[G.start]=W[V.end]={start:G.start,end:V.end,ring:G.ring.concat(V.ring)}):(delete W[G.end],G.ring.push(re),W[G.end=X]=G):(G=B[X])?(V=W[U])?(delete B[G.start],delete W[V.end],G===V?(G.ring.push(re),k(G.ring)):B[V.start]=W[G.end]={start:V.start,end:G.end,ring:V.ring.concat(G.ring)}):(delete B[G.start],G.ring.unshift(K),B[G.start=U]=G):B[U]=W[X]={start:U,end:X,ring:[K,re]}}Cn[L<<3].forEach(te)}(l,h,function(M){r(M,l,h),function(I){for(var k=0,O=I.length,C=I[O-1][1]*I[0][0]-I[O-1][0]*I[0][1];++k<O;)C+=I[k-1][1]*I[k][0]-I[k-1][0]*I[k][1];return C}(M)>0?_.push([M]):m.push(M)}),m.forEach(function(M){for(var I,k=0,O=_.length;k<O;++k)if(qy((I=_[k])[0],M)!==-1)return void I.push(M)}),{type:"MultiPolygon",value:c,coordinates:_}}function s(l){return 2*l[0]+l[1]*(e+1)*4}function u(l,c,h){l.forEach(function(_){var m=_[0],M=_[1],I=0|m,k=0|M,O=yu(c[k*e+I]);m>0&&m<e&&I===m&&(_[0]=Zf(m,yu(c[k*e+I-1]),O,h)),M>0&&M<t&&k===M&&(_[1]=Zf(M,yu(c[(k-1)*e+I]),O,h))})}return i.contour=o,i.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),h=Math.floor(l[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return e=c,t=h,i},i.thresholds=function(l){return arguments.length?(n=typeof l=="function"?l:Array.isArray(l)?$n(Wf.call(l)):$n(l),i):n},i.smooth=function(l){return arguments.length?(r=l?u:nm,i):r===u},i}function rm(e){return isFinite(e)?e:NaN}function dr(e,t){return e!=null&&+e>=t}function yu(e){return e==null||isNaN(e=+e)?-1/0:e}function Zf(e,t,n,r){const i=r-t,o=n-t,s=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(s)?e:e+s-.5}function im(e){return e[0]}function am(e){return e[1]}function om(){return 1}const _t=134217729,sm=33306690738754706e-32;function mu(e,t,n,r,i){let o,s,u,l,c=t[0],h=r[0],_=0,m=0;h>c==h>-c?(o=c,c=t[++_]):(o=h,h=r[++m]);let M=0;if(_<e&&m<n)for(h>c==h>-c?(s=c+o,u=o-(s-c),c=t[++_]):(s=h+o,u=o-(s-h),h=r[++m]),o=s,u!==0&&(i[M++]=u);_<e&&m<n;)h>c==h>-c?(s=o+c,l=s-o,u=o-(s-l)+(c-l),c=t[++_]):(s=o+h,l=s-o,u=o-(s-l)+(h-l),h=r[++m]),o=s,u!==0&&(i[M++]=u);for(;_<e;)s=o+c,l=s-o,u=o-(s-l)+(c-l),c=t[++_],o=s,u!==0&&(i[M++]=u);for(;m<n;)s=o+h,l=s-o,u=o-(s-l)+(h-l),h=r[++m],o=s,u!==0&&(i[M++]=u);return o===0&&M!==0||(i[M++]=o),M}function Ai(e){return new Float64Array(e)}const um=22204460492503146e-32,cm=11093356479670487e-47,Br=Ai(4),Qf=Ai(8),Jf=Ai(12),qf=Ai(16),Et=Ai(4);function Ya(e,t,n,r,i,o){const s=(t-o)*(n-i),u=(e-i)*(r-o),l=s-u;if(s===0||u===0||s>0!=u>0)return l;const c=Math.abs(s+u);return Math.abs(l)>=33306690738754716e-32*c?l:-function(h,_,m,M,I,k,O){let C,R,D,L,j,B,W,te,Q,G,V,K,re,U,X,ee,ae,fe;const de=h-I,be=m-I,pe=_-k,we=M-k;U=de*we,B=_t*de,W=B-(B-de),te=de-W,B=_t*we,Q=B-(B-we),G=we-Q,X=te*G-(U-W*Q-te*Q-W*G),ee=pe*be,B=_t*pe,W=B-(B-pe),te=pe-W,B=_t*be,Q=B-(B-be),G=be-Q,ae=te*G-(ee-W*Q-te*Q-W*G),V=X-ae,j=X-V,Br[0]=X-(V+j)+(j-ae),K=U+V,j=K-U,re=U-(K-j)+(V-j),V=re-ee,j=re-V,Br[1]=re-(V+j)+(j-ee),fe=K+V,j=fe-K,Br[2]=K-(fe-j)+(V-j),Br[3]=fe;let Ie=function(st,Gt){let sn=Gt[0];for(let Fn=1;Fn<st;Fn++)sn+=Gt[Fn];return sn}(4,Br),Se=um*O;if(Ie>=Se||-Ie>=Se||(j=h-de,C=h-(de+j)+(j-I),j=m-be,D=m-(be+j)+(j-I),j=_-pe,R=_-(pe+j)+(j-k),j=M-we,L=M-(we+j)+(j-k),C===0&&R===0&&D===0&&L===0)||(Se=cm*O+sm*Math.abs(Ie),Ie+=de*L+we*C-(pe*D+be*R),Ie>=Se||-Ie>=Se))return Ie;U=C*we,B=_t*C,W=B-(B-C),te=C-W,B=_t*we,Q=B-(B-we),G=we-Q,X=te*G-(U-W*Q-te*Q-W*G),ee=R*be,B=_t*R,W=B-(B-R),te=R-W,B=_t*be,Q=B-(B-be),G=be-Q,ae=te*G-(ee-W*Q-te*Q-W*G),V=X-ae,j=X-V,Et[0]=X-(V+j)+(j-ae),K=U+V,j=K-U,re=U-(K-j)+(V-j),V=re-ee,j=re-V,Et[1]=re-(V+j)+(j-ee),fe=K+V,j=fe-K,Et[2]=K-(fe-j)+(V-j),Et[3]=fe;const ke=mu(4,Br,4,Et,Qf);U=de*L,B=_t*de,W=B-(B-de),te=de-W,B=_t*L,Q=B-(B-L),G=L-Q,X=te*G-(U-W*Q-te*Q-W*G),ee=pe*D,B=_t*pe,W=B-(B-pe),te=pe-W,B=_t*D,Q=B-(B-D),G=D-Q,ae=te*G-(ee-W*Q-te*Q-W*G),V=X-ae,j=X-V,Et[0]=X-(V+j)+(j-ae),K=U+V,j=K-U,re=U-(K-j)+(V-j),V=re-ee,j=re-V,Et[1]=re-(V+j)+(j-ee),fe=K+V,j=fe-K,Et[2]=K-(fe-j)+(V-j),Et[3]=fe;const Je=mu(ke,Qf,4,Et,Jf);U=C*L,B=_t*C,W=B-(B-C),te=C-W,B=_t*L,Q=B-(B-L),G=L-Q,X=te*G-(U-W*Q-te*Q-W*G),ee=R*D,B=_t*R,W=B-(B-R),te=R-W,B=_t*D,Q=B-(B-D),G=D-Q,ae=te*G-(ee-W*Q-te*Q-W*G),V=X-ae,j=X-V,Et[0]=X-(V+j)+(j-ae),K=U+V,j=K-U,re=U-(K-j)+(V-j),V=re-ee,j=re-V,Et[1]=re-(V+j)+(j-ee),fe=K+V,j=fe-K,Et[2]=K-(fe-j)+(V-j),Et[3]=fe;const Re=mu(Je,Jf,4,Et,qf);return qf[Re-1]}(e,t,n,r,i,o,c)}const eh=Math.pow(2,-52),Ka=new Uint32Array(512);class Xa{static from(t,n=hm,r=dm){const i=t.length,o=new Float64Array(2*i);for(let s=0;s<i;s++){const u=t[s];o[2*s]=n(u),o[2*s+1]=r(u)}return new Xa(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let u=1/0,l=1/0,c=-1/0,h=-1/0;for(let G=0;G<s;G++){const V=t[2*G],K=t[2*G+1];V<u&&(u=V),K<l&&(l=K),V>c&&(c=V),K>h&&(h=K),this._ids[G]=G}const _=(u+c)/2,m=(l+h)/2;let M,I,k,O=1/0;for(let G=0;G<s;G++){const V=vu(_,m,t[2*G],t[2*G+1]);V<O&&(M=G,O=V)}const C=t[2*M],R=t[2*M+1];O=1/0;for(let G=0;G<s;G++){if(G===M)continue;const V=vu(C,R,t[2*G],t[2*G+1]);V<O&&V>0&&(I=G,O=V)}let D=t[2*I],L=t[2*I+1],j=1/0;for(let G=0;G<s;G++){if(G===M||G===I)continue;const V=fm(C,R,D,L,t[2*G],t[2*G+1]);V<j&&(k=G,j=V)}let B=t[2*k],W=t[2*k+1];if(j===1/0){for(let K=0;K<s;K++)this._dists[K]=t[2*K]-t[0]||t[2*K+1]-t[1];Ur(this._ids,this._dists,0,s-1);const G=new Uint32Array(s);let V=0;for(let K=0,re=-1/0;K<s;K++){const U=this._ids[K];this._dists[U]>re&&(G[V++]=U,re=this._dists[U])}return this.hull=G.subarray(0,V),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ya(C,R,D,L,B,W)<0){const G=I,V=D,K=L;I=k,D=B,L=W,k=G,B=V,W=K}const te=function(G,V,K,re,U,X){const ee=K-G,ae=re-V,fe=U-G,de=X-V,be=ee*ee+ae*ae,pe=fe*fe+de*de,we=.5/(ee*de-ae*fe),Ie=G+(de*be-ae*pe)*we,Se=V+(ee*pe-fe*be)*we;return{x:Ie,y:Se}}(C,R,D,L,B,W);this._cx=te.x,this._cy=te.y;for(let G=0;G<s;G++)this._dists[G]=vu(t[2*G],t[2*G+1],te.x,te.y);Ur(this._ids,this._dists,0,s-1),this._hullStart=M;let Q=3;r[M]=n[k]=I,r[I]=n[M]=k,r[k]=n[I]=M,i[M]=0,i[I]=1,i[k]=2,o.fill(-1),o[this._hashKey(C,R)]=M,o[this._hashKey(D,L)]=I,o[this._hashKey(B,W)]=k,this.trianglesLen=0,this._addTriangle(M,I,k,-1,-1,-1);for(let G,V,K=0;K<this._ids.length;K++){const re=this._ids[K],U=t[2*re],X=t[2*re+1];if(K>0&&Math.abs(U-G)<=eh&&Math.abs(X-V)<=eh||(G=U,V=X,re===M||re===I||re===k))continue;let ee=0;for(let pe=0,we=this._hashKey(U,X);pe<this._hashSize&&(ee=o[(we+pe)%this._hashSize],ee===-1||ee===r[ee]);pe++);ee=n[ee];let ae,fe=ee;for(;ae=r[fe],Ya(U,X,t[2*fe],t[2*fe+1],t[2*ae],t[2*ae+1])>=0;)if(fe=ae,fe===ee){fe=-1;break}if(fe===-1)continue;let de=this._addTriangle(fe,re,r[fe],-1,-1,i[fe]);i[re]=this._legalize(de+2),i[fe]=de,Q++;let be=r[fe];for(;ae=r[be],Ya(U,X,t[2*be],t[2*be+1],t[2*ae],t[2*ae+1])<0;)de=this._addTriangle(be,re,ae,i[re],-1,i[be]),i[re]=this._legalize(de+2),r[be]=be,Q--,be=ae;if(fe===ee)for(;ae=n[fe],Ya(U,X,t[2*ae],t[2*ae+1],t[2*fe],t[2*fe+1])<0;)de=this._addTriangle(ae,re,fe,-1,i[fe],i[ae]),this._legalize(de+2),i[ae]=de,r[fe]=fe,Q--,fe=ae;this._hullStart=n[re]=fe,r[fe]=n[be]=re,r[re]=be,o[this._hashKey(U,X)]=re,o[this._hashKey(t[2*fe],t[2*fe+1])]=fe}this.hull=new Uint32Array(Q);for(let G=0,V=this._hullStart;G<Q;G++)this.hull[G]=V,V=r[V];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(r,i){const o=r/(Math.abs(r)+Math.abs(i));return(i>0?3-o:1+o)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const u=r[t],l=t-t%3;if(s=l+(t+2)%3,u===-1){if(o===0)break;t=Ka[--o];continue}const c=u-u%3,h=l+(t+1)%3,_=c+(u+2)%3,m=n[s],M=n[t],I=n[h],k=n[_];if(lm(i[2*m],i[2*m+1],i[2*M],i[2*M+1],i[2*I],i[2*I+1],i[2*k],i[2*k+1])){n[t]=k,n[u]=m;const O=r[_];if(O===-1){let R=this._hullStart;do{if(this._hullTri[R]===_){this._hullTri[R]=t;break}R=this._hullPrev[R]}while(R!==this._hullStart)}this._link(t,O),this._link(u,r[s]),this._link(s,_);const C=c+(u+1)%3;o<Ka.length&&(Ka[o++]=C)}else{if(o===0)break;t=Ka[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,o),this._link(u+2,s),this.trianglesLen+=3,u}}function vu(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function lm(e,t,n,r,i,o,s,u){const l=e-s,c=t-u,h=n-s,_=r-u,m=i-s,M=o-u,I=h*h+_*_,k=m*m+M*M;return l*(_*k-I*M)-c*(h*k-I*m)+(l*l+c*c)*(h*M-_*m)<0}function fm(e,t,n,r,i,o){const s=n-e,u=r-t,l=i-e,c=o-t,h=s*s+u*u,_=l*l+c*c,m=.5/(s*c-u*l),M=(c*h-u*_)*m,I=(s*_-l*h)*m;return M*M+I*I}function Ur(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let u=i-1;for(;u>=n&&t[e[u]]>s;)e[u+1]=e[u--];e[u+1]=o}else{let i=n+1,o=r;Mi(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Mi(e,n,r),t[e[i]]>t[e[r]]&&Mi(e,i,r),t[e[n]]>t[e[i]]&&Mi(e,n,i);const s=e[i],u=t[s];for(;;){do i++;while(t[e[i]]<u);do o--;while(t[e[o]]>u);if(o<i)break;Mi(e,i,o)}e[n+1]=e[o],e[o]=s,r-i+1>=o-n?(Ur(e,t,i,r),Ur(e,t,n,o-1)):(Ur(e,t,n,o-1),Ur(e,t,i,r))}}function Mi(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hm(e){return e[0]}function dm(e){return e[1]}const th=1e-6;class pr{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){const i=(t=+t)+(r=+r),o=n=+n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>th||Math.abs(this._y1-o)>th)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class bu{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class nh{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n)&&(o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const u=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let k,O,C=0,R=0,D=r.length;C<D;C+=3,R+=2){const L=2*r[C],j=2*r[C+1],B=2*r[C+2],W=t[L],te=t[L+1],Q=t[j],G=t[j+1],V=t[B],K=t[B+1],re=Q-W,U=G-te,X=V-W,ee=K-te,ae=2*(re*ee-U*X);if(Math.abs(ae)<1e-9){if(o===void 0){o=s=0;for(const de of n)o+=t[2*de],s+=t[2*de+1];o/=n.length,s/=n.length}const fe=1e9*Math.sign((o-W)*ee-(s-te)*X);k=(W+V)/2-fe*ee,O=(te+K)/2+fe*X}else{const fe=1/ae,de=re*re+U*U,be=X*X+ee*ee;k=W+(ee*de-U*be)*fe,O=te+(re*be-X*de)*fe}u[R]=k,u[R+1]=O}let l,c,h,_=n[n.length-1],m=4*_,M=t[2*_],I=t[2*_+1];i.fill(0);for(let k=0;k<n.length;++k)_=n[k],l=m,c=M,h=I,m=4*_,M=t[2*_],I=t[2*_+1],i[l+2]=i[m]=h-I,i[l+3]=i[m+1]=M-c}render(t){const n=t==null?t=new pr:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:u}=this;if(o.length<=1)return null;for(let h=0,_=r.length;h<_;++h){const m=r[h];if(m<h)continue;const M=2*Math.floor(h/3),I=2*Math.floor(m/3),k=s[M],O=s[M+1],C=s[I],R=s[I+1];this._renderSegment(k,O,C,R,t)}let l,c=o[o.length-1];for(let h=0;h<o.length;++h){l=c,c=o[h];const _=2*Math.floor(i[c]/3),m=s[_],M=s[_+1],I=4*l,k=this._project(m,M,u[I+2],u[I+3]);k&&this._renderSegment(m,M,k[0],k[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new pr:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new pr:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)i[s]===i[s-2]&&i[s+1]===i[s-1]||n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new bu;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const u=this._regioncode(t,n),l=this._regioncode(r,i);u===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,u,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return(n=+n)==n&&(r=+r)==r&&this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let u=0,l=i.length;u<l;u+=2)if(n[o]===i[u]&&n[o+1]===i[u+1]&&n[(o+2)%s]===i[(u+l-2)%l]&&n[(o+3)%s]===i[(u+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const u=[];let l=s;do{const c=Math.floor(l/3);if(u.push(n[2*c],n[2*c+1]),l=l%3==2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return u}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=4*t;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i,o,s,u,l=null,c=n[r-2],h=n[r-1],_=this._regioncode(c,h),m=0;for(let M=0;M<r;M+=2)if(i=c,o=h,c=n[M],h=n[M+1],s=_,_=this._regioncode(c,h),s===0&&_===0)u=m,m=0,l?l.push(c,h):l=[c,h];else{let I,k,O,C,R;if(s===0){if((I=this._clipSegment(i,o,c,h,s,_))===null)continue;[k,O,C,R]=I}else{if((I=this._clipSegment(c,h,i,o,_,s))===null)continue;[C,R,k,O]=I,u=m,m=this._edgecode(k,O),u&&m&&this._edge(t,u,m,l,l.length),l?l.push(k,O):l=[k,O]}u=m,m=this._edgecode(C,R),u&&m&&this._edge(t,u,m,l,l.length),l?l.push(C,R):l=[C,R]}if(l)u=m,m=this._edgecode(l[0],l[1]),u&&m&&this._edge(t,u,m,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,n,r,i,o,s){const u=o<s;for(u&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return u?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,c,h=o||s;8&h?(l=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):4&h?(l=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):2&h?(c=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=c,o=this._regioncode(t,n)):(r=l,i=c,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let u,l=Array.from(n);if((u=this._project(l[0],l[1],r,i))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],o,s))&&l.push(u[0],u[1]),l=this._clipFinite(t,l))for(let c,h=0,_=l.length,m=this._edgecode(l[_-2],l[_-1]);h<_;h+=2)c=m,m=this._edgecode(l[h],l[h+1]),c&&m&&(h=this._edge(t,c,m,l,h),_=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,n,r,i,o){for(;n!==r;){let s,u;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,u=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,u=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,u=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,u=this.ymin}i[o]===s&&i[o+1]===u||!this.contains(t,s,u)||(i.splice(o,0,s,u),o+=2)}return o}_project(t,n,r,i){let o,s,u,l=1/0;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<l&&(u=this.ymin,s=t+(l=o)*r)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<l&&(u=this.ymax,s=t+(l=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<l&&(s=this.xmax,u=n+(l=o)*i)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<l&&(s=this.xmin,u=n+(l=o)*i)}return[s,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}}const pm=2*Math.PI,zr=Math.pow;function gm(e){return e[0]}function ym(e){return e[1]}function mm(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class _u{static from(t,n=gm,r=ym,i){return new _u("length"in t?function(o,s,u,l){const c=o.length,h=new Float64Array(2*c);for(let _=0;_<c;++_){const m=o[_];h[2*_]=s.call(l,m,_,o),h[2*_+1]=u.call(l,m,_,o)}return h}(t,n,r,i):Float64Array.from(function*(o,s,u,l){let c=0;for(const h of o)yield s.call(l,h,c,o),yield u.call(l,h,c,o),++c}(t,n,r,i)))}constructor(t){this._delaunator=new Xa(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(l){const{triangles:c,coords:h}=l;for(let _=0;_<c.length;_+=3){const m=2*c[_],M=2*c[_+1],I=2*c[_+2];if((h[I]-h[m])*(h[M+1]-h[m+1])-(h[M]-h[m])*(h[I+1]-h[m+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(m,M)=>M).sort((m,M)=>n[2*m]-n[2*M]||n[2*m+1]-n[2*M+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],h=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],_=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let m=0,M=n.length/2;m<M;++m){const I=mm(n[2*m],n[2*m+1],_);n[2*m]=I[0],n[2*m+1]=I[1]}this._delaunator=new Xa(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const h=o[l%3==2?l-2:l+1];r[l]!==-1&&s[h]!==-1||(s[h]=l)}for(let l=0,c=i.length;l<c;++l)u[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new nh(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:u}=this;if(u){const _=u.indexOf(t);return _>0&&(yield u[_-1]),void(_<u.length-1&&(yield u[_+1]))}const l=n[t];if(l===-1)return;let c=l,h=-1;do{if(yield h=s[c],c=c%3==2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){const _=r[(i[t]+1)%r.length];return void(_!==h&&(yield _))}}while(c!==l)}find(t,n,r=0){if((t=+t)!=t||(n=+n)!=n)return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:u,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let h=t,_=zr(n-c[2*t],2)+zr(r-c[2*t+1],2);const m=i[t];let M=m;do{let I=l[M];const k=zr(n-c[2*I],2)+zr(r-c[2*I+1],2);if(k<_&&(_=k,h=I),M=M%3==2?M-2:M+1,l[M]!==t)break;if(M=u[M],M===-1){if(M=o[(s[t]+1)%o.length],M!==I&&zr(n-c[2*M],2)+zr(r-c[2*M+1],2)<_)return M;break}}while(M!==m);return h}render(t){const n=t==null?t=new pr:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,u=i.length;s<u;++s){const l=i[s];if(l<s)continue;const c=2*o[s],h=2*o[l];t.moveTo(r[c],r[c+1]),t.lineTo(r[h],r[h+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n!==void 0||t&&typeof t.moveTo=="function"||(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new pr:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const u=i[o],l=i[o+1];t.moveTo(u+n,l),t.arc(u,l,n,0,pm)}return r&&r.value()}renderHull(t){const n=t==null?t=new pr:void 0,{hull:r,points:i}=this,o=2*r[0],s=r.length;t.moveTo(i[o],i[o+1]);for(let u=1;u<s;++u){const l=2*r[u];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new bu;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new pr:void 0,{points:i,triangles:o}=this,s=2*o[t*=3],u=2*o[t+1],l=2*o[t+2];return n.moveTo(i[s],i[s+1]),n.lineTo(i[u],i[u+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new bu;return this.renderTriangle(t,n),n.value()}}var rh={},xu={},wu=34,Ei=10,Au=13;function ih(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function ah(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Rt(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function vm(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+Rt(-t,6):t>9999?"+"+Rt(t,6):Rt(t,4))+"-"+Rt(e.getUTCMonth()+1,2)+"-"+Rt(e.getUTCDate(),2)+(o?"T"+Rt(n,2)+":"+Rt(r,2)+":"+Rt(i,2)+"."+Rt(o,3)+"Z":i?"T"+Rt(n,2)+":"+Rt(r,2)+":"+Rt(i,2)+"Z":r||n?"T"+Rt(n,2)+":"+Rt(r,2)+"Z":"")}function Wa(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(u,l){var c,h=[],_=u.length,m=0,M=0,I=_<=0,k=!1;function O(){if(I)return xu;if(k)return k=!1,rh;var R,D,L=m;if(u.charCodeAt(L)===wu){for(;m++<_&&u.charCodeAt(m)!==wu||u.charCodeAt(++m)===wu;);return(R=m)>=_?I=!0:(D=u.charCodeAt(m++))===Ei?k=!0:D===Au&&(k=!0,u.charCodeAt(m)===Ei&&++m),u.slice(L+1,R-1).replace(/""/g,'"')}for(;m<_;){if((D=u.charCodeAt(R=m++))===Ei)k=!0;else if(D===Au)k=!0,u.charCodeAt(m)===Ei&&++m;else if(D!==n)continue;return u.slice(L,R)}return I=!0,u.slice(L,_)}for(u.charCodeAt(_-1)===Ei&&--_,u.charCodeAt(_-1)===Au&&--_;(c=O())!==xu;){for(var C=[];c!==rh&&c!==xu;)C.push(c),c=O();l&&(C=l(C,M++))==null||h.push(C)}return h}function i(u,l){return u.map(function(c){return l.map(function(h){return s(c[h])}).join(e)})}function o(u){return u.map(s).join(e)}function s(u){return u==null?"":u instanceof Date?vm(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:function(u,l){var c,h,_=r(u,function(m,M){if(c)return c(m,M-1);h=m,c=l?function(I,k){var O=ih(I);return function(C,R){return k(O(C),R,I)}}(m,l):ih(m)});return _.columns=h||[],_},parseRows:r,format:function(u,l){return l==null&&(l=ah(u)),[l.map(s).join(e)].concat(i(u,l)).join(`
`)},formatBody:function(u,l){return l==null&&(l=ah(u)),i(u,l).join(`
`)},formatRows:function(u){return u.map(o).join(`
`)},formatRow:o,formatValue:s}}var gr=Wa(","),oh=gr.parse,bm=gr.parseRows,_m=gr.format,xm=gr.formatBody,wm=gr.formatRows,Am=gr.formatRow,Mm=gr.formatValue,yr=Wa("	"),sh=yr.parse,Em=yr.parseRows,Sm=yr.format,Tm=yr.formatBody,km=yr.formatRows,Cm=yr.formatRow,Nm=yr.formatValue;const Im=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Om(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Lm(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Pm(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Za(e,t){return fetch(e,t).then(Pm)}function uh(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Za(t,n).then(function(i){return e(i,r)})}}var Dm=uh(oh),Rm=uh(sh);function Fm(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(e.status!==204&&e.status!==205)return e.json()}function Mu(e){return(t,n)=>Za(t,n).then(r=>new DOMParser().parseFromString(r,e))}var jm=Mu("application/xml"),Bm=Mu("text/html"),Um=Mu("image/svg+xml");function ch(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,s,u,l,c,h,_,m,M=e._root,I={data:r},k=e._x0,O=e._y0,C=e._x1,R=e._y1;if(!M)return e._root=I,e;for(;M.length;)if((c=t>=(o=(k+C)/2))?k=o:C=o,(h=n>=(s=(O+R)/2))?O=s:R=s,i=M,!(M=M[_=h<<1|c]))return i[_]=I,e;if(u=+e._x.call(null,M.data),l=+e._y.call(null,M.data),t===u&&n===l)return I.next=M,i?i[_]=I:e._root=I,e;do i=i?i[_]=new Array(4):e._root=new Array(4),(c=t>=(o=(k+C)/2))?k=o:C=o,(h=n>=(s=(O+R)/2))?O=s:R=s;while((_=h<<1|c)==(m=(l>=s)<<1|u>=o));return i[m]=M,i[_]=I,e}function St(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function zm(e){return e[0]}function Hm(e){return e[1]}function Qa(e,t,n){var r=new Eu(t??zm,n??Hm,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Eu(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function lh(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Tt=Qa.prototype=Eu.prototype;function ft(e){return function(){return e}}function Vn(e){return 1e-6*(e()-.5)}function Gm(e){return e.x+e.vx}function $m(e){return e.y+e.vy}function Vm(e){return e.index}function fh(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}Tt.copy=function(){var e,t,n=new Eu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=lh(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=lh(t));return n},Tt.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return ch(this.cover(t,n),t,n,e)},Tt.addAll=function(e){var t,n,r,i,o=e.length,s=new Array(o),u=new Array(o),l=1/0,c=1/0,h=-1/0,_=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,u[n]=i,r<l&&(l=r),r>h&&(h=r),i<c&&(c=i),i>_&&(_=i));if(l>h||c>_)return this;for(this.cover(l,c).cover(h,_),n=0;n<o;++n)ch(this,s[n],u[n],e[n]);return this},Tt.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s,u,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,(s=new Array(4))[u]=c,c=s,l*=2,u){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Tt.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},Tt.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Tt.find=function(e,t,n){var r,i,o,s,u,l,c,h=this._x0,_=this._y0,m=this._x1,M=this._y1,I=[],k=this._root;for(k&&I.push(new St(k,h,_,m,M)),n==null?n=1/0:(h=e-n,_=t-n,m=e+n,M=t+n,n*=n);l=I.pop();)if(!(!(k=l.node)||(i=l.x0)>m||(o=l.y0)>M||(s=l.x1)<h||(u=l.y1)<_))if(k.length){var O=(i+s)/2,C=(o+u)/2;I.push(new St(k[3],O,C,s,u),new St(k[2],i,C,O,u),new St(k[1],O,o,s,C),new St(k[0],i,o,O,C)),(c=(t>=C)<<1|e>=O)&&(l=I[I.length-1],I[I.length-1]=I[I.length-1-c],I[I.length-1-c]=l)}else{var R=e-+this._x.call(null,k.data),D=t-+this._y.call(null,k.data),L=R*R+D*D;if(L<n){var j=Math.sqrt(n=L);h=e-j,_=t-j,m=e+j,M=t+j,r=k.data}}return r},Tt.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,o,s,u,l,c,h,_,m,M=this._root,I=this._x0,k=this._y0,O=this._x1,C=this._y1;if(!M)return this;if(M.length)for(;;){if((c=o>=(u=(I+O)/2))?I=u:O=u,(h=s>=(l=(k+C)/2))?k=l:C=l,t=M,!(M=M[_=h<<1|c]))return this;if(!M.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(n=t,m=_)}for(;M.data!==e;)if(r=M,!(M=M.next))return this;return(i=M.next)&&delete M.next,r?(i?r.next=i:delete r.next,this):t?(i?t[_]=i:delete t[_],(M=t[0]||t[1]||t[2]||t[3])&&M===(t[3]||t[2]||t[1]||t[0])&&!M.length&&(n?n[m]=M:this._root=M),this):(this._root=i,this)},Tt.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Tt.root=function(){return this._root},Tt.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},Tt.visit=function(e){var t,n,r,i,o,s,u=[],l=this._root;for(l&&u.push(new St(l,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,s=t.y1)&&l.length){var c=(r+o)/2,h=(i+s)/2;(n=l[3])&&u.push(new St(n,c,h,o,s)),(n=l[2])&&u.push(new St(n,r,h,c,s)),(n=l[1])&&u.push(new St(n,c,i,o,h)),(n=l[0])&&u.push(new St(n,r,i,c,h))}return this},Tt.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new St(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,s=t.x0,u=t.y0,l=t.x1,c=t.y1,h=(s+l)/2,_=(u+c)/2;(o=i[0])&&n.push(new St(o,s,u,h,_)),(o=i[1])&&n.push(new St(o,h,u,l,_)),(o=i[2])&&n.push(new St(o,s,_,h,c)),(o=i[3])&&n.push(new St(o,h,_,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Tt.x=function(e){return arguments.length?(this._x=e,this):this._x},Tt.y=function(e){return arguments.length?(this._y=e,this):this._y};const Ym=1664525,Km=1013904223,hh=4294967296;function Xm(e){return e.x}function Wm(e){return e.y}var Zm=Math.PI*(3-Math.sqrt(5));function Ja(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hr(e){return(e=Ja(Math.abs(e)))?e[1]:NaN}var dh,Qm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gr(e){if(!(t=Qm.exec(e)))throw new Error("invalid format: "+e);var t;return new qa({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function qa(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}function ph(e,t){var n=Ja(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Gr.prototype=qa.prototype,qa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var gh={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ph(100*e,t),r:ph,s:function(e,t){var n=Ja(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(dh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ja(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yh(e){return e}var eo,mh=Array.prototype.map,vh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bh(e){var t,n,r=e.grouping===void 0||e.thousands===void 0?yh:(t=mh.call(e.grouping,Number),n=e.thousands+"",function(m,M){for(var I=m.length,k=[],O=0,C=t[0],R=0;I>0&&C>0&&(R+C+1>M&&(C=Math.max(1,M-R)),k.push(m.substring(I-=C,I+C)),!((R+=C+1)>M));)C=t[O=(O+1)%t.length];return k.reverse().join(n)}),i=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?yh:function(m){return function(M){return M.replace(/[0-9]/g,function(I){return m[+I]})}}(mh.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function _(m){var M=(m=Gr(m)).fill,I=m.align,k=m.sign,O=m.symbol,C=m.zero,R=m.width,D=m.comma,L=m.precision,j=m.trim,B=m.type;B==="n"?(D=!0,B="g"):gh[B]||(L===void 0&&(L=12),j=!0,B="g"),(C||M==="0"&&I==="=")&&(C=!0,M="0",I="=");var W=O==="$"?i:O==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",te=O==="$"?o:/[%p]/.test(B)?l:"",Q=gh[B],G=/[defgprs%]/.test(B);function V(K){var re,U,X,ee=W,ae=te;if(B==="c")ae=Q(K)+ae,K="";else{var fe=(K=+K)<0||1/K<0;if(K=isNaN(K)?h:Q(Math.abs(K),L),j&&(K=function(pe){e:for(var we,Ie=pe.length,Se=1,ke=-1;Se<Ie;++Se)switch(pe[Se]){case".":ke=we=Se;break;case"0":ke===0&&(ke=Se),we=Se;break;default:if(!+pe[Se])break e;ke>0&&(ke=0)}return ke>0?pe.slice(0,ke)+pe.slice(we+1):pe}(K)),fe&&+K==0&&k!=="+"&&(fe=!1),ee=(fe?k==="("?k:c:k==="-"||k==="("?"":k)+ee,ae=(B==="s"?vh[8+dh/3]:"")+ae+(fe&&k==="("?")":""),G){for(re=-1,U=K.length;++re<U;)if(48>(X=K.charCodeAt(re))||X>57){ae=(X===46?s+K.slice(re+1):K.slice(re))+ae,K=K.slice(0,re);break}}}D&&!C&&(K=r(K,1/0));var de=ee.length+K.length+ae.length,be=de<R?new Array(R-de+1).join(M):"";switch(D&&C&&(K=r(be+K,be.length?R-ae.length:1/0),be=""),I){case"<":K=ee+K+ae+be;break;case"=":K=ee+be+K+ae;break;case"^":K=be.slice(0,de=be.length>>1)+ee+K+ae+be.slice(de);break;default:K=be+ee+K+ae}return u(K)}return L=L===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L)),V.toString=function(){return m+""},V}return{format:_,formatPrefix:function(m,M){var I=_(((m=Gr(m)).type="f",m)),k=3*Math.max(-8,Math.min(8,Math.floor(Hr(M)/3))),O=Math.pow(10,-k),C=vh[8+k/3];return function(R){return I(O*R)+C}}}}function _h(e){return eo=bh(e),a.format=eo.format,a.formatPrefix=eo.formatPrefix,eo}function xh(e){return Math.max(0,-Hr(Math.abs(e)))}function wh(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Hr(t)/3)))-Hr(Math.abs(e)))}function Ah(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hr(t)-Hr(e))+1}a.format=void 0,a.formatPrefix=void 0,_h({thousands:",",grouping:[3],currency:["$",""]});var Ne=1e-6,to=1e-12,ze=Math.PI,at=ze/2,no=ze/4,kt=2*ze,qe=180/ze,Ce=ze/180,He=Math.abs,$r=Math.atan,Ct=Math.atan2,Te=Math.cos,ro=Math.ceil,Mh=Math.exp,Su=Math.hypot,io=Math.log,Tu=Math.pow,Ee=Math.sin,Yt=Math.sign||function(e){return e>0?1:e<0?-1:0},pt=Math.sqrt,ku=Math.tan;function Eh(e){return e>1?0:e<-1?ze:Math.acos(e)}function Nt(e){return e>1?at:e<-1?-at:Math.asin(e)}function Sh(e){return(e=Ee(e/2))*e}function nt(){}function ao(e,t){e&&kh.hasOwnProperty(e.type)&&kh[e.type](e,t)}var Th={Feature:function(e,t){ao(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ao(n[r].geometry,t)}},kh={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Cu(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cu(n[r],t,0)},Polygon:function(e,t){Ch(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ch(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ao(n[r],t)}};function Cu(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Ch(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Cu(e[n],t,1);t.polygonEnd()}function rn(e,t){e&&Th.hasOwnProperty(e.type)?Th[e.type](e,t):ao(e,t)}var Nh,Ih,Nu,Iu,Ou,rt,Ft,ot,zt,mr,Oh,Lh,Vr,Si,Yn,Nn,oo=new oe,so=new oe,mn={point:nt,lineStart:nt,lineEnd:nt,polygonStart:function(){oo=new oe,mn.lineStart=Jm,mn.lineEnd=qm},polygonEnd:function(){var e=+oo;so.add(e<0?kt+e:e),this.lineStart=this.lineEnd=this.point=nt},sphere:function(){so.add(kt)}};function Jm(){mn.point=ev}function qm(){Ph(Nh,Ih)}function ev(e,t){mn.point=Ph,Nh=e,Ih=t,Nu=e*=Ce,Iu=Te(t=(t*=Ce)/2+no),Ou=Ee(t)}function Ph(e,t){var n=(e*=Ce)-Nu,r=n>=0?1:-1,i=r*n,o=Te(t=(t*=Ce)/2+no),s=Ee(t),u=Ou*s,l=Iu*o+u*Te(i),c=u*r*Ee(i);oo.add(Ct(c,l)),Nu=e,Iu=o,Ou=s}function uo(e){return[Ct(e[1],e[0]),Nt(e[2])]}function vr(e){var t=e[0],n=e[1],r=Te(n);return[r*Te(t),r*Ee(t),Ee(n)]}function co(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Yr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Lu(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function lo(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function fo(e){var t=pt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Ti,ho,po,go,yo,mo,vo,bo,Pu,Du,Ru,Dh,Rh,It,Ot,Lt,In={point:Fu,lineStart:jh,lineEnd:Bh,polygonStart:function(){In.point=Uh,In.lineStart=tv,In.lineEnd=nv,Si=new oe,mn.polygonStart()},polygonEnd:function(){mn.polygonEnd(),In.point=Fu,In.lineStart=jh,In.lineEnd=Bh,oo<0?(rt=-(ot=180),Ft=-(zt=90)):Si>Ne?zt=90:Si<-1e-6&&(Ft=-90),Nn[0]=rt,Nn[1]=ot},sphere:function(){rt=-(ot=180),Ft=-(zt=90)}};function Fu(e,t){Yn.push(Nn=[rt=e,ot=e]),t<Ft&&(Ft=t),t>zt&&(zt=t)}function Fh(e,t){var n=vr([e*Ce,t*Ce]);if(Vr){var r=Yr(Vr,n),i=Yr([r[1],-r[0],0],r);fo(i),i=uo(i);var o,s=e-mr,u=s>0?1:-1,l=i[0]*qe*u,c=He(s)>180;c^(u*mr<l&&l<u*e)?(o=i[1]*qe)>zt&&(zt=o):c^(u*mr<(l=(l+360)%360-180)&&l<u*e)?(o=-i[1]*qe)<Ft&&(Ft=o):(t<Ft&&(Ft=t),t>zt&&(zt=t)),c?e<mr?Ht(rt,e)>Ht(rt,ot)&&(ot=e):Ht(e,ot)>Ht(rt,ot)&&(rt=e):ot>=rt?(e<rt&&(rt=e),e>ot&&(ot=e)):e>mr?Ht(rt,e)>Ht(rt,ot)&&(ot=e):Ht(e,ot)>Ht(rt,ot)&&(rt=e)}else Yn.push(Nn=[rt=e,ot=e]);t<Ft&&(Ft=t),t>zt&&(zt=t),Vr=n,mr=e}function jh(){In.point=Fh}function Bh(){Nn[0]=rt,Nn[1]=ot,In.point=Fu,Vr=null}function Uh(e,t){if(Vr){var n=e-mr;Si.add(He(n)>180?n+(n>0?360:-360):n)}else Oh=e,Lh=t;mn.point(e,t),Fh(e,t)}function tv(){mn.lineStart()}function nv(){Uh(Oh,Lh),mn.lineEnd(),He(Si)>Ne&&(rt=-(ot=180)),Nn[0]=rt,Nn[1]=ot,Vr=null}function Ht(e,t){return(t-=e)<0?t+360:t}function rv(e,t){return e[0]-t[0]}function zh(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var an={sphere:nt,point:ju,lineStart:Hh,lineEnd:Gh,polygonStart:function(){an.lineStart=ov,an.lineEnd=sv},polygonEnd:function(){an.lineStart=Hh,an.lineEnd=Gh}};function ju(e,t){e*=Ce;var n=Te(t*=Ce);ki(n*Te(e),n*Ee(e),Ee(t))}function ki(e,t,n){++Ti,po+=(e-po)/Ti,go+=(t-go)/Ti,yo+=(n-yo)/Ti}function Hh(){an.point=iv}function iv(e,t){e*=Ce;var n=Te(t*=Ce);It=n*Te(e),Ot=n*Ee(e),Lt=Ee(t),an.point=av,ki(It,Ot,Lt)}function av(e,t){e*=Ce;var n=Te(t*=Ce),r=n*Te(e),i=n*Ee(e),o=Ee(t),s=Ct(pt((s=Ot*o-Lt*i)*s+(s=Lt*r-It*o)*s+(s=It*i-Ot*r)*s),It*r+Ot*i+Lt*o);ho+=s,mo+=s*(It+(It=r)),vo+=s*(Ot+(Ot=i)),bo+=s*(Lt+(Lt=o)),ki(It,Ot,Lt)}function Gh(){an.point=ju}function ov(){an.point=uv}function sv(){$h(Dh,Rh),an.point=ju}function uv(e,t){Dh=e,Rh=t,e*=Ce,t*=Ce,an.point=$h;var n=Te(t);It=n*Te(e),Ot=n*Ee(e),Lt=Ee(t),ki(It,Ot,Lt)}function $h(e,t){e*=Ce;var n=Te(t*=Ce),r=n*Te(e),i=n*Ee(e),o=Ee(t),s=Ot*o-Lt*i,u=Lt*r-It*o,l=It*i-Ot*r,c=Su(s,u,l),h=Nt(c),_=c&&-h/c;Pu.add(_*s),Du.add(_*u),Ru.add(_*l),ho+=h,mo+=h*(It+(It=r)),vo+=h*(Ot+(Ot=i)),bo+=h*(Lt+(Lt=o)),ki(It,Ot,Lt)}function Kr(e){return function(){return e}}function Bu(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return(r=t.invert(r,i))&&e.invert(r[0],r[1])}),n}function Uu(e,t){return He(e)>ze&&(e-=Math.round(e/kt)*kt),[e,t]}function zu(e,t,n){return(e%=kt)?t||n?Bu(Yh(e),Kh(t,n)):Yh(e):t||n?Kh(t,n):Uu}function Vh(e){return function(t,n){return He(t+=e)>ze&&(t-=Math.round(t/kt)*kt),[t,n]}}function Yh(e){var t=Vh(e);return t.invert=Vh(-e),t}function Kh(e,t){var n=Te(e),r=Ee(e),i=Te(t),o=Ee(t);function s(u,l){var c=Te(l),h=Te(u)*c,_=Ee(u)*c,m=Ee(l),M=m*n+h*r;return[Ct(_*i-M*o,h*n-m*r),Nt(M*i+_*o)]}return s.invert=function(u,l){var c=Te(l),h=Te(u)*c,_=Ee(u)*c,m=Ee(l),M=m*i-_*o;return[Ct(_*i+m*o,h*n+M*r),Nt(M*n-h*r)]},s}function Xh(e){function t(n){return(n=e(n[0]*Ce,n[1]*Ce))[0]*=qe,n[1]*=qe,n}return e=zu(e[0]*Ce,e[1]*Ce,e.length>2?e[2]*Ce:0),t.invert=function(n){return(n=e.invert(n[0]*Ce,n[1]*Ce))[0]*=qe,n[1]*=qe,n},t}function Wh(e,t,n,r,i,o){if(n){var s=Te(t),u=Ee(t),l=r*n;i==null?(i=t+r*kt,o=t-l/2):(i=Zh(s,i),o=Zh(s,o),(r>0?i<o:i>o)&&(i+=r*kt));for(var c,h=i;r>0?h>o:h<o;h-=l)c=uo([s,-u*Te(h),-u*Ee(h)]),e.point(c[0],c[1])}}function Zh(e,t){(t=vr(t))[0]-=e,fo(t);var n=Eh(-t[1]);return((-t[2]<0?-n:n)+kt-Ne)%kt}function Qh(){var e,t=[];return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:nt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function _o(e,t){return He(e[0]-t[0])<Ne&&He(e[1]-t[1])<Ne}function xo(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jh(e,t,n,r,i){var o,s,u=[],l=[];if(e.forEach(function(I){if(!((k=I.length-1)<=0)){var k,O,C=I[0],R=I[k];if(_o(C,R)){if(!C[2]&&!R[2]){for(i.lineStart(),o=0;o<k;++o)i.point((C=I[o])[0],C[1]);return void i.lineEnd()}R[0]+=2*Ne}u.push(O=new xo(C,I,null,!0)),l.push(O.o=new xo(C,null,O,!1)),u.push(O=new xo(R,I,null,!1)),l.push(O.o=new xo(R,null,O,!0))}}),u.length){for(l.sort(t),qh(u),qh(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var c,h,_=u[0];;){for(var m=_,M=!0;m.v;)if((m=m.n)===_)return;c=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(M)for(o=0,s=c.length;o<s;++o)i.point((h=c[o])[0],h[1]);else r(m.x,m.n.x,1,i);m=m.n}else{if(M)for(c=m.p.z,o=c.length-1;o>=0;--o)i.point((h=c[o])[0],h[1]);else r(m.x,m.p.x,-1,i);m=m.p}c=(m=m.o).z,M=!M}while(!m.v);i.lineEnd()}}}function qh(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Hu(e){return He(e[0])<=ze?e[0]:Yt(e[0])*((He(e[0])+ze)%kt-ze)}function ed(e,t){var n=Hu(t),r=t[1],i=Ee(r),o=[Ee(n),-Te(n),0],s=0,u=0,l=new oe;i===1?r=at+Ne:i===-1&&(r=-at-Ne);for(var c=0,h=e.length;c<h;++c)if(m=(_=e[c]).length)for(var _,m,M=_[m-1],I=Hu(M),k=M[1]/2+no,O=Ee(k),C=Te(k),R=0;R<m;++R,I=L,O=B,C=W,M=D){var D=_[R],L=Hu(D),j=D[1]/2+no,B=Ee(j),W=Te(j),te=L-I,Q=te>=0?1:-1,G=Q*te,V=G>ze,K=O*B;if(l.add(Ct(K*Q*Ee(G),C*W+K*Te(G))),s+=V?te+Q*kt:te,V^I>=n^L>=n){var re=Yr(vr(M),vr(D));fo(re);var U=Yr(o,re);fo(U);var X=(V^te>=0?-1:1)*Nt(U[2]);(r>X||r===X&&(re[0]||re[1]))&&(u+=V^te>=0?1:-1)}}return(s<-1e-6||s<Ne&&l<-1e-12)^1&u}function td(e,t,n,r){return function(i){var o,s,u,l=t(i),c=Qh(),h=t(c),_=!1,m={point:M,lineStart:k,lineEnd:O,polygonStart:function(){m.point=C,m.lineStart=R,m.lineEnd=D,s=[],o=[]},polygonEnd:function(){m.point=M,m.lineStart=k,m.lineEnd=O,s=fn(s);var L=ed(o,r);s.length?(_||(i.polygonStart(),_=!0),Jh(s,lv,L,n,i)):L&&(_||(i.polygonStart(),_=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),s=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function M(L,j){e(L,j)&&i.point(L,j)}function I(L,j){l.point(L,j)}function k(){m.point=I,l.lineStart()}function O(){m.point=M,l.lineEnd()}function C(L,j){u.push([L,j]),h.point(L,j)}function R(){h.lineStart(),u=[]}function D(){C(u[0][0],u[0][1]),h.lineEnd();var L,j,B,W,te=h.clean(),Q=c.result(),G=Q.length;if(u.pop(),o.push(u),u=null,G)if(1&te){if((j=(B=Q[0]).length-1)>0){for(_||(i.polygonStart(),_=!0),i.lineStart(),L=0;L<j;++L)i.point((W=B[L])[0],W[1]);i.lineEnd()}}else G>1&&2&te&&Q.push(Q.pop().concat(Q.shift())),s.push(Q.filter(cv))}return m}}function cv(e){return e.length>1}function lv(e,t){return((e=e.x)[0]<0?e[1]-at-Ne:at-e[1])-((t=t.x)[0]<0?t[1]-at-Ne:at-t[1])}Uu.invert=Uu;var Gu=td(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var u=o>0?ze:-ze,l=He(o-n);He(l-ze)<Ne?(e.point(n,r=(r+s)/2>0?at:-at),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(o,r),t=0):i!==u&&l>=ze&&(He(n-i)<Ne&&(n-=i*Ne),He(o-u)<Ne&&(o-=u*Ne),r=function(c,h,_,m){var M,I,k=Ee(c-_);return He(k)>Ne?$r((Ee(h)*(I=Te(m))*Ee(_)-Ee(m)*(M=Te(h))*Ee(c))/(M*I*k)):(h+m)/2}(n,r,o,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=o,r=s),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(e==null)i=n*at,r.point(-ze,i),r.point(0,i),r.point(ze,i),r.point(ze,0),r.point(ze,-i),r.point(0,-i),r.point(-ze,-i),r.point(-ze,0),r.point(-ze,i);else if(He(e[0]-t[0])>Ne){var o=e[0]<t[0]?ze:-ze;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-ze,-at]);function nd(e){var t=Te(e),n=6*Ce,r=t>0,i=He(t)>Ne;function o(l,c){return Te(l)*Te(c)>t}function s(l,c,h){var _=[1,0,0],m=Yr(vr(l),vr(c)),M=co(m,m),I=m[0],k=M-I*I;if(!k)return!h&&l;var O=t*M/k,C=-t*I/k,R=Yr(_,m),D=lo(_,O);Lu(D,lo(m,C));var L=R,j=co(D,L),B=co(L,L),W=j*j-B*(co(D,D)-1);if(!(W<0)){var te=pt(W),Q=lo(L,(-j-te)/B);if(Lu(Q,D),Q=uo(Q),!h)return Q;var G,V=l[0],K=c[0],re=l[1],U=c[1];K<V&&(G=V,V=K,K=G);var X=K-V,ee=He(X-ze)<Ne;if(!ee&&U<re&&(G=re,re=U,U=G),ee||X<Ne?ee?re+U>0^Q[1]<(He(Q[0]-V)<Ne?re:U):re<=Q[1]&&Q[1]<=U:X>ze^(V<=Q[0]&&Q[0]<=K)){var ae=lo(L,(-j+te)/B);return Lu(ae,D),[Q,uo(ae)]}}}function u(l,c){var h=r?e:ze-e,_=0;return l<-h?_|=1:l>h&&(_|=2),c<-h?_|=4:c>h&&(_|=8),_}return td(o,function(l){var c,h,_,m,M;return{lineStart:function(){m=_=!1,M=1},point:function(I,k){var O,C=[I,k],R=o(I,k),D=r?R?0:u(I,k):R?u(I+(I<0?ze:-ze),k):0;if(!c&&(m=_=R)&&l.lineStart(),R!==_&&(!(O=s(c,C))||_o(c,O)||_o(C,O))&&(C[2]=1),R!==_)M=0,R?(l.lineStart(),O=s(C,c),l.point(O[0],O[1])):(O=s(c,C),l.point(O[0],O[1],2),l.lineEnd()),c=O;else if(i&&c&&r^R){var L;D&h||!(L=s(C,c,!0))||(M=0,r?(l.lineStart(),l.point(L[0][0],L[0][1]),l.point(L[1][0],L[1][1]),l.lineEnd()):(l.point(L[1][0],L[1][1]),l.lineEnd(),l.lineStart(),l.point(L[0][0],L[0][1],3)))}!R||c&&_o(c,C)||l.point(C[0],C[1]),c=C,_=R,h=D},lineEnd:function(){_&&l.lineEnd(),c=null},clean:function(){return M|(m&&_)<<1}}},function(l,c,h,_){Wh(_,e,n,h,l,c)},r?[0,-e]:[-ze,e-ze])}var $u,Vu,wo,Ao,Mo=1e9,Eo=-1e9;function So(e,t,n,r){function i(c,h){return e<=c&&c<=n&&t<=h&&h<=r}function o(c,h,_,m){var M=0,I=0;if(c==null||(M=s(c,_))!==(I=s(h,_))||l(c,h)<0^_>0)do m.point(M===0||M===3?e:n,M>1?r:t);while((M=(M+_+4)%4)!==I);else m.point(h[0],h[1])}function s(c,h){return He(c[0]-e)<Ne?h>0?0:3:He(c[0]-n)<Ne?h>0?2:1:He(c[1]-t)<Ne?h>0?1:0:h>0?3:2}function u(c,h){return l(c.x,h.x)}function l(c,h){var _=s(c,1),m=s(h,1);return _!==m?_-m:_===0?h[1]-c[1]:_===1?c[0]-h[0]:_===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h,_,m,M,I,k,O,C,R,D,L,j=c,B=Qh(),W={point:te,lineStart:function(){W.point=Q,_&&_.push(m=[]),D=!0,R=!1,O=C=NaN},lineEnd:function(){h&&(Q(M,I),k&&R&&B.rejoin(),h.push(B.result())),W.point=te,R&&j.lineEnd()},polygonStart:function(){j=B,h=[],_=[],L=!0},polygonEnd:function(){var G=function(){for(var re=0,U=0,X=_.length;U<X;++U)for(var ee,ae,fe=_[U],de=1,be=fe.length,pe=fe[0],we=pe[0],Ie=pe[1];de<be;++de)ee=we,ae=Ie,we=(pe=fe[de])[0],Ie=pe[1],ae<=r?Ie>r&&(we-ee)*(r-ae)>(Ie-ae)*(e-ee)&&++re:Ie<=r&&(we-ee)*(r-ae)<(Ie-ae)*(e-ee)&&--re;return re}(),V=L&&G,K=(h=fn(h)).length;(V||K)&&(c.polygonStart(),V&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),K&&Jh(h,u,G,o,c),c.polygonEnd()),j=c,h=_=m=null}};function te(G,V){i(G,V)&&j.point(G,V)}function Q(G,V){var K=i(G,V);if(_&&m.push([G,V]),D)M=G,I=V,k=K,D=!1,K&&(j.lineStart(),j.point(G,V));else if(K&&R)j.point(G,V);else{var re=[O=Math.max(Eo,Math.min(Mo,O)),C=Math.max(Eo,Math.min(Mo,C))],U=[G=Math.max(Eo,Math.min(Mo,G)),V=Math.max(Eo,Math.min(Mo,V))];(function(X,ee,ae,fe,de,be){var pe,we=X[0],Ie=X[1],Se=0,ke=1,Je=ee[0]-we,Re=ee[1]-Ie;if(pe=ae-we,Je||!(pe>0)){if(pe/=Je,Je<0){if(pe<Se)return;pe<ke&&(ke=pe)}else if(Je>0){if(pe>ke)return;pe>Se&&(Se=pe)}if(pe=de-we,Je||!(pe<0)){if(pe/=Je,Je<0){if(pe>ke)return;pe>Se&&(Se=pe)}else if(Je>0){if(pe<Se)return;pe<ke&&(ke=pe)}if(pe=fe-Ie,Re||!(pe>0)){if(pe/=Re,Re<0){if(pe<Se)return;pe<ke&&(ke=pe)}else if(Re>0){if(pe>ke)return;pe>Se&&(Se=pe)}if(pe=be-Ie,Re||!(pe<0)){if(pe/=Re,Re<0){if(pe>ke)return;pe>Se&&(Se=pe)}else if(Re>0){if(pe<Se)return;pe<ke&&(ke=pe)}return Se>0&&(X[0]=we+Se*Je,X[1]=Ie+Se*Re),ke<1&&(ee[0]=we+ke*Je,ee[1]=Ie+ke*Re),!0}}}}})(re,U,e,t,n,r)?(R||(j.lineStart(),j.point(re[0],re[1])),j.point(U[0],U[1]),K||j.lineEnd(),L=!1):K&&(j.lineStart(),j.point(G,V),L=!1)}O=G,C=V,R=K}return W}}var Xr={sphere:nt,point:nt,lineStart:function(){Xr.point=hv,Xr.lineEnd=fv},lineEnd:nt,polygonStart:nt,polygonEnd:nt};function fv(){Xr.point=Xr.lineEnd=nt}function hv(e,t){Vu=e*=Ce,wo=Ee(t*=Ce),Ao=Te(t),Xr.point=dv}function dv(e,t){e*=Ce;var n=Ee(t*=Ce),r=Te(t),i=He(e-Vu),o=Te(i),s=r*Ee(i),u=Ao*n-wo*r*o,l=wo*n+Ao*r*o;$u.add(Ct(pt(s*s+u*u),l)),Vu=e,wo=n,Ao=r}function rd(e){return $u=new oe,rn(e,Xr),+$u}var Yu=[null,null],pv={type:"LineString",coordinates:Yu};function To(e,t){return Yu[0]=e,Yu[1]=t,rd(pv)}var id={Feature:function(e,t){return ko(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(ko(n[r].geometry,t))return!0;return!1}},ad={Sphere:function(){return!0},Point:function(e,t){return od(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(od(n[r],t))return!0;return!1},LineString:function(e,t){return sd(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(sd(n[r],t))return!0;return!1},Polygon:function(e,t){return ud(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(ud(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(ko(n[r],t))return!0;return!1}};function ko(e,t){return!(!e||!ad.hasOwnProperty(e.type))&&ad[e.type](e,t)}function od(e,t){return To(e,t)===0}function sd(e,t){for(var n,r,i,o=0,s=e.length;o<s;o++){if((r=To(e[o],t))===0||o>0&&(i=To(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<to*i)return!0;n=r}return!1}function ud(e,t){return!!ed(e.map(gv),cd(t))}function gv(e){return(e=e.map(cd)).pop(),e}function cd(e){return[e[0]*Ce,e[1]*Ce]}function ld(e,t,n){var r=Qt(e,t-Ne,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function fd(e,t,n){var r=Qt(e,t-Ne,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function hd(){var e,t,n,r,i,o,s,u,l,c,h,_,m=10,M=m,I=90,k=360,O=2.5;function C(){return{type:"MultiLineString",coordinates:R()}}function R(){return Qt(ro(r/I)*I,n,I).map(h).concat(Qt(ro(u/k)*k,s,k).map(_)).concat(Qt(ro(t/m)*m,e,m).filter(function(D){return He(D%I)>Ne}).map(l)).concat(Qt(ro(o/M)*M,i,M).filter(function(D){return He(D%k)>Ne}).map(c))}return C.lines=function(){return R().map(function(D){return{type:"LineString",coordinates:D}})},C.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(_(s).slice(1),h(n).reverse().slice(1),_(u).reverse().slice(1))]}},C.extent=function(D){return arguments.length?C.extentMajor(D).extentMinor(D):C.extentMinor()},C.extentMajor=function(D){return arguments.length?(r=+D[0][0],n=+D[1][0],u=+D[0][1],s=+D[1][1],r>n&&(D=r,r=n,n=D),u>s&&(D=u,u=s,s=D),C.precision(O)):[[r,u],[n,s]]},C.extentMinor=function(D){return arguments.length?(t=+D[0][0],e=+D[1][0],o=+D[0][1],i=+D[1][1],t>e&&(D=t,t=e,e=D),o>i&&(D=o,o=i,i=D),C.precision(O)):[[t,o],[e,i]]},C.step=function(D){return arguments.length?C.stepMajor(D).stepMinor(D):C.stepMinor()},C.stepMajor=function(D){return arguments.length?(I=+D[0],k=+D[1],C):[I,k]},C.stepMinor=function(D){return arguments.length?(m=+D[0],M=+D[1],C):[m,M]},C.precision=function(D){return arguments.length?(O=+D,l=ld(o,i,90),c=fd(t,e,O),h=ld(u,s,90),_=fd(r,n,O),C):O},C.extentMajor([[-180,-90+Ne],[180,90-Ne]]).extentMinor([[-180,-80-Ne],[180,80+Ne]])}var dd,pd,Ku,Xu,Ci=e=>e,Wu=new oe,Zu=new oe,Kn={point:nt,lineStart:nt,lineEnd:nt,polygonStart:function(){Kn.lineStart=yv,Kn.lineEnd=vv},polygonEnd:function(){Kn.lineStart=Kn.lineEnd=Kn.point=nt,Wu.add(He(Zu)),Zu=new oe},result:function(){var e=Wu/2;return Wu=new oe,e}};function yv(){Kn.point=mv}function mv(e,t){Kn.point=gd,dd=Ku=e,pd=Xu=t}function gd(e,t){Zu.add(Xu*e-Ku*t),Ku=e,Xu=t}function vv(){gd(dd,pd)}var yd=Kn,Wr=1/0,Co=Wr,Ni=-Wr,No=Ni,bv={point:function(e,t){e<Wr&&(Wr=e),e>Ni&&(Ni=e),t<Co&&(Co=t),t>No&&(No=t)},lineStart:nt,lineEnd:nt,polygonStart:nt,polygonEnd:nt,result:function(){var e=[[Wr,Co],[Ni,No]];return Ni=No=-(Co=Wr=1/0),e}},md,vd,vn,bn,Io=bv,Qu=0,Ju=0,Ii=0,Oo=0,Lo=0,Zr=0,qu=0,ec=0,Oi=0,on={point:br,lineStart:bd,lineEnd:_d,polygonStart:function(){on.lineStart=wv,on.lineEnd=Av},polygonEnd:function(){on.point=br,on.lineStart=bd,on.lineEnd=_d},result:function(){var e=Oi?[qu/Oi,ec/Oi]:Zr?[Oo/Zr,Lo/Zr]:Ii?[Qu/Ii,Ju/Ii]:[NaN,NaN];return Qu=Ju=Ii=Oo=Lo=Zr=qu=ec=Oi=0,e}};function br(e,t){Qu+=e,Ju+=t,++Ii}function bd(){on.point=_v}function _v(e,t){on.point=xv,br(vn=e,bn=t)}function xv(e,t){var n=e-vn,r=t-bn,i=pt(n*n+r*r);Oo+=i*(vn+e)/2,Lo+=i*(bn+t)/2,Zr+=i,br(vn=e,bn=t)}function _d(){on.point=br}function wv(){on.point=Mv}function Av(){xd(md,vd)}function Mv(e,t){on.point=xd,br(md=vn=e,vd=bn=t)}function xd(e,t){var n=e-vn,r=t-bn,i=pt(n*n+r*r);Oo+=i*(vn+e)/2,Lo+=i*(bn+t)/2,Zr+=i,qu+=(i=bn*e-vn*t)*(vn+e),ec+=i*(bn+t),Oi+=3*i,br(vn=e,bn=t)}var wd=on;function Ad(e){this._context=e}Ad.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,kt)}},result:nt};var tc,Md,Ed,Li,Pi,nc=new oe,Po={point:nt,lineStart:function(){Po.point=Ev},lineEnd:function(){tc&&Sd(Md,Ed),Po.point=nt},polygonStart:function(){tc=!0},polygonEnd:function(){tc=null},result:function(){var e=+nc;return nc=new oe,e}};function Ev(e,t){Po.point=Sd,Md=Li=e,Ed=Pi=t}function Sd(e,t){Li-=e,Pi-=t,nc.add(pt(Li*Li+Pi*Pi)),Li=e,Pi=t}var Td=Po;let kd,Do,Cd,Nd;class Id{constructor(t){this._append=t==null?Od:function(n){const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);if(r>15)return Od;if(r!==kd){const i=10**r;kd=r,Do=function(o){let s=1;this._+=o[0];for(const u=o.length;s<u;++s)this._+=Math.round(arguments[s]*i)/i+o[s]}}return Do}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Cd||this._append!==Do){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Cd=r,Do=this._append,Nd=this._,this._=i}this._+=Nd}}result(){const t=this._;return this._="",t.length?t:null}}function Od(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Di(e){return function(t){var n=new rc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function rc(){}function ic(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),rn(n,e.stream(Io)),t(Io.result()),r!=null&&e.clipExtent(r),e}function Ro(e,t,n){return ic(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([u,l])},n)}function ac(e,t,n){return Ro(e,[[0,0],t],n)}function oc(e,t,n){return ic(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];e.scale(150*o).translate([s,u])},n)}function sc(e,t,n){return ic(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,u])},n)}rc.prototype={constructor:rc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ld=16,Sv=Te(30*Ce);function Pd(e,t){return+t?function(n,r){function i(o,s,u,l,c,h,_,m,M,I,k,O,C,R){var D=_-o,L=m-s,j=D*D+L*L;if(j>4*r&&C--){var B=l+I,W=c+k,te=h+O,Q=pt(B*B+W*W+te*te),G=Nt(te/=Q),V=He(He(te)-1)<Ne||He(u-M)<Ne?(u+M)/2:Ct(W,B),K=n(V,G),re=K[0],U=K[1],X=re-o,ee=U-s,ae=L*X-D*ee;(ae*ae/j>r||He((D*X+L*ee)/j-.5)>.3||l*I+c*k+h*O<Sv)&&(i(o,s,u,l,c,h,re,U,V,B/=Q,W/=Q,te,C,R),R.point(re,U),i(re,U,V,B,W,te,_,m,M,I,k,O,C,R))}}return function(o){var s,u,l,c,h,_,m,M,I,k,O,C,R={point:D,lineStart:L,lineEnd:B,polygonStart:function(){o.polygonStart(),R.lineStart=W},polygonEnd:function(){o.polygonEnd(),R.lineStart=L}};function D(G,V){G=n(G,V),o.point(G[0],G[1])}function L(){M=NaN,R.point=j,o.lineStart()}function j(G,V){var K=vr([G,V]),re=n(G,V);i(M,I,m,k,O,C,M=re[0],I=re[1],m=G,k=K[0],O=K[1],C=K[2],Ld,o),o.point(M,I)}function B(){R.point=D,o.lineEnd()}function W(){L(),R.point=te,R.lineEnd=Q}function te(G,V){j(s=G,V),u=M,l=I,c=k,h=O,_=C,R.point=j}function Q(){i(M,I,m,k,O,C,u,l,s,c,h,_,Ld,o),R.lineEnd=B,B()}return R}}(e,t):function(n){return Di({point:function(r,i){r=n(r,i),this.stream.point(r[0],r[1])}})}(e)}var Tv=Di({point:function(e,t){this.stream.point(e*Ce,t*Ce)}});function Dd(e,t,n,r,i,o){if(!o)return function(k,O,C,R,D){function L(j,B){return[O+k*(j*=R),C-k*(B*=D)]}return L.invert=function(j,B){return[(j-O)/k*R,(C-B)/k*D]},L}(e,t,n,r,i);var s=Te(o),u=Ee(o),l=s*e,c=u*e,h=s/e,_=u/e,m=(u*n-s*t)/e,M=(u*t+s*n)/e;function I(k,O){return[l*(k*=r)-c*(O*=i)+t,n-c*k-l*O]}return I.invert=function(k,O){return[r*(h*k-_*O+m),i*(M-_*k-h*O)]},I}function _n(e){return uc(function(){return e})()}function uc(e){var t,n,r,i,o,s,u,l,c,h,_=150,m=480,M=250,I=0,k=0,O=0,C=0,R=0,D=0,L=1,j=1,B=null,W=Gu,te=null,Q=Ci,G=.5;function V(X){return l(X[0]*Ce,X[1]*Ce)}function K(X){return(X=l.invert(X[0],X[1]))&&[X[0]*qe,X[1]*qe]}function re(){var X=Dd(_,0,0,L,j,D).apply(null,t(I,k)),ee=Dd(_,m-X[0],M-X[1],L,j,D);return n=zu(O,C,R),u=Bu(t,ee),l=Bu(n,u),s=Pd(u,G),U()}function U(){return c=h=null,V}return V.stream=function(X){return c&&h===X?c:c=Tv(function(ee){return Di({point:function(ae,fe){var de=ee(ae,fe);return this.stream.point(de[0],de[1])}})}(n)(W(s(Q(h=X)))))},V.preclip=function(X){return arguments.length?(W=X,B=void 0,U()):W},V.postclip=function(X){return arguments.length?(Q=X,te=r=i=o=null,U()):Q},V.clipAngle=function(X){return arguments.length?(W=+X?nd(B=X*Ce):(B=null,Gu),U()):B*qe},V.clipExtent=function(X){return arguments.length?(Q=X==null?(te=r=i=o=null,Ci):So(te=+X[0][0],r=+X[0][1],i=+X[1][0],o=+X[1][1]),U()):te==null?null:[[te,r],[i,o]]},V.scale=function(X){return arguments.length?(_=+X,re()):_},V.translate=function(X){return arguments.length?(m=+X[0],M=+X[1],re()):[m,M]},V.center=function(X){return arguments.length?(I=X[0]%360*Ce,k=X[1]%360*Ce,re()):[I*qe,k*qe]},V.rotate=function(X){return arguments.length?(O=X[0]%360*Ce,C=X[1]%360*Ce,R=X.length>2?X[2]%360*Ce:0,re()):[O*qe,C*qe,R*qe]},V.angle=function(X){return arguments.length?(D=X%360*Ce,re()):D*qe},V.reflectX=function(X){return arguments.length?(L=X?-1:1,re()):L<0},V.reflectY=function(X){return arguments.length?(j=X?-1:1,re()):j<0},V.precision=function(X){return arguments.length?(s=Pd(u,G=X*X),U()):pt(G)},V.fitExtent=function(X,ee){return Ro(V,X,ee)},V.fitSize=function(X,ee){return ac(V,X,ee)},V.fitWidth=function(X,ee){return oc(V,X,ee)},V.fitHeight=function(X,ee){return sc(V,X,ee)},function(){return t=e.apply(this,arguments),V.invert=t.invert&&K,re()}}function cc(e){var t=0,n=ze/3,r=uc(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Ce,n=o[1]*Ce):[t*qe,n*qe]},i}function Rd(e,t){var n=Ee(e),r=(n+Ee(t))/2;if(He(r)<Ne)return function(u){var l=Te(u);function c(h,_){return[h*l,Ee(_)/l]}return c.invert=function(h,_){return[h/l,Nt(_*l)]},c}(e);var i=1+n*(2*r-n),o=pt(i)/r;function s(u,l){var c=pt(i-2*r*Ee(l))/r;return[c*Ee(u*=r),o-c*Te(u)]}return s.invert=function(u,l){var c=o-l,h=Ct(u,He(c))*Yt(c);return c*r<0&&(h-=ze*Yt(u)*Yt(c)),[h/r,Nt((i-(u*u+c*c)*r*r)/(2*r))]},s}function Fo(){return cc(Rd).scale(155.424).center([0,33.6442])}function Fd(){return Fo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jd(e){return function(t,n){var r=Te(t),i=Te(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Ee(t),o*Ee(n)]}}function Ri(e){return function(t,n){var r=pt(t*t+n*n),i=e(r),o=Ee(i),s=Te(i);return[Ct(t*o,r*s),Nt(r&&n*o/r)]}}var lc=jd(function(e){return pt(2/(1+e))});lc.invert=Ri(function(e){return 2*Nt(e/2)});var fc=jd(function(e){return(e=Eh(e))&&e/Ee(e)});function Fi(e,t){return[e,io(ku((at+t)/2))]}function Bd(e){var t,n,r,i=_n(e),o=i.center,s=i.scale,u=i.translate,l=i.clipExtent,c=null;function h(){var _=ze*s(),m=i(Xh(i.rotate()).invert([0,0]));return l(c==null?[[m[0]-_,m[1]-_],[m[0]+_,m[1]+_]]:e===Fi?[[Math.max(m[0]-_,c),t],[Math.min(m[0]+_,n),r]]:[[c,Math.max(m[1]-_,t)],[n,Math.min(m[1]+_,r)]])}return i.scale=function(_){return arguments.length?(s(_),h()):s()},i.translate=function(_){return arguments.length?(u(_),h()):u()},i.center=function(_){return arguments.length?(o(_),h()):o()},i.clipExtent=function(_){return arguments.length?(_==null?c=t=n=r=null:(c=+_[0][0],t=+_[0][1],n=+_[1][0],r=+_[1][1]),h()):c==null?null:[[c,t],[n,r]]},h()}function jo(e){return ku((at+e)/2)}function Ud(e,t){var n=Te(e),r=e===t?Ee(e):io(n/Te(t))/io(jo(t)/jo(e)),i=n*Tu(jo(e),r)/r;if(!r)return Fi;function o(s,u){i>0?u<-at+Ne&&(u=-at+Ne):u>at-Ne&&(u=at-Ne);var l=i/Tu(jo(u),r);return[l*Ee(r*s),i-l*Te(r*s)]}return o.invert=function(s,u){var l=i-u,c=Yt(r)*pt(s*s+l*l),h=Ct(s,He(l))*Yt(l);return l*r<0&&(h-=ze*Yt(s)*Yt(l)),[h/r,2*$r(Tu(i/c,1/r))-at]},o}function ji(e,t){return[e,t]}function zd(e,t){var n=Te(e),r=e===t?Ee(e):(n-Te(t))/(t-e),i=n/r+e;if(He(r)<Ne)return ji;function o(s,u){var l=i-u,c=r*s;return[l*Ee(c),i-l*Te(c)]}return o.invert=function(s,u){var l=i-u,c=Ct(s,He(l))*Yt(l);return l*r<0&&(c-=ze*Yt(s)*Yt(l)),[c/r,i-Yt(r)*pt(s*s+l*l)]},o}fc.invert=Ri(function(e){return e}),Fi.invert=function(e,t){return[e,2*$r(Mh(t))-at]},ji.invert=ji;var Bi=1.340264,Ui=-.081106,zi=893e-6,Hi=.003796,Bo=pt(3)/2;function hc(e,t){var n=Nt(Bo*Ee(t)),r=n*n,i=r*r*r;return[e*Te(n)/(Bo*(Bi+3*Ui*r+i*(7*zi+9*Hi*r))),n*(Bi+Ui*r+i*(zi+Hi*r))]}function dc(e,t){var n=Te(t),r=Te(e)*n;return[n*Ee(e)/r,Ee(t)/r]}function pc(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function gc(e,t){return[Te(t)*Ee(e),Ee(t)]}function yc(e,t){var n=Te(t),r=1+Te(e)*n;return[n*Ee(e)/r,Ee(t)/r]}function mc(e,t){return[io(ku((at+t)/2)),-e]}function kv(e,t){return e.parent===t.parent?1:2}function Cv(e,t){return e+t.x}function Nv(e,t){return Math.max(e,t.y)}function Iv(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function vc(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Lv)):t===void 0&&(t=Ov);for(var n,r,i,o,s,u=new _r(e),l=[u];n=l.pop();)if((i=t(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)l.push(r=i[o]=new _r(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(Hd)}function Ov(e){return e.children}function Lv(e){return Array.isArray(e)?e[1]:null}function Pv(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Hd(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function _r(e){this.data=e,this.depth=this.height=0,this.parent=null}function Uo(e){return e==null?null:Gd(e)}function Gd(e){if(typeof e!="function")throw new Error;return e}function xr(){return 0}function Qr(e){return function(){return e}}hc.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,s=0;s<12&&(o=(i=(r-=n=(r*(Bi+Ui*i+o*(zi+Hi*i))-t)/(Bi+3*Ui*i+o*(7*zi+9*Hi*i)))*r)*i*i,!(He(n)<to));++s);return[Bo*e*(Bi+3*Ui*i+o*(7*zi+9*Hi*i))/Te(r),Nt(Ee(r)/Bo)]},dc.invert=Ri($r),pc.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(He(n)>Ne&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},gc.invert=Ri(Nt),yc.invert=Ri(function(e){return 2*$r(e)}),mc.invert=function(e,t){return[-t,2*$r(Mh(e))-at]},_r.prototype=vc.prototype={constructor:_r,count:function(){return this.eachAfter(Iv)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,o=this,s=[o],u=[],l=-1;o=s.pop();)if(u.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=u.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(e.call(t,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(o,s){if(o===s)return o;var u=o.ancestors(),l=s.ancestors(),c=null;for(o=u.pop(),s=l.pop();o===s;)c=o,o=u.pop(),s=l.pop();return c}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return vc(this).eachBefore(Pv)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,o=[i];do for(e=o.reverse(),o=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);while(o.length)}};const Dv=1664525,Rv=1013904223,$d=4294967296;function bc(){let e=1;return()=>(e=(Dv*e+Rv)%$d)/$d}function Vd(e,t){for(var n,r,i=0,o=(e=function(u,l){let c,h,_=u.length;for(;_;)h=l()*_--|0,c=u[_],u[_]=u[h],u[h]=c;return u}(Array.from(e),t)).length,s=[];i<o;)n=e[i],r&&Yd(r,n)?++i:(r=jv(s=Fv(s,n)),i=0);return r}function Fv(e,t){var n,r;if(_c(t,e))return[t];for(n=0;n<e.length;++n)if(zo(t,e[n])&&_c(Gi(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(zo(Gi(e[n],e[r]),t)&&zo(Gi(e[n],t),e[r])&&zo(Gi(e[r],t),e[n])&&_c(Kd(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function zo(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Yd(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _c(e,t){for(var n=0;n<t.length;++n)if(!Yd(e,t[n]))return!1;return!0}function jv(e){switch(e.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(e[0]);case 2:return Gi(e[0],e[1]);case 3:return Kd(e[0],e[1],e[2])}}function Gi(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,u=t.r,l=o-n,c=s-r,h=u-i,_=Math.sqrt(l*l+c*c);return{x:(n+o+l/_*h)/2,y:(r+s+c/_*h)/2,r:(_+i+u)/2}}function Kd(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,u=t.y,l=t.r,c=n.x,h=n.y,_=n.r,m=r-s,M=r-c,I=i-u,k=i-h,O=l-o,C=_-o,R=r*r+i*i-o*o,D=R-s*s-u*u+l*l,L=R-c*c-h*h+_*_,j=M*I-m*k,B=(I*L-k*D)/(2*j)-r,W=(k*O-I*C)/j,te=(M*D-m*L)/(2*j)-i,Q=(m*C-M*O)/j,G=W*W+Q*Q-1,V=2*(o+B*W+te*Q),K=B*B+te*te-o*o,re=-(Math.abs(G)>1e-6?(V+Math.sqrt(V*V-4*G*K))/(2*G):K/V);return{x:r+B+W*re,y:i+te+Q*re,r:re}}function Xd(e,t,n){var r,i,o,s,u=e.x-t.x,l=e.y-t.y,c=u*u+l*l;c?(i=t.r+n.r,i*=i,s=e.r+n.r,i>(s*=s)?(r=(c+s-i)/(2*c),o=Math.sqrt(Math.max(0,s/c-r*r)),n.x=e.x-r*u-o*l,n.y=e.y-r*l+o*u):(r=(c+i-s)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=t.x+r*u-o*l,n.y=t.y+r*l+o*u)):(n.x=t.x+n.r,n.y=t.y)}function Wd(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Zd(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Ho(e){this._=e,this.next=null,this.previous=null}function Qd(e,t){if(!(o=(e=function(M){return typeof M=="object"&&"length"in M?M:Array.from(M)}(e)).length))return 0;var n,r,i,o,s,u,l,c,h,_,m;if((n=e[0]).x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Xd(r,n,i=e[2]),n=new Ho(n),r=new Ho(r),i=new Ho(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){Xd(n._,r._,i=e[l]),i=new Ho(i),c=r.next,h=n.previous,_=r._.r,m=n._.r;do if(_<=m){if(Wd(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}_+=c._.r,c=c.next}else{if(Wd(h._,i._)){(n=h).next=r,r.previous=n,--l;continue e}m+=h._.r,h=h.previous}while(c!==h.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Zd(n);(i=i.next)!==r;)(u=Zd(i))<s&&(n=i,s=u);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Vd(n,t),l=0;l<o;++l)(n=e[l]).x-=i.x,n.y-=i.y;return i.r}function Bv(e){return Math.sqrt(e.value)}function Jd(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function xc(e,t,n){return function(r){if(i=r.children){var i,o,s,u=i.length,l=e(r)*t||0;if(l)for(o=0;o<u;++o)i[o].r+=l;if(s=Qd(i,n),l)for(o=0;o<u;++o)i[o].r-=l;r.r=s+l}}}function qd(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function ep(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function $i(e,t,n,r,i){for(var o,s=e.children,u=-1,l=s.length,c=e.value&&(r-t)/e.value;++u<l;)(o=s[u]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*c}var Uv={depth:-1},tp={},wc={};function zv(e){return e.id}function Hv(e){return e.parentId}function np(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Ac(e,t););return e.slice(0,t)}function Ac(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((1&n)==0)return!0}return!1}function Gv(e,t){return e.parent===t.parent?1:2}function Mc(e){var t=e.children;return t?t[0]:e.t}function Ec(e){var t=e.children;return t?t[t.length-1]:e.t}function $v(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Vv(e,t,n){return e.a.parent===t.parent?e.a:n}function Go(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function $o(e,t,n,r,i){for(var o,s=e.children,u=-1,l=s.length,c=e.value&&(i-n)/e.value;++u<l;)(o=s[u]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}Go.prototype=Object.create(_r.prototype);var rp=(1+Math.sqrt(5))/2;function ip(e,t,n,r,i,o){for(var s,u,l,c,h,_,m,M,I,k,O,C=[],R=t.children,D=0,L=0,j=R.length,B=t.value;D<j;){l=i-n,c=o-r;do h=R[L++].value;while(!h&&L<j);for(_=m=h,O=h*h*(k=Math.max(c/l,l/c)/(B*e)),I=Math.max(m/O,O/_);L<j;++L){if(h+=u=R[L].value,u<_&&(_=u),u>m&&(m=u),O=h*h*k,(M=Math.max(m/O,O/_))>I){h-=u;break}I=M}C.push(s={value:h,dice:l<c,children:R.slice(D,L)}),s.dice?$i(s,n,r,i,B?r+=c*h/B:o):$o(s,n,r,B?n+=l*h/B:i,o),B-=h,D=L}return C}var ap=function e(t){function n(r,i,o,s,u){ip(t,r,i,o,s,u)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(rp),Yv=function e(t){function n(r,i,o,s,u){if((l=r._squarify)&&l.ratio===t)for(var l,c,h,_,m,M=-1,I=l.length,k=r.value;++M<I;){for(h=(c=l[M]).children,_=c.value=0,m=h.length;_<m;++_)c.value+=h[_].value;c.dice?$i(c,i,o,s,k?o+=(u-o)*c.value/k:u):$o(c,i,o,k?i+=(s-i)*c.value/k:s,u),k-=c.value}else r._squarify=l=ip(t,r,i,o,s,u),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(rp);function Kv(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Xv(e,t){return e[0]-t[0]||e[1]-t[1]}function op(e){const t=e.length,n=[0,1];let r,i=2;for(r=2;r<t;++r){for(;i>1&&Kv(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var yt=Math.random,Wv=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(yt),Zv=function e(t){function n(r,i){return arguments.length<2&&(i=r,r=0),r=Math.floor(r),i=Math.floor(i)-r,function(){return Math.floor(t()*i+r)}}return n.source=e,n}(yt),Sc=function e(t){function n(r,i){var o,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var u;if(o!=null)u=o,o=null;else do o=2*t()-1,u=2*t()-1,s=o*o+u*u;while(!s||s>1);return r+i*u*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(yt),Qv=function e(t){var n=Sc.source(t);function r(){var i=n.apply(this,arguments);return function(){return Math.exp(i())}}return r.source=e,r}(yt),sp=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var i=0,o=r;o>1;--o)i+=t();return i+o*t()}}return n.source=e,n}(yt),Jv=function e(t){var n=sp.source(t);function r(i){if((i=+i)==0)return t;var o=n(i);return function(){return o()/i}}return r.source=e,r}(yt),qv=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(yt),eb=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(yt),tb=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(yt),up=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(yt),Tc=function e(t){var n=Sc.source(t)();function r(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-t())*o;var s=(i<1?i+1:i)-1/3,u=1/(3*Math.sqrt(s)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var c=n(),h=1+u*c;while(h<=0);h*=h*h;var _=1-t()}while(_>=1-.0331*c*c*c*c&&Math.log(_)>=.5*c*c+s*(1-h+Math.log(h)));return s*h*l()*o}}return r.source=e,r}(yt),cp=function e(t){var n=Tc.source(t);function r(i,o){var s=n(i),u=n(o);return function(){var l=s();return l===0?0:l/(l+u())}}return r.source=e,r}(yt),lp=function e(t){var n=up.source(t),r=cp.source(t);function i(o,s){return o=+o,(s=+s)>=1?()=>o:s<=0?()=>0:function(){for(var u=0,l=o,c=s;l*c>16&&l*(1-c)>16;){var h=Math.floor((l+1)*c),_=r(h,l-h+1)();_<=c?(u+=h,l-=h,c=(c-_)/(1-_)):(l=h-1,c/=_)}for(var m=c<.5,M=n(m?c:1-c),I=M(),k=0;I<=l;++k)I+=M();return u+(m?k:l-k)}}return i.source=e,i}(yt),nb=function e(t){function n(r,i,o){var s;return(r=+r)==0?s=u=>-Math.log(u):(r=1/r,s=u=>Math.pow(u,r)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*s(-Math.log1p(-t()))}}return n.source=e,n}(yt),rb=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){return r+i*Math.tan(Math.PI*t())}}return n.source=e,n}(yt),ib=function e(t){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,function(){var o=t();return r+i*Math.log(o/(1-o))}}return n.source=e,n}(yt),ab=function e(t){var n=Tc.source(t),r=lp.source(t);function i(o){return function(){for(var s=0,u=o;u>16;){var l=Math.floor(.875*u),c=n(l)();if(c>u)return s+r(l-1,u/c)();s+=l,u-=c}for(var h=-Math.log1p(-t()),_=0;h<=u;++_)h-=Math.log1p(-t());return s+_}}return i.source=e,i}(yt);const fp=1/4294967296;function Kt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function On(e,t){switch(arguments.length){case 0:break;case 1:typeof e=="function"?this.interpolator(e):this.range(e);break;default:this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t)}return this}const kc=Symbol("implicit");function Cc(){var e=new le,t=[],n=[],r=kc;function i(o){let s=e.get(o);if(s===void 0){if(r!==kc)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new le;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Cc(t,n).unknown(r)},Kt.apply(i,arguments),i}function Nc(){var e,t,n=Cc().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,u=!1,l=0,c=0,h=.5;function _(){var m=r().length,M=s<o,I=M?s:o,k=M?o:s;e=(k-I)/Math.max(1,m-l+2*c),u&&(e=Math.floor(e)),I+=(k-I-e*(m-l))*h,t=e*(1-l),u&&(I=Math.round(I),t=Math.round(t));var O=Qt(m).map(function(C){return I+e*C});return i(M?O.reverse():O)}return delete n.unknown,n.domain=function(m){return arguments.length?(r(m),_()):r()},n.range=function(m){return arguments.length?([o,s]=m,o=+o,s=+s,_()):[o,s]},n.rangeRound=function(m){return[o,s]=m,o=+o,s=+s,u=!0,_()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(m){return arguments.length?(u=!!m,_()):u},n.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),_()):l},n.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),_()):l},n.paddingOuter=function(m){return arguments.length?(c=+m,_()):c},n.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),_()):h},n.copy=function(){return Nc(r(),[o,s]).round(u).paddingInner(l).paddingOuter(c).align(h)},Kt.apply(_(),arguments)}function hp(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hp(t())},e}function Vo(e){return+e}var dp=[0,1];function Pt(e){return e}function Ic(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(n){return function(){return n}}(isNaN(t)?NaN:.5)}function ob(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Ic(i,r),o=n(s,o)):(r=Ic(r,i),o=n(o,s)),function(u){return o(r(u))}}function sb(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Ic(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(u){var l=d(e,u,1,r)-1;return o[l](i[l](u))}}function Vi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yo(){var e,t,n,r,i,o,s=dp,u=dp,l=Hn,c=Pt;function h(){var m=Math.min(s.length,u.length);return c!==Pt&&(c=function(M,I){var k;return M>I&&(k=M,M=I,I=k),function(O){return Math.max(M,Math.min(I,O))}}(s[0],s[m-1])),r=m>2?sb:ob,i=o=null,_}function _(m){return m==null||isNaN(m=+m)?n:(i||(i=r(s.map(e),u,l)))(e(c(m)))}return _.invert=function(m){return c(t((o||(o=r(u,s.map(e),Vt)))(m)))},_.domain=function(m){return arguments.length?(s=Array.from(m,Vo),h()):s.slice()},_.range=function(m){return arguments.length?(u=Array.from(m),h()):u.slice()},_.rangeRound=function(m){return u=Array.from(m),l=Oa,h()},_.clamp=function(m){return arguments.length?(c=!!m||Pt,h()):c!==Pt},_.interpolate=function(m){return arguments.length?(l=m,h()):l},_.unknown=function(m){return arguments.length?(n=m,_):n},function(m,M){return e=m,t=M,h()}}function Oc(){return Yo()(Pt,Pt)}function pp(e,t,n,r){var i,o=lt(e,t,n);switch((r=Gr(r??",f")).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return r.precision!=null||isNaN(i=wh(o,s))||(r.precision=i),a.formatPrefix(r,s);case"":case"e":case"g":case"p":case"r":r.precision!=null||isNaN(i=Ah(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-(r.type==="e"));break;case"f":case"%":r.precision!=null||isNaN(i=xh(o))||(r.precision=i-2*(r.type==="%"))}return a.format(r)}function Xn(e){var t=e.domain;return e.ticks=function(n){var r=t();return it(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return pp(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r,i,o=t(),s=0,u=o.length-1,l=o[s],c=o[u],h=10;for(c<l&&(i=l,l=c,c=i,i=s,s=u,u=i);h-- >0;){if((i=$t(l,c,n))===r)return o[s]=l,o[u]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function gp(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],s=e[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}function yp(e){return Math.log(e)}function mp(e){return Math.exp(e)}function ub(e){return-Math.log(-e)}function cb(e){return-Math.exp(-e)}function lb(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vp(e){return(t,n)=>-e(-t,n)}function Lc(e){const t=e(yp,mp),n=t.domain;let r,i,o=10;function s(){return r=function(u){return u===Math.E?Math.log:u===10&&Math.log10||u===2&&Math.log2||(u=Math.log(u),l=>Math.log(l)/u)}(o),i=function(u){return u===10?lb:u===Math.E?Math.exp:l=>Math.pow(u,l)}(o),n()[0]<0?(r=vp(r),i=vp(i),e(ub,cb)):e(yp,mp),t}return t.base=function(u){return arguments.length?(o=+u,s()):o},t.domain=function(u){return arguments.length?(n(u),s()):n()},t.ticks=u=>{const l=n();let c=l[0],h=l[l.length-1];const _=h<c;_&&([c,h]=[h,c]);let m,M,I=r(c),k=r(h);const O=u==null?10:+u;let C=[];if(!(o%1)&&k-I<O){if(I=Math.floor(I),k=Math.ceil(k),c>0){for(;I<=k;++I)for(m=1;m<o;++m)if(M=I<0?m/i(-I):m*i(I),!(M<c)){if(M>h)break;C.push(M)}}else for(;I<=k;++I)for(m=o-1;m>=1;--m)if(M=I>0?m/i(-I):m*i(I),!(M<c)){if(M>h)break;C.push(M)}2*C.length<O&&(C=it(c,h,O))}else C=it(I,k,Math.min(k-I,O)).map(i);return _?C.reverse():C},t.tickFormat=(u,l)=>{if(u==null&&(u=10),l==null&&(l=o===10?"s":","),typeof l!="function"&&(o%1||(l=Gr(l)).precision!=null||(l.trim=!0),l=a.format(l)),u===1/0)return l;const c=Math.max(1,o*u/t.ticks().length);return h=>{let _=h/i(Math.round(r(h)));return _*o<o-.5&&(_*=o),_<=c?l(h):""}},t.nice=()=>n(gp(n(),{floor:u=>i(Math.floor(r(u))),ceil:u=>i(Math.ceil(r(u)))})),t}function bp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _p(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pc(e){var t=1,n=e(bp(t),_p(t));return n.constant=function(r){return arguments.length?e(bp(t=+r),_p(t)):t},Xn(n)}function xp(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fb(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hb(e){return e<0?-e*e:e*e}function Dc(e){var t=e(Pt,Pt),n=1;return t.exponent=function(r){return arguments.length?(n=+r)==1?e(Pt,Pt):n===.5?e(fb,hb):e(xp(n),xp(1/n)):n},Xn(t)}function Rc(){var e=Dc(Yo());return e.copy=function(){return Vi(e,Rc()).exponent(e.exponent())},Kt.apply(e,arguments),e}function wp(e){return Math.sign(e)*e*e}const Fc=new Date,jc=new Date;function ct(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const l=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s&&u>0))return l;let c;do l.push(c=new Date(+o)),t(o,u),e(o);while(c<o&&o<s);return l},i.filter=o=>ct(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!o(s););else for(;--u>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(Fc.setTime(+o),jc.setTime(+s),e(Fc),e(jc),Math.floor(n(Fc,jc))),i.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?i.filter(r?s=>r(s)%o==0:s=>i.count(0,s)%o==0):i:null)),i}const Jr=ct(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jr.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ct(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jr:null);const Ap=Jr.range,Yi=1e3,Xt=6e4,Ln=60*Xt,Pn=24*Ln,Bc=7*Pn,Mp=30*Pn,Uc=365*Pn,Dn=ct(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCSeconds()),Ep=Dn.range,Ko=ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi)},(e,t)=>{e.setTime(+e+t*Xt)},(e,t)=>(t-e)/Xt,e=>e.getMinutes()),db=Ko.range,Xo=ct(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xt)},(e,t)=>(t-e)/Xt,e=>e.getUTCMinutes()),pb=Xo.range,Wo=ct(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi-e.getMinutes()*Xt)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getHours()),gb=Wo.range,Zo=ct(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCHours()),yb=Zo.range,qr=ct(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xt)/Pn,e=>e.getDate()-1),mb=qr.range,Ki=ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pn,e=>e.getUTCDate()-1),vb=Ki.range,zc=ct(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pn,e=>Math.floor(e/Pn)),bb=zc.range;function wr(e){return ct(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+7*n)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/Bc)}const ei=wr(0),Xi=wr(1),Sp=wr(2),Tp=wr(3),Ar=wr(4),kp=wr(5),Cp=wr(6),Np=ei.range,_b=Xi.range,xb=Sp.range,wb=Tp.range,Ab=Ar.range,Mb=kp.range,Eb=Cp.range;function Mr(e){return ct(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+7*n)},(t,n)=>(n-t)/Bc)}const ti=Mr(0),Wi=Mr(1),Ip=Mr(2),Op=Mr(3),Er=Mr(4),Lp=Mr(5),Pp=Mr(6),Dp=ti.range,Sb=Wi.range,Tb=Ip.range,kb=Op.range,Cb=Er.range,Nb=Lp.range,Ib=Pp.range,Qo=ct(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth()),Ob=Qo.range,Jo=ct(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),Lb=Jo.range,xn=ct(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xn.every=e=>isFinite(e=Math.floor(e))&&e>0?ct(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;const Pb=xn.range,wn=ct(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wn.every=e=>isFinite(e=Math.floor(e))&&e>0?ct(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;const Db=wn.range;function Rp(e,t,n,r,i,o){const s=[[Dn,1,Yi],[Dn,5,5e3],[Dn,15,15e3],[Dn,30,3e4],[o,1,Xt],[o,5,5*Xt],[o,15,15*Xt],[o,30,30*Xt],[i,1,Ln],[i,3,3*Ln],[i,6,6*Ln],[i,12,12*Ln],[r,1,Pn],[r,2,2*Pn],[n,1,Bc],[t,1,Mp],[t,3,3*Mp],[e,1,Uc]];function u(l,c,h){const _=Math.abs(c-l)/h,m=f(([,,k])=>k).right(s,_);if(m===s.length)return e.every(lt(l/Uc,c/Uc,h));if(m===0)return Jr.every(Math.max(lt(l,c,h),1));const[M,I]=s[_/s[m-1][2]<s[m][2]/_?m-1:m];return M.every(I)}return[function(l,c,h){const _=c<l;_&&([l,c]=[c,l]);const m=h&&typeof h.range=="function"?h:u(l,c,h),M=m?m.range(l,+c+1):[];return _?M.reverse():M},u]}const[Fp,jp]=Rp(wn,Jo,ti,zc,Zo,Xo),[Bp,Up]=Rp(xn,Qo,ei,qr,Wo,Ko);function Hc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Gc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function zp(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,u=e.months,l=e.shortMonths,c=Qi(i),h=Ji(i),_=Qi(o),m=Ji(o),M=Qi(s),I=Ji(s),k=Qi(u),O=Ji(u),C=Qi(l),R=Ji(l),D={a:function(Q){return s[Q.getDay()]},A:function(Q){return o[Q.getDay()]},b:function(Q){return l[Q.getMonth()]},B:function(Q){return u[Q.getMonth()]},c:null,d:Kp,e:Kp,f:i_,g:p_,G:y_,H:t_,I:n_,j:r_,L:Xp,m:a_,M:o_,p:function(Q){return i[+(Q.getHours()>=12)]},q:function(Q){return 1+~~(Q.getMonth()/3)},Q:e0,s:t0,S:s_,u:u_,U:c_,V:l_,w:f_,W:h_,x:null,X:null,y:d_,Y:g_,Z:m_,"%":qp},L={a:function(Q){return s[Q.getUTCDay()]},A:function(Q){return o[Q.getUTCDay()]},b:function(Q){return l[Q.getUTCMonth()]},B:function(Q){return u[Q.getUTCMonth()]},c:null,d:Zp,e:Zp,f:x_,g:I_,G:L_,H:v_,I:b_,j:__,L:Qp,m:w_,M:A_,p:function(Q){return i[+(Q.getUTCHours()>=12)]},q:function(Q){return 1+~~(Q.getUTCMonth()/3)},Q:e0,s:t0,S:M_,u:E_,U:S_,V:T_,w:k_,W:C_,x:null,X:null,y:N_,Y:O_,Z:P_,"%":qp},j={a:function(Q,G,V){var K=M.exec(G.slice(V));return K?(Q.w=I.get(K[0].toLowerCase()),V+K[0].length):-1},A:function(Q,G,V){var K=_.exec(G.slice(V));return K?(Q.w=m.get(K[0].toLowerCase()),V+K[0].length):-1},b:function(Q,G,V){var K=C.exec(G.slice(V));return K?(Q.m=R.get(K[0].toLowerCase()),V+K[0].length):-1},B:function(Q,G,V){var K=k.exec(G.slice(V));return K?(Q.m=O.get(K[0].toLowerCase()),V+K[0].length):-1},c:function(Q,G,V){return te(Q,t,G,V)},d:Vp,e:Vp,f:Qb,g:$p,G:Gp,H:Yp,I:Yp,j:Kb,L:Zb,m:Yb,M:Xb,p:function(Q,G,V){var K=c.exec(G.slice(V));return K?(Q.p=h.get(K[0].toLowerCase()),V+K[0].length):-1},q:Vb,Q:qb,s:e_,S:Wb,u:Ub,U:zb,V:Hb,w:Bb,W:Gb,x:function(Q,G,V){return te(Q,n,G,V)},X:function(Q,G,V){return te(Q,r,G,V)},y:$p,Y:Gp,Z:$b,"%":Jb};function B(Q,G){return function(V){var K,re,U,X=[],ee=-1,ae=0,fe=Q.length;for(V instanceof Date||(V=new Date(+V));++ee<fe;)Q.charCodeAt(ee)===37&&(X.push(Q.slice(ae,ee)),(re=Hp[K=Q.charAt(++ee)])!=null?K=Q.charAt(++ee):re=K==="e"?" ":"0",(U=G[K])&&(K=U(V,re)),X.push(K),ae=ee+1);return X.push(Q.slice(ae,ee)),X.join("")}}function W(Q,G){return function(V){var K,re,U=Zi(1900,void 0,1);if(te(U,Q,V+="",0)!=V.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(1e3*U.s+("L"in U?U.L:0));if(G&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+12*U.p),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(re=(K=Gc(Zi(U.y,0,1))).getUTCDay(),K=re>4||re===0?Wi.ceil(K):Wi(K),K=Ki.offset(K,7*(U.V-1)),U.y=K.getUTCFullYear(),U.m=K.getUTCMonth(),U.d=K.getUTCDate()+(U.w+6)%7):(re=(K=Hc(Zi(U.y,0,1))).getDay(),K=re>4||re===0?Xi.ceil(K):Xi(K),K=qr.offset(K,7*(U.V-1)),U.y=K.getFullYear(),U.m=K.getMonth(),U.d=K.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),re="Z"in U?Gc(Zi(U.y,0,1)).getUTCDay():Hc(Zi(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+7*U.W-(re+5)%7:U.w+7*U.U-(re+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Gc(U)):Hc(U)}}function te(Q,G,V,K){for(var re,U,X=0,ee=G.length,ae=V.length;X<ee;){if(K>=ae)return-1;if((re=G.charCodeAt(X++))===37){if(re=G.charAt(X++),!(U=j[re in Hp?G.charAt(X++):re])||(K=U(Q,V,K))<0)return-1}else if(re!=V.charCodeAt(K++))return-1}return K}return D.x=B(n,D),D.X=B(r,D),D.c=B(t,D),L.x=B(n,L),L.X=B(r,L),L.c=B(t,L),{format:function(Q){var G=B(Q+="",D);return G.toString=function(){return Q},G},parse:function(Q){var G=W(Q+="",!1);return G.toString=function(){return Q},G},utcFormat:function(Q){var G=B(Q+="",L);return G.toString=function(){return Q},G},utcParse:function(Q){var G=W(Q+="",!0);return G.toString=function(){return Q},G}}}var ni,Hp={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,Rb=/^%/,Fb=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function jb(e){return e.replace(Fb,"\\$&")}function Qi(e){return new RegExp("^(?:"+e.map(jb).join("|")+")","i")}function Ji(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Bb(e,t,n){var r=gt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ub(e,t,n){var r=gt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zb(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Hb(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Gb(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Gp(e,t,n){var r=gt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $p(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $b(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vb(e,t,n){var r=gt.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Yb(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Vp(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Kb(e,t,n){var r=gt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Yp(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Xb(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Wb(e,t,n){var r=gt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Zb(e,t,n){var r=gt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Qb(e,t,n){var r=gt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jb(e,t,n){var r=Rb.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qb(e,t,n){var r=gt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function e_(e,t,n){var r=gt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Kp(e,t){return Xe(e.getDate(),t,2)}function t_(e,t){return Xe(e.getHours(),t,2)}function n_(e,t){return Xe(e.getHours()%12||12,t,2)}function r_(e,t){return Xe(1+qr.count(xn(e),e),t,3)}function Xp(e,t){return Xe(e.getMilliseconds(),t,3)}function i_(e,t){return Xp(e,t)+"000"}function a_(e,t){return Xe(e.getMonth()+1,t,2)}function o_(e,t){return Xe(e.getMinutes(),t,2)}function s_(e,t){return Xe(e.getSeconds(),t,2)}function u_(e){var t=e.getDay();return t===0?7:t}function c_(e,t){return Xe(ei.count(xn(e)-1,e),t,2)}function Wp(e){var t=e.getDay();return t>=4||t===0?Ar(e):Ar.ceil(e)}function l_(e,t){return e=Wp(e),Xe(Ar.count(xn(e),e)+(xn(e).getDay()===4),t,2)}function f_(e){return e.getDay()}function h_(e,t){return Xe(Xi.count(xn(e)-1,e),t,2)}function d_(e,t){return Xe(e.getFullYear()%100,t,2)}function p_(e,t){return Xe((e=Wp(e)).getFullYear()%100,t,2)}function g_(e,t){return Xe(e.getFullYear()%1e4,t,4)}function y_(e,t){var n=e.getDay();return Xe((e=n>=4||n===0?Ar(e):Ar.ceil(e)).getFullYear()%1e4,t,4)}function m_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function Zp(e,t){return Xe(e.getUTCDate(),t,2)}function v_(e,t){return Xe(e.getUTCHours(),t,2)}function b_(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function __(e,t){return Xe(1+Ki.count(wn(e),e),t,3)}function Qp(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function x_(e,t){return Qp(e,t)+"000"}function w_(e,t){return Xe(e.getUTCMonth()+1,t,2)}function A_(e,t){return Xe(e.getUTCMinutes(),t,2)}function M_(e,t){return Xe(e.getUTCSeconds(),t,2)}function E_(e){var t=e.getUTCDay();return t===0?7:t}function S_(e,t){return Xe(ti.count(wn(e)-1,e),t,2)}function Jp(e){var t=e.getUTCDay();return t>=4||t===0?Er(e):Er.ceil(e)}function T_(e,t){return e=Jp(e),Xe(Er.count(wn(e),e)+(wn(e).getUTCDay()===4),t,2)}function k_(e){return e.getUTCDay()}function C_(e,t){return Xe(Wi.count(wn(e)-1,e),t,2)}function N_(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function I_(e,t){return Xe((e=Jp(e)).getUTCFullYear()%100,t,2)}function O_(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function L_(e,t){var n=e.getUTCDay();return Xe((e=n>=4||n===0?Er(e):Er.ceil(e)).getUTCFullYear()%1e4,t,4)}function P_(){return"+0000"}function qp(){return"%"}function e0(e){return+e}function t0(e){return Math.floor(+e/1e3)}function n0(e){return ni=zp(e),a.timeFormat=ni.format,a.timeParse=ni.parse,a.utcFormat=ni.utcFormat,a.utcParse=ni.utcParse,ni}a.timeFormat=void 0,a.timeParse=void 0,a.utcFormat=void 0,a.utcParse=void 0,n0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var r0="%Y-%m-%dT%H:%M:%S.%LZ",D_=Date.prototype.toISOString?function(e){return e.toISOString()}:a.utcFormat(r0),R_=D_,F_=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:a.utcParse(r0),j_=F_;function B_(e){return new Date(e)}function U_(e){return e instanceof Date?+e:+new Date(+e)}function $c(e,t,n,r,i,o,s,u,l,c){var h=Oc(),_=h.invert,m=h.domain,M=c(".%L"),I=c(":%S"),k=c("%I:%M"),O=c("%I %p"),C=c("%a %d"),R=c("%b %d"),D=c("%B"),L=c("%Y");function j(B){return(l(B)<B?M:u(B)<B?I:s(B)<B?k:o(B)<B?O:r(B)<B?i(B)<B?C:R:n(B)<B?D:L)(B)}return h.invert=function(B){return new Date(_(B))},h.domain=function(B){return arguments.length?m(Array.from(B,U_)):m().map(B_)},h.ticks=function(B){var W=m();return e(W[0],W[W.length-1],B??10)},h.tickFormat=function(B,W){return W==null?j:c(W)},h.nice=function(B){var W=m();return B&&typeof B.range=="function"||(B=t(W[0],W[W.length-1],B??10)),B?m(gp(W,B)):h},h.copy=function(){return Vi(h,$c(e,t,n,r,i,o,s,u,l,c))},h}function qo(){var e,t,n,r,i,o=0,s=1,u=Pt,l=!1;function c(_){return _==null||isNaN(_=+_)?i:u(n===0?.5:(_=(r(_)-e)*n,l?Math.max(0,Math.min(1,_)):_))}function h(_){return function(m){var M,I;return arguments.length?([M,I]=m,u=_(M,I),c):[u(0),u(1)]}}return c.domain=function(_){return arguments.length?([o,s]=_,e=r(o=+o),t=r(s=+s),n=e===t?0:1/(t-e),c):[o,s]},c.clamp=function(_){return arguments.length?(l=!!_,c):l},c.interpolator=function(_){return arguments.length?(u=_,c):u},c.range=h(Hn),c.rangeRound=h(Oa),c.unknown=function(_){return arguments.length?(i=_,c):i},function(_){return r=_,e=_(o),t=_(s),n=e===t?0:1/(t-e),c}}function Wn(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Vc(){var e=Dc(qo());return e.copy=function(){return Wn(e,Vc()).exponent(e.exponent())},On.apply(e,arguments)}function es(){var e,t,n,r,i,o,s,u=0,l=.5,c=1,h=1,_=Pt,m=!1;function M(k){return isNaN(k=+k)?s:(k=.5+((k=+o(k))-t)*(h*k<h*t?r:i),_(m?Math.max(0,Math.min(1,k)):k))}function I(k){return function(O){var C,R,D;return arguments.length?([C,R,D]=O,_=mf(k,[C,R,D]),M):[_(0),_(.5),_(1)]}}return M.domain=function(k){return arguments.length?([u,l,c]=k,e=o(u=+u),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),h=t<e?-1:1,M):[u,l,c]},M.clamp=function(k){return arguments.length?(m=!!k,M):m},M.interpolator=function(k){return arguments.length?(_=k,M):_},M.range=I(Hn),M.rangeRound=I(Oa),M.unknown=function(k){return arguments.length?(s=k,M):s},function(k){return o=k,e=k(u),t=k(l),n=k(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),h=t<e?-1:1,M}}function Yc(){var e=Dc(es());return e.copy=function(){return Wn(e,Yc()).exponent(e.exponent())},On.apply(e,arguments)}function Be(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var z_=Be("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),H_=Be("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),G_=Be("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$_=Be("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),V_=Be("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Y_=Be("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),K_=Be("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),X_=Be("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),W_=Be("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Z_=Be("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),et=e=>tf(e[e.length-1]),i0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Be),Q_=et(i0),a0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Be),J_=et(a0),o0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Be),q_=et(o0),s0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Be),e2=et(s0),u0=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Be),t2=et(u0),c0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Be),n2=et(c0),l0=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Be),r2=et(l0),f0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Be),i2=et(f0),h0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Be),a2=et(h0),d0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Be),o2=et(d0),p0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Be),s2=et(p0),g0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Be),u2=et(g0),y0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Be),c2=et(y0),m0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Be),l2=et(m0),v0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Be),f2=et(v0),b0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Be),h2=et(b0),_0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Be),d2=et(_0),x0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Be),p2=et(x0),w0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Be),g2=et(w0),A0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Be),y2=et(A0),M0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Be),m2=et(M0),E0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Be),v2=et(E0),S0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Be),b2=et(S0),T0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Be),_2=et(T0),k0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Be),x2=et(k0),C0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Be),w2=et(C0),N0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Be),A2=et(N0),M2=Pa(tn(300,.5,0),tn(-240,.5,1)),E2=Pa(tn(-100,.75,.35),tn(80,1.5,.8)),S2=Pa(tn(260,.75,.35),tn(80,1.5,.8)),ts=tn(),ns=Ir(),T2=Math.PI/3,k2=2*Math.PI/3;function rs(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var C2=rs(Be("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),N2=rs(Be("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),I2=rs(Be("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),O2=rs(Be("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Fe(e){return function(){return e}}const I0=Math.abs,xt=Math.atan2,Rn=Math.cos,L2=Math.max,ri=Math.min,jt=Math.sin,tt=Math.sqrt,wt=1e-12,Zn=Math.PI,is=Zn/2,Qn=2*Zn;function O0(e){return e>=1?is:e<=-1?-is:Math.asin(e)}function qi(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new wi(t)}function P2(e){return e.innerRadius}function D2(e){return e.outerRadius}function R2(e){return e.startAngle}function F2(e){return e.endAngle}function j2(e){return e&&e.padAngle}function as(e,t,n,r,i,o,s){var u=e-n,l=t-r,c=(s?o:-o)/tt(u*u+l*l),h=c*l,_=-c*u,m=e+h,M=t+_,I=n+h,k=r+_,O=(m+I)/2,C=(M+k)/2,R=I-m,D=k-M,L=R*R+D*D,j=i-o,B=m*k-I*M,W=(D<0?-1:1)*tt(L2(0,j*j*L-B*B)),te=(B*D-R*W)/L,Q=(-B*R-D*W)/L,G=(B*D+R*W)/L,V=(-B*R+D*W)/L,K=te-O,re=Q-C,U=G-O,X=V-C;return K*K+re*re>U*U+X*X&&(te=G,Q=V),{cx:te,cy:Q,x01:-h,y01:-_,x11:te*(i/j-1),y11:Q*(i/j-1)}}var B2=Array.prototype.slice;function os(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function L0(e){this._context=e}function ss(e){return new L0(e)}function Kc(e){return e[0]}function Xc(e){return e[1]}function Wc(e,t){var n=Fe(!0),r=null,i=ss,o=null,s=qi(u);function u(l){var c,h,_,m=(l=os(l)).length,M=!1;for(r==null&&(o=i(_=s())),c=0;c<=m;++c)!(c<m&&n(h=l[c],c,l))===M&&((M=!M)?o.lineStart():o.lineEnd()),M&&o.point(+e(h,c,l),+t(h,c,l));if(_)return o=null,_+""||null}return e=typeof e=="function"?e:e===void 0?Kc:Fe(e),t=typeof t=="function"?t:t===void 0?Xc:Fe(t),u.x=function(l){return arguments.length?(e=typeof l=="function"?l:Fe(+l),u):e},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:Fe(+l),u):t},u.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fe(!!l),u):n},u.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),u):i},u.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),u):r},u}function P0(e,t,n){var r=null,i=Fe(!0),o=null,s=ss,u=null,l=qi(c);function c(_){var m,M,I,k,O,C=(_=os(_)).length,R=!1,D=new Array(C),L=new Array(C);for(o==null&&(u=s(O=l())),m=0;m<=C;++m){if(!(m<C&&i(k=_[m],m,_))===R)if(R=!R)M=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),I=m-1;I>=M;--I)u.point(D[I],L[I]);u.lineEnd(),u.areaEnd()}R&&(D[m]=+e(k,m,_),L[m]=+t(k,m,_),u.point(r?+r(k,m,_):D[m],n?+n(k,m,_):L[m]))}if(O)return u=null,O+""||null}function h(){return Wc().defined(i).curve(s).context(o)}return e=typeof e=="function"?e:e===void 0?Kc:Fe(+e),t=typeof t=="function"?t:Fe(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Xc:Fe(+n),c.x=function(_){return arguments.length?(e=typeof _=="function"?_:Fe(+_),r=null,c):e},c.x0=function(_){return arguments.length?(e=typeof _=="function"?_:Fe(+_),c):e},c.x1=function(_){return arguments.length?(r=_==null?null:typeof _=="function"?_:Fe(+_),c):r},c.y=function(_){return arguments.length?(t=typeof _=="function"?_:Fe(+_),n=null,c):t},c.y0=function(_){return arguments.length?(t=typeof _=="function"?_:Fe(+_),c):t},c.y1=function(_){return arguments.length?(n=_==null?null:typeof _=="function"?_:Fe(+_),c):n},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(n)},c.lineX1=function(){return h().x(r).y(t)},c.defined=function(_){return arguments.length?(i=typeof _=="function"?_:Fe(!!_),c):i},c.curve=function(_){return arguments.length?(s=_,o!=null&&(u=s(o)),c):s},c.context=function(_){return arguments.length?(_==null?o=u=null:u=s(o=_),c):o},c}function U2(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function z2(e){return e}L0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var D0=Zc(ss);function R0(e){this._curve=e}function Zc(e){function t(n){return new R0(e(n))}return t._curve=e,t}function ea(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Zc(n)):t()._curve},e}function F0(){return ea(Wc().curve(D0))}function j0(){var e=P0().curve(D0),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return ea(n())},delete e.lineX0,e.lineEndAngle=function(){return ea(r())},delete e.lineX1,e.lineInnerRadius=function(){return ea(i())},delete e.lineY0,e.lineOuterRadius=function(){return ea(o())},delete e.lineY1,e.curve=function(s){return arguments.length?t(Zc(s)):t()._curve},e}function ta(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}R0.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};class B0{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n)}this._x0=t,this._y0=n}}class H2{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=ta(this._x0,this._y0),i=ta(this._x0,this._y0=(this._y0+n)/2),o=ta(t,this._y0),s=ta(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...s)}this._x0=t,this._y0=n}}function U0(e){return new B0(e,!0)}function z0(e){return new B0(e,!1)}function G2(e){return new H2(e)}function $2(e){return e.source}function V2(e){return e.target}function us(e){let t=$2,n=V2,r=Kc,i=Xc,o=null,s=null,u=qi(l);function l(){let c;const h=B2.call(arguments),_=t.apply(this,h),m=n.apply(this,h);if(o==null&&(s=e(c=u())),s.lineStart(),h[0]=_,s.point(+r.apply(this,h),+i.apply(this,h)),h[0]=m,s.point(+r.apply(this,h),+i.apply(this,h)),s.lineEnd(),c)return s=null,c+""||null}return l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:Fe(+c),l):r},l.y=function(c){return arguments.length?(i=typeof c=="function"?c:Fe(+c),l):i},l.context=function(c){return arguments.length?(c==null?o=s=null:s=e(o=c),l):o},l}const Y2=tt(3);var H0={draw(e,t){const n=.59436*tt(t+ri(t/28,.75)),r=n/2,i=r*Y2;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},cs={draw(e,t){const n=tt(t/Zn);e.moveTo(n,0),e.arc(0,0,n,0,Qn)}},G0={draw(e,t){const n=tt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};const $0=tt(1/3),K2=2*$0;var V0={draw(e,t){const n=tt(t/K2),r=n*$0;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Y0={draw(e,t){const n=.62625*tt(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},K0={draw(e,t){const n=.87559*tt(t-ri(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},X0={draw(e,t){const n=tt(t),r=-n/2;e.rect(r,r,n,n)}},W0={draw(e,t){const n=.4431*tt(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}};const Z0=jt(Zn/10)/jt(7*Zn/10),X2=jt(Qn/10)*Z0,W2=-Rn(Qn/10)*Z0;var Q0={draw(e,t){const n=tt(.8908130915292852*t),r=X2*n,i=W2*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=Qn*o/5,u=Rn(s),l=jt(s);e.lineTo(l*n,-u*n),e.lineTo(u*r-l*i,l*r+u*i)}e.closePath()}};const Qc=tt(3);var J0={draw(e,t){const n=-tt(t/(3*Qc));e.moveTo(0,2*n),e.lineTo(-Qc*n,-n),e.lineTo(Qc*n,-n),e.closePath()}};const Z2=tt(3);var q0={draw(e,t){const n=.6824*tt(t),r=n/2,i=n*Z2/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}};const Wt=-.5,Zt=tt(3)/2,Jc=1/tt(12),Q2=3*(Jc/2+1);var e1={draw(e,t){const n=tt(t/Q2),r=n/2,i=n*Jc,o=r,s=n*Jc+n,u=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(u,l),e.lineTo(Wt*r-Zt*i,Zt*r+Wt*i),e.lineTo(Wt*o-Zt*s,Zt*o+Wt*s),e.lineTo(Wt*u-Zt*l,Zt*u+Wt*l),e.lineTo(Wt*r+Zt*i,Wt*i-Zt*r),e.lineTo(Wt*o+Zt*s,Wt*s-Zt*o),e.lineTo(Wt*u+Zt*l,Wt*l-Zt*u),e.closePath()}},qc={draw(e,t){const n=.6189*tt(t-ri(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}};const t1=[cs,G0,V0,X0,Q0,J0,e1],J2=[cs,K0,qc,q0,H0,W0,Y0];function Jn(){}function ls(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fs(e){this._context=e}function n1(e){this._context=e}function r1(e){this._context=e}function i1(e,t){this._basis=new fs(e),this._beta=t}fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ls(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ls(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},n1.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ls(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},r1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ls(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},i1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],s=e[n]-i,u=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*s),this._beta*t[l]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var q2=function e(t){function n(r){return t===1?new fs(r):new i1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function hs(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function el(e,t){this._context=e,this._k=(1-t)/6}el.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:hs(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:hs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ex=function e(t){function n(r){return new el(r,t)}return n.tension=function(r){return e(+r)},n}(0);function tl(e,t){this._context=e,this._k=(1-t)/6}tl.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:hs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tx=function e(t){function n(r){return new tl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function nl(e,t){this._context=e,this._k=(1-t)/6}nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hs(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nx=function e(t){function n(r){return new nl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function rl(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>wt){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>wt){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/h,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function a1(e,t){this._context=e,this._alpha=t}a1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:rl(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rx=function e(t){function n(r){return t?new a1(r,t):new el(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function o1(e,t){this._context=e,this._alpha=t}o1.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:rl(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ix=function e(t){function n(r){return t?new o1(r,t):new tl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function s1(e,t){this._context=e,this._alpha=t}s1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rl(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ax=function e(t){function n(r){return t?new s1(r,t):new nl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function u1(e){this._context=e}function c1(e){return e<0?-1:1}function l1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(c1(o)+c1(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function f1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function il(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,s-u*n,o,s)}function ds(e){this._context=e}function h1(e){this._context=new d1(e)}function d1(e){this._context=e}function p1(e){this._context=e}function g1(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ps(e,t){this._context=e,this._t=t}function ii(e,t){if((i=e.length)>1)for(var n,r,i,o=1,s=e[t[0]],u=s.length;o<i;++o)for(r=s,s=e[t[o]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ai(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ox(e,t){return e[t]}function sx(e){const t=[];return t.key=e,t}function y1(e){var t=e.map(ux);return ai(e).sort(function(n,r){return t[n]-t[r]})}function ux(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function m1(e){var t=e.map(v1);return ai(e).sort(function(n,r){return t[n]-t[r]})}function v1(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}u1.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:il(this,this._t0,f1(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,il(this,f1(this,n=l1(this,e,t)),n);break;default:il(this,this._t0,n=l1(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(h1.prototype=Object.create(ds.prototype)).point=function(e,t){ds.prototype.point.call(this,t,e)},d1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},p1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=g1(e),i=g1(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var gs=e=>()=>e;function cx(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function An(e,t,n){this.k=e,this.x=t,this.y=n}An.prototype={constructor:An,scale:function(e){return e===1?this:new An(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new An(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ys=new An(1,0,0);function b1(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ys;return e.__zoom}function al(e){e.stopImmediatePropagation()}function na(e){e.preventDefault(),e.stopImmediatePropagation()}function lx(e){return!(e.ctrlKey&&e.type!=="wheel"||e.button)}function fx(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function _1(){return this.__zoom||ys}function hx(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function dx(){return navigator.maxTouchPoints||"ontouchstart"in this}function px(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}b1.prototype=An.prototype,a.Adder=oe,a.Delaunay=_u,a.FormatSpecifier=qa,a.InternMap=le,a.InternSet=ye,a.Node=_r,a.Path=wi,a.Voronoi=nh,a.ZoomTransform=An,a.active=function(e,t){var n,r,i=e.__transition;if(i){for(r in t=t==null?null:t+"",i)if((n=i[r]).state>Ws&&n.name===t)return new yn([[e]],Ry,t,+r)}return null},a.arc=function(){var e=P2,t=D2,n=Fe(0),r=null,i=R2,o=F2,s=j2,u=null,l=qi(c);function c(){var h,_,m=+e.apply(this,arguments),M=+t.apply(this,arguments),I=i.apply(this,arguments)-is,k=o.apply(this,arguments)-is,O=I0(k-I),C=k>I;if(u||(u=h=l()),M<m&&(_=M,M=m,m=_),M>wt)if(O>Qn-wt)u.moveTo(M*Rn(I),M*jt(I)),u.arc(0,0,M,I,k,!C),m>wt&&(u.moveTo(m*Rn(k),m*jt(k)),u.arc(0,0,m,k,I,C));else{var R,D,L=I,j=k,B=I,W=k,te=O,Q=O,G=s.apply(this,arguments)/2,V=G>wt&&(r?+r.apply(this,arguments):tt(m*m+M*M)),K=ri(I0(M-m)/2,+n.apply(this,arguments)),re=K,U=K;if(V>wt){var X=O0(V/m*jt(G)),ee=O0(V/M*jt(G));(te-=2*X)>wt?(B+=X*=C?1:-1,W-=X):(te=0,B=W=(I+k)/2),(Q-=2*ee)>wt?(L+=ee*=C?1:-1,j-=ee):(Q=0,L=j=(I+k)/2)}var ae=M*Rn(L),fe=M*jt(L),de=m*Rn(W),be=m*jt(W);if(K>wt){var pe,we=M*Rn(j),Ie=M*jt(j),Se=m*Rn(B),ke=m*jt(B);if(O<Zn)if(pe=function(Mn,un,ms,je,Ze,qn,En,gx){var x1=ms-Mn,w1=je-un,A1=En-Ze,M1=gx-qn,ra=M1*x1-A1*w1;if(!(ra*ra<wt))return[Mn+(ra=(A1*(un-qn)-M1*(Mn-Ze))/ra)*x1,un+ra*w1]}(ae,fe,Se,ke,we,Ie,de,be)){var Je=ae-pe[0],Re=fe-pe[1],st=we-pe[0],Gt=Ie-pe[1],sn=1/jt(function(Mn){return Mn>1?0:Mn<-1?Zn:Math.acos(Mn)}((Je*st+Re*Gt)/(tt(Je*Je+Re*Re)*tt(st*st+Gt*Gt)))/2),Fn=tt(pe[0]*pe[0]+pe[1]*pe[1]);re=ri(K,(m-Fn)/(sn-1)),U=ri(K,(M-Fn)/(sn+1))}else re=U=0}Q>wt?U>wt?(R=as(Se,ke,ae,fe,M,U,C),D=as(we,Ie,de,be,M,U,C),u.moveTo(R.cx+R.x01,R.cy+R.y01),U<K?u.arc(R.cx,R.cy,U,xt(R.y01,R.x01),xt(D.y01,D.x01),!C):(u.arc(R.cx,R.cy,U,xt(R.y01,R.x01),xt(R.y11,R.x11),!C),u.arc(0,0,M,xt(R.cy+R.y11,R.cx+R.x11),xt(D.cy+D.y11,D.cx+D.x11),!C),u.arc(D.cx,D.cy,U,xt(D.y11,D.x11),xt(D.y01,D.x01),!C))):(u.moveTo(ae,fe),u.arc(0,0,M,L,j,!C)):u.moveTo(ae,fe),m>wt&&te>wt?re>wt?(R=as(de,be,we,Ie,m,-re,C),D=as(ae,fe,Se,ke,m,-re,C),u.lineTo(R.cx+R.x01,R.cy+R.y01),re<K?u.arc(R.cx,R.cy,re,xt(R.y01,R.x01),xt(D.y01,D.x01),!C):(u.arc(R.cx,R.cy,re,xt(R.y01,R.x01),xt(R.y11,R.x11),!C),u.arc(0,0,m,xt(R.cy+R.y11,R.cx+R.x11),xt(D.cy+D.y11,D.cx+D.x11),C),u.arc(D.cx,D.cy,re,xt(D.y11,D.x11),xt(D.y01,D.x01),!C))):u.arc(0,0,m,W,B,C):u.lineTo(de,be)}else u.moveTo(0,0);if(u.closePath(),h)return u=null,h+""||null}return c.centroid=function(){var h=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,_=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Zn/2;return[Rn(_)*h,jt(_)*h]},c.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Fe(+h),c):e},c.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Fe(+h),c):t},c.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:Fe(+h),c):n},c.padRadius=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Fe(+h),c):r},c.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Fe(+h),c):i},c.endAngle=function(h){return arguments.length?(o=typeof h=="function"?h:Fe(+h),c):o},c.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Fe(+h),c):s},c.context=function(h){return arguments.length?(u=h??null,c):u},c},a.area=P0,a.areaRadial=j0,a.ascending=v,a.autoType=function(e){for(var t in e){var n,r,i=e[t].trim();if(i)if(i==="true")i=!0;else if(i==="false")i=!1;else if(i==="NaN")i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Im&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e},a.axisBottom=function(e){return ga(As,e)},a.axisLeft=function(e){return ga(si,e)},a.axisRight=function(e){return ga(pa,e)},a.axisTop=function(e){return ga(da,e)},a.bin=Ve,a.bisect=d,a.bisectCenter=S,a.bisectLeft=E,a.bisectRight=x,a.bisector=f,a.blob=function(e,t){return fetch(e,t).then(Om)},a.blur=function(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=$(t),i=e.slice();return r(e,i,0,n,1),r(i,e,0,n,1),r(e,i,0,n,1),e},a.blur2=w,a.blurImage=A,a.brush=function(){return uu(jy)},a.brushSelection=function(e){var t=e.__brush;return t?t.dim.output(t.selection):null},a.brushX=function(){return uu(Ga)},a.brushY=function(){return uu($a)},a.buffer=function(e,t){return fetch(e,t).then(Lm)},a.chord=function(){return fu(!1,!1)},a.chordDirected=function(){return fu(!0,!1)},a.chordTranspose=function(){return fu(!1,!0)},a.cluster=function(){var e=kv,t=1,n=1,r=!1;function i(o){var s,u=0;o.eachAfter(function(m){var M=m.children;M?(m.x=function(I){return I.reduce(Cv,0)/I.length}(M),m.y=function(I){return 1+I.reduce(Nv,0)}(M)):(m.x=s?u+=e(m,s):0,m.y=0,s=m)});var l=function(m){for(var M;M=m.children;)m=M[0];return m}(o),c=function(m){for(var M;M=m.children;)m=M[M.length-1];return m}(o),h=l.x-e(l,c)/2,_=c.x+e(c,l)/2;return o.eachAfter(r?function(m){m.x=(m.x-o.x)*t,m.y=(o.y-m.y)*n}:function(m){m.x=(m.x-h)/(_-h)*t,m.y=(1-(o.y?m.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i},a.color=zn,a.contourDensity=function(){var e=im,t=am,n=om,r=960,i=500,o=20,s=2,u=3*o,l=r+2*u>>s,c=i+2*u>>s,h=$n(20);function _(R){var D=new Float32Array(l*c),L=Math.pow(2,-s),j=-1;for(const re of R){var B=(e(re,++j,R)+u)*L,W=(t(re,j,R)+u)*L,te=+n(re,j,R);if(te&&B>=0&&B<l&&W>=0&&W<c){var Q=Math.floor(B),G=Math.floor(W),V=B-Q-.5,K=W-G-.5;D[Q+G*l]+=(1-V)*(1-K)*te,D[Q+1+G*l]+=V*(1-K)*te,D[Q+1+(G+1)*l]+=V*K*te,D[Q+(G+1)*l]+=(1-V)*K*te}}return w({data:D,width:l,height:c},o*L),D}function m(R){var D=_(R),L=h(D),j=Math.pow(2,2*s);return Array.isArray(L)||(L=it(Number.MIN_VALUE,At(D)/j,L)),gu().size([l,c]).thresholds(L.map(B=>B*j))(D).map((B,W)=>(B.value=+L[W],M(B)))}function M(R){return R.coordinates.forEach(I),R}function I(R){R.forEach(k)}function k(R){R.forEach(O)}function O(R){R[0]=R[0]*Math.pow(2,s)-u,R[1]=R[1]*Math.pow(2,s)-u}function C(){return l=r+2*(u=3*o)>>s,c=i+2*u>>s,m}return m.contours=function(R){var D=_(R),L=gu().size([l,c]),j=Math.pow(2,2*s),B=W=>{W=+W;var te=M(L.contour(D,W*j));return te.value=W,te};return Object.defineProperty(B,"max",{get:()=>At(D)/j}),B},m.x=function(R){return arguments.length?(e=typeof R=="function"?R:$n(+R),m):e},m.y=function(R){return arguments.length?(t=typeof R=="function"?R:$n(+R),m):t},m.weight=function(R){return arguments.length?(n=typeof R=="function"?R:$n(+R),m):n},m.size=function(R){if(!arguments.length)return[r,i];var D=+R[0],L=+R[1];if(!(D>=0&&L>=0))throw new Error("invalid size");return r=D,i=L,C()},m.cellSize=function(R){if(!arguments.length)return 1<<s;if(!((R=+R)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(R)/Math.LN2),C()},m.thresholds=function(R){return arguments.length?(h=typeof R=="function"?R:Array.isArray(R)?$n(Wf.call(R)):$n(R),m):h},m.bandwidth=function(R){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((R=+R)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*R*R+1)-1)/2,C()},m},a.contours=gu,a.count=Y,a.create=function(e){return mt(ma(e).call(document.documentElement))},a.creator=ma,a.cross=function(...e){const t=typeof e[e.length-1]=="function"&&function(s){return u=>s(...u)}(e.pop()),n=(e=e.map(q)).map(z),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Z))return o;for(;;){o.push(i.map((u,l)=>e[l][u]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?o.map(t):o;i[s--]=0}}},a.csv=Dm,a.csvFormat=_m,a.csvFormatBody=xm,a.csvFormatRow=Am,a.csvFormatRows=wm,a.csvFormatValue=Mm,a.csvParse=oh,a.csvParseRows=bm,a.cubehelix=tn,a.cumsum=function(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)},a.curveBasis=function(e){return new fs(e)},a.curveBasisClosed=function(e){return new n1(e)},a.curveBasisOpen=function(e){return new r1(e)},a.curveBumpX=U0,a.curveBumpY=z0,a.curveBundle=q2,a.curveCardinal=ex,a.curveCardinalClosed=tx,a.curveCardinalOpen=nx,a.curveCatmullRom=rx,a.curveCatmullRomClosed=ix,a.curveCatmullRomOpen=ax,a.curveLinear=ss,a.curveLinearClosed=function(e){return new u1(e)},a.curveMonotoneX=function(e){return new ds(e)},a.curveMonotoneY=function(e){return new h1(e)},a.curveNatural=function(e){return new p1(e)},a.curveStep=function(e){return new ps(e,.5)},a.curveStepAfter=function(e){return new ps(e,1)},a.curveStepBefore=function(e){return new ps(e,0)},a.descending=P,a.deviation=ie,a.difference=function(e,...t){e=new ye(e);for(const n of t)for(const r of n)e.delete(r);return e},a.disjoint=function(e,t){const n=t[Symbol.iterator](),r=new ye;for(const i of e){if(r.has(i))return!1;let o,s;for(;({value:o,done:s}=n.next())&&!s;){if(Object.is(i,o))return!1;r.add(o)}}return!0},a.dispatch=nr,a.drag=function(){var e,t,n,r,i=Dg,o=Rg,s=Fg,u=jg,l={},c=nr("start","drag","end"),h=0,_=0;function m(L){L.on("mousedown.drag",M).filter(u).on("touchstart.drag",O).on("touchmove.drag",C,Pg).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(L,j){if(!r&&i.call(this,L,j)){var B=D(this,o.call(this,L,j),L,j,"mouse");B&&(mt(L.view).on("mousemove.drag",I,ci).on("mouseup.drag",k,ci),_a(L.view),Os(L),n=!1,e=L.clientX,t=L.clientY,B("start",L))}}function I(L){if(Tr(L),!n){var j=L.clientX-e,B=L.clientY-t;n=j*j+B*B>_}l.mouse("drag",L)}function k(L){mt(L.view).on("mousemove.drag mouseup.drag",null),xa(L.view,n),Tr(L),l.mouse("end",L)}function O(L,j){if(i.call(this,L,j)){var B,W,te=L.changedTouches,Q=o.call(this,L,j),G=te.length;for(B=0;B<G;++B)(W=D(this,Q,L,j,te[B].identifier,te[B]))&&(Os(L),W("start",L,te[B]))}}function C(L){var j,B,W=L.changedTouches,te=W.length;for(j=0;j<te;++j)(B=l[W[j].identifier])&&(Tr(L),B("drag",L,W[j]))}function R(L){var j,B,W=L.changedTouches,te=W.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),j=0;j<te;++j)(B=l[W[j].identifier])&&(Os(L),B("end",L,W[j]))}function D(L,j,B,W,te,Q){var G,V,K,re=c.copy(),U=Ut(Q||B,j);if((K=s.call(L,new Ls("beforestart",{sourceEvent:B,target:m,identifier:te,active:h,x:U[0],y:U[1],dx:0,dy:0,dispatch:re}),W))!=null)return G=K.x-U[0]||0,V=K.y-U[1]||0,function X(ee,ae,fe){var de,be=U;switch(ee){case"start":l[te]=X,de=h++;break;case"end":delete l[te],--h;case"drag":U=Ut(fe||ae,j),de=h}re.call(ee,L,new Ls(ee,{sourceEvent:ae,subject:K,target:m,identifier:te,active:de,x:U[0]+G,y:U[1]+V,dx:U[0]-be[0],dy:U[1]-be[1],dispatch:re}),W)}}return m.filter=function(L){return arguments.length?(i=typeof L=="function"?L:wa(!!L),m):i},m.container=function(L){return arguments.length?(o=typeof L=="function"?L:wa(L),m):o},m.subject=function(L){return arguments.length?(s=typeof L=="function"?L:wa(L),m):s},m.touchable=function(L){return arguments.length?(u=typeof L=="function"?L:wa(!!L),m):u},m.on=function(){var L=c.on.apply(c,arguments);return L===c?m:L},m.clickDistance=function(L){return arguments.length?(_=(L=+L)*L,m):Math.sqrt(_)},m},a.dragDisable=_a,a.dragEnable=xa,a.dsv=function(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Wa(e);return Za(t,n).then(function(o){return i.parse(o,r)})},a.dsvFormat=Wa,a.easeBack=Df,a.easeBackIn=Ny,a.easeBackInOut=Df,a.easeBackOut=Iy,a.easeBounce=_i,a.easeBounceIn=function(e){return 1-_i(1-e)},a.easeBounceInOut=function(e){return((e*=2)<=1?1-_i(1-e):_i(e-1)+1)/2},a.easeBounceOut=_i,a.easeCircle=Pf,a.easeCircleIn=function(e){return 1-Math.sqrt(1-e*e)},a.easeCircleInOut=Pf,a.easeCircleOut=function(e){return Math.sqrt(1- --e*e)},a.easeCubic=eu,a.easeCubicIn=function(e){return e*e*e},a.easeCubicInOut=eu,a.easeCubicOut=function(e){return--e*e*e+1},a.easeElastic=Rf,a.easeElasticIn=Oy,a.easeElasticInOut=Ly,a.easeElasticOut=Rf,a.easeExp=Lf,a.easeExpIn=function(e){return Gn(1-+e)},a.easeExpInOut=Lf,a.easeExpOut=function(e){return 1-Gn(e)},a.easeLinear=e=>+e,a.easePoly=Cf,a.easePolyIn=_y,a.easePolyInOut=Cf,a.easePolyOut=xy,a.easeQuad=kf,a.easeQuadIn=function(e){return e*e},a.easeQuadInOut=kf,a.easeQuadOut=function(e){return e*(2-e)},a.easeSin=Of,a.easeSinIn=function(e){return+e==1?1:1-Math.cos(e*If)},a.easeSinInOut=Of,a.easeSinOut=function(e){return Math.sin(e*If)},a.every=function(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0},a.extent=se,a.fcumsum=function(e,t){const n=new oe;let r=-1;return Float64Array.from(e,t===void 0?i=>n.add(+i||0):i=>n.add(+t(i,++r,e)||0))},a.filter=function(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n},a.flatGroup=function(e,...t){return Me(xe(e,...t),t)},a.flatRollup=function(e,t,...n){return Me(Ge(e,t,...n),n)},a.forceCenter=function(e,t){var n,r=1;function i(){var o,s,u=n.length,l=0,c=0;for(o=0;o<u;++o)l+=(s=n[o]).x,c+=s.y;for(l=(l/u-e)*r,c=(c/u-t)*r,o=0;o<u;++o)(s=n[o]).x-=l,s.y-=c}return e==null&&(e=0),t==null&&(t=0),i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i},a.forceCollide=function(e){var t,n,r,i=1,o=1;function s(){for(var c,h,_,m,M,I,k,O=t.length,C=0;C<o;++C)for(h=Qa(t,Gm,$m).visitAfter(u),c=0;c<O;++c)_=t[c],I=n[_.index],k=I*I,m=_.x+_.vx,M=_.y+_.vy,h.visit(R);function R(D,L,j,B,W){var te=D.data,Q=D.r,G=I+Q;if(!te)return L>m+G||B<m-G||j>M+G||W<M-G;if(te.index>_.index){var V=m-te.x-te.vx,K=M-te.y-te.vy,re=V*V+K*K;re<G*G&&(V===0&&(re+=(V=Vn(r))*V),K===0&&(re+=(K=Vn(r))*K),re=(G-(re=Math.sqrt(re)))/re*i,_.vx+=(V*=re)*(G=(Q*=Q)/(k+Q)),_.vy+=(K*=re)*G,te.vx-=V*(G=1-G),te.vy-=K*G)}}}function u(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function l(){if(t){var c,h,_=t.length;for(n=new Array(_),c=0;c<_;++c)h=t[c],n[h.index]=+e(h,c,t)}}return typeof e!="function"&&(e=ft(e==null?1:+e)),s.initialize=function(c,h){t=c,r=h,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),l(),s):e},s},a.forceLink=function(e){var t,n,r,i,o,s,u=Vm,l=function(k){return 1/Math.min(i[k.source.index],i[k.target.index])},c=ft(30),h=1;function _(k){for(var O=0,C=e.length;O<h;++O)for(var R,D,L,j,B,W,te,Q=0;Q<C;++Q)D=(R=e[Q]).source,j=(L=R.target).x+L.vx-D.x-D.vx||Vn(s),B=L.y+L.vy-D.y-D.vy||Vn(s),j*=W=((W=Math.sqrt(j*j+B*B))-n[Q])/W*k*t[Q],B*=W,L.vx-=j*(te=o[Q]),L.vy-=B*te,D.vx+=j*(te=1-te),D.vy+=B*te}function m(){if(r){var k,O,C=r.length,R=e.length,D=new Map(r.map((L,j)=>[u(L,j,r),L]));for(k=0,i=new Array(C);k<R;++k)(O=e[k]).index=k,typeof O.source!="object"&&(O.source=fh(D,O.source)),typeof O.target!="object"&&(O.target=fh(D,O.target)),i[O.source.index]=(i[O.source.index]||0)+1,i[O.target.index]=(i[O.target.index]||0)+1;for(k=0,o=new Array(R);k<R;++k)O=e[k],o[k]=i[O.source.index]/(i[O.source.index]+i[O.target.index]);t=new Array(R),M(),n=new Array(R),I()}}function M(){if(r)for(var k=0,O=e.length;k<O;++k)t[k]=+l(e[k],k,e)}function I(){if(r)for(var k=0,O=e.length;k<O;++k)n[k]=+c(e[k],k,e)}return e==null&&(e=[]),_.initialize=function(k,O){r=k,s=O,m()},_.links=function(k){return arguments.length?(e=k,m(),_):e},_.id=function(k){return arguments.length?(u=k,_):u},_.iterations=function(k){return arguments.length?(h=+k,_):h},_.strength=function(k){return arguments.length?(l=typeof k=="function"?k:ft(+k),M(),_):l},_.distance=function(k){return arguments.length?(c=typeof k=="function"?k:ft(+k),I(),_):c},_},a.forceManyBody=function(){var e,t,n,r,i,o=ft(-30),s=1,u=1/0,l=.81;function c(M){var I,k=e.length,O=Qa(e,Xm,Wm).visitAfter(_);for(r=M,I=0;I<k;++I)t=e[I],O.visit(m)}function h(){if(e){var M,I,k=e.length;for(i=new Array(k),M=0;M<k;++M)I=e[M],i[I.index]=+o(I,M,e)}}function _(M){var I,k,O,C,R,D=0,L=0;if(M.length){for(O=C=R=0;R<4;++R)(I=M[R])&&(k=Math.abs(I.value))&&(D+=I.value,L+=k,O+=k*I.x,C+=k*I.y);M.x=O/L,M.y=C/L}else{(I=M).x=I.data.x,I.y=I.data.y;do D+=i[I.data.index];while(I=I.next)}M.value=D}function m(M,I,k,O){if(!M.value)return!0;var C=M.x-t.x,R=M.y-t.y,D=O-I,L=C*C+R*R;if(D*D/l<L)return L<u&&(C===0&&(L+=(C=Vn(n))*C),R===0&&(L+=(R=Vn(n))*R),L<s&&(L=Math.sqrt(s*L)),t.vx+=C*M.value*r/L,t.vy+=R*M.value*r/L),!0;if(!(M.length||L>=u)){(M.data!==t||M.next)&&(C===0&&(L+=(C=Vn(n))*C),R===0&&(L+=(R=Vn(n))*R),L<s&&(L=Math.sqrt(s*L)));do M.data!==t&&(D=i[M.data.index]*r/L,t.vx+=C*D,t.vy+=R*D);while(M=M.next)}}return c.initialize=function(M,I){e=M,n=I,h()},c.strength=function(M){return arguments.length?(o=typeof M=="function"?M:ft(+M),h(),c):o},c.distanceMin=function(M){return arguments.length?(s=M*M,c):Math.sqrt(s)},c.distanceMax=function(M){return arguments.length?(u=M*M,c):Math.sqrt(u)},c.theta=function(M){return arguments.length?(l=M*M,c):Math.sqrt(l)},c},a.forceRadial=function(e,t,n){var r,i,o,s=ft(.1);function u(c){for(var h=0,_=r.length;h<_;++h){var m=r[h],M=m.x-t||1e-6,I=m.y-n||1e-6,k=Math.sqrt(M*M+I*I),O=(o[h]-k)*i[h]*c/k;m.vx+=M*O,m.vy+=I*O}}function l(){if(r){var c,h=r.length;for(i=new Array(h),o=new Array(h),c=0;c<h;++c)o[c]=+e(r[c],c,r),i[c]=isNaN(o[c])?0:+s(r[c],c,r)}}return typeof e!="function"&&(e=ft(+e)),t==null&&(t=0),n==null&&(n=0),u.initialize=function(c){r=c,l()},u.strength=function(c){return arguments.length?(s=typeof c=="function"?c:ft(+c),l(),u):s},u.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),l(),u):e},u.x=function(c){return arguments.length?(t=+c,u):t},u.y=function(c){return arguments.length?(n=+c,u):n},u},a.forceSimulation=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,u=new Map,l=ja(_),c=nr("tick","end"),h=function(){let k=1;return()=>(k=(Ym*k+Km)%hh)/hh}();function _(){m(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function m(k){var O,C,R=e.length;k===void 0&&(k=1);for(var D=0;D<k;++D)for(n+=(o-n)*i,u.forEach(function(L){L(n)}),O=0;O<R;++O)(C=e[O]).fx==null?C.x+=C.vx*=s:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=s:(C.y=C.fy,C.vy=0);return t}function M(){for(var k,O=0,C=e.length;O<C;++O){if((k=e[O]).index=O,k.fx!=null&&(k.x=k.fx),k.fy!=null&&(k.y=k.fy),isNaN(k.x)||isNaN(k.y)){var R=10*Math.sqrt(.5+O),D=O*Zm;k.x=R*Math.cos(D),k.y=R*Math.sin(D)}(isNaN(k.vx)||isNaN(k.vy))&&(k.vx=k.vy=0)}}function I(k){return k.initialize&&k.initialize(e,h),k}return e==null&&(e=[]),M(),t={tick:m,restart:function(){return l.restart(_),t},stop:function(){return l.stop(),t},nodes:function(k){return arguments.length?(e=k,M(),u.forEach(I),t):e},alpha:function(k){return arguments.length?(n=+k,t):n},alphaMin:function(k){return arguments.length?(r=+k,t):r},alphaDecay:function(k){return arguments.length?(i=+k,t):+i},alphaTarget:function(k){return arguments.length?(o=+k,t):o},velocityDecay:function(k){return arguments.length?(s=1-k,t):1-s},randomSource:function(k){return arguments.length?(h=k,u.forEach(I),t):h},force:function(k,O){return arguments.length>1?(O==null?u.delete(k):u.set(k,I(O)),t):u.get(k)},find:function(k,O,C){var R,D,L,j,B,W=0,te=e.length;for(C==null?C=1/0:C*=C,W=0;W<te;++W)(L=(R=k-(j=e[W]).x)*R+(D=O-j.y)*D)<C&&(B=j,C=L);return B},on:function(k,O){return arguments.length>1?(c.on(k,O),t):c.on(k)}}},a.forceX=function(e){var t,n,r,i=ft(.1);function o(u){for(var l,c=0,h=t.length;c<h;++c)(l=t[c]).vx+=(r[c]-l.x)*n[c]*u}function s(){if(t){var u,l=t.length;for(n=new Array(l),r=new Array(l),u=0;u<l;++u)n[u]=isNaN(r[u]=+e(t[u],u,t))?0:+i(t[u],u,t)}}return typeof e!="function"&&(e=ft(e==null?0:+e)),o.initialize=function(u){t=u,s()},o.strength=function(u){return arguments.length?(i=typeof u=="function"?u:ft(+u),s(),o):i},o.x=function(u){return arguments.length?(e=typeof u=="function"?u:ft(+u),s(),o):e},o},a.forceY=function(e){var t,n,r,i=ft(.1);function o(u){for(var l,c=0,h=t.length;c<h;++c)(l=t[c]).vy+=(r[c]-l.y)*n[c]*u}function s(){if(t){var u,l=t.length;for(n=new Array(l),r=new Array(l),u=0;u<l;++u)n[u]=isNaN(r[u]=+e(t[u],u,t))?0:+i(t[u],u,t)}}return typeof e!="function"&&(e=ft(e==null?0:+e)),o.initialize=function(u){t=u,s()},o.strength=function(u){return arguments.length?(i=typeof u=="function"?u:ft(+u),s(),o):i},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ft(+u),s(),o):e},o},a.formatDefaultLocale=_h,a.formatLocale=bh,a.formatSpecifier=Gr,a.fsum=function(e,t){const n=new oe;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n},a.geoAlbers=Fd,a.geoAlbersUsa=function(){var e,t,n,r,i,o,s=Fd(),u=Fo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Fo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(m,M){o=[m,M]}};function h(m){var M=m[0],I=m[1];return o=null,n.point(M,I),o||(r.point(M,I),o)||(i.point(M,I),o)}function _(){return e=t=null,h}return h.invert=function(m){var M=s.scale(),I=s.translate(),k=(m[0]-I[0])/M,O=(m[1]-I[1])/M;return(O>=.12&&O<.234&&k>=-.425&&k<-.214?u:O>=.166&&O<.234&&k>=-.214&&k<-.115?l:s).invert(m)},h.stream=function(m){return e&&t===m?e:(M=[s.stream(t=m),u.stream(m),l.stream(m)],I=M.length,e={point:function(k,O){for(var C=-1;++C<I;)M[C].point(k,O)},sphere:function(){for(var k=-1;++k<I;)M[k].sphere()},lineStart:function(){for(var k=-1;++k<I;)M[k].lineStart()},lineEnd:function(){for(var k=-1;++k<I;)M[k].lineEnd()},polygonStart:function(){for(var k=-1;++k<I;)M[k].polygonStart()},polygonEnd:function(){for(var k=-1;++k<I;)M[k].polygonEnd()}});var M,I},h.precision=function(m){return arguments.length?(s.precision(m),u.precision(m),l.precision(m),_()):s.precision()},h.scale=function(m){return arguments.length?(s.scale(m),u.scale(.35*m),l.scale(m),h.translate(s.translate())):s.scale()},h.translate=function(m){if(!arguments.length)return s.translate();var M=s.scale(),I=+m[0],k=+m[1];return n=s.translate(m).clipExtent([[I-.455*M,k-.238*M],[I+.455*M,k+.238*M]]).stream(c),r=u.translate([I-.307*M,k+.201*M]).clipExtent([[I-.425*M+Ne,k+.12*M+Ne],[I-.214*M-Ne,k+.234*M-Ne]]).stream(c),i=l.translate([I-.205*M,k+.212*M]).clipExtent([[I-.214*M+Ne,k+.166*M+Ne],[I-.115*M-Ne,k+.234*M-Ne]]).stream(c),_()},h.fitExtent=function(m,M){return Ro(h,m,M)},h.fitSize=function(m,M){return ac(h,m,M)},h.fitWidth=function(m,M){return oc(h,m,M)},h.fitHeight=function(m,M){return sc(h,m,M)},h.scale(1070)},a.geoArea=function(e){return so=new oe,rn(e,mn),2*so},a.geoAzimuthalEqualArea=function(){return _n(lc).scale(124.75).clipAngle(179.999)},a.geoAzimuthalEqualAreaRaw=lc,a.geoAzimuthalEquidistant=function(){return _n(fc).scale(79.4188).clipAngle(179.999)},a.geoAzimuthalEquidistantRaw=fc,a.geoBounds=function(e){var t,n,r,i,o,s,u;if(zt=ot=-(rt=Ft=1/0),Yn=[],rn(e,In),n=Yn.length){for(Yn.sort(rv),t=1,o=[r=Yn[0]];t<n;++t)zh(r,(i=Yn[t])[0])||zh(r,i[1])?(Ht(r[0],i[1])>Ht(r[0],r[1])&&(r[1]=i[1]),Ht(i[0],r[1])>Ht(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(u=Ht(r[1],i[0]))>s&&(s=u,rt=i[0],ot=r[1])}return Yn=Nn=null,rt===1/0||Ft===1/0?[[NaN,NaN],[NaN,NaN]]:[[rt,Ft],[ot,zt]]},a.geoCentroid=function(e){Ti=ho=po=go=yo=mo=vo=bo=0,Pu=new oe,Du=new oe,Ru=new oe,rn(e,an);var t=+Pu,n=+Du,r=+Ru,i=Su(t,n,r);return i<to&&(t=mo,n=vo,r=bo,ho<Ne&&(t=po,n=go,r=yo),(i=Su(t,n,r))<to)?[NaN,NaN]:[Ct(n,t)*qe,Nt(r/i)*qe]},a.geoCircle=function(){var e,t,n=Kr([0,0]),r=Kr(90),i=Kr(6),o={point:function(u,l){e.push(u=t(u,l)),u[0]*=qe,u[1]*=qe}};function s(){var u=n.apply(this,arguments),l=r.apply(this,arguments)*Ce,c=i.apply(this,arguments)*Ce;return e=[],t=zu(-u[0]*Ce,-u[1]*Ce,0).invert,Wh(o,l,c,1),u={type:"Polygon",coordinates:[e]},e=t=null,u}return s.center=function(u){return arguments.length?(n=typeof u=="function"?u:Kr([+u[0],+u[1]]),s):n},s.radius=function(u){return arguments.length?(r=typeof u=="function"?u:Kr(+u),s):r},s.precision=function(u){return arguments.length?(i=typeof u=="function"?u:Kr(+u),s):i},s},a.geoClipAntimeridian=Gu,a.geoClipCircle=nd,a.geoClipExtent=function(){var e,t,n,r=0,i=0,o=960,s=500;return n={stream:function(u){return e&&t===u?e:e=So(r,i,o,s)(t=u)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],s=+u[1][1],e=t=null,n):[[r,i],[o,s]]}}},a.geoClipRectangle=So,a.geoConicConformal=function(){return cc(Ud).scale(109.5).parallels([30,30])},a.geoConicConformalRaw=Ud,a.geoConicEqualArea=Fo,a.geoConicEqualAreaRaw=Rd,a.geoConicEquidistant=function(){return cc(zd).scale(131.154).center([0,13.9389])},a.geoConicEquidistantRaw=zd,a.geoContains=function(e,t){return(e&&id.hasOwnProperty(e.type)?id[e.type]:ko)(e,t)},a.geoDistance=To,a.geoEqualEarth=function(){return _n(hc).scale(177.158)},a.geoEqualEarthRaw=hc,a.geoEquirectangular=function(){return _n(ji).scale(152.63)},a.geoEquirectangularRaw=ji,a.geoGnomonic=function(){return _n(dc).scale(144.049).clipAngle(60)},a.geoGnomonicRaw=dc,a.geoGraticule=hd,a.geoGraticule10=function(){return hd()()},a.geoIdentity=function(){var e,t,n,r,i,o,s,u=1,l=0,c=0,h=1,_=1,m=0,M=null,I=1,k=1,O=Di({point:function(L,j){var B=D([L,j]);this.stream.point(B[0],B[1])}}),C=Ci;function R(){return I=u*h,k=u*_,o=s=null,D}function D(L){var j=L[0]*I,B=L[1]*k;if(m){var W=B*e-j*t;j=j*e+B*t,B=W}return[j+l,B+c]}return D.invert=function(L){var j=L[0]-l,B=L[1]-c;if(m){var W=B*e+j*t;j=j*e-B*t,B=W}return[j/I,B/k]},D.stream=function(L){return o&&s===L?o:o=O(C(s=L))},D.postclip=function(L){return arguments.length?(C=L,M=n=r=i=null,R()):C},D.clipExtent=function(L){return arguments.length?(C=L==null?(M=n=r=i=null,Ci):So(M=+L[0][0],n=+L[0][1],r=+L[1][0],i=+L[1][1]),R()):M==null?null:[[M,n],[r,i]]},D.scale=function(L){return arguments.length?(u=+L,R()):u},D.translate=function(L){return arguments.length?(l=+L[0],c=+L[1],R()):[l,c]},D.angle=function(L){return arguments.length?(t=Ee(m=L%360*Ce),e=Te(m),R()):m*qe},D.reflectX=function(L){return arguments.length?(h=L?-1:1,R()):h<0},D.reflectY=function(L){return arguments.length?(_=L?-1:1,R()):_<0},D.fitExtent=function(L,j){return Ro(D,L,j)},D.fitSize=function(L,j){return ac(D,L,j)},D.fitWidth=function(L,j){return oc(D,L,j)},D.fitHeight=function(L,j){return sc(D,L,j)},D},a.geoInterpolate=function(e,t){var n=e[0]*Ce,r=e[1]*Ce,i=t[0]*Ce,o=t[1]*Ce,s=Te(r),u=Ee(r),l=Te(o),c=Ee(o),h=s*Te(n),_=s*Ee(n),m=l*Te(i),M=l*Ee(i),I=2*Nt(pt(Sh(o-r)+s*l*Sh(i-n))),k=Ee(I),O=I?function(C){var R=Ee(C*=I)/k,D=Ee(I-C)/k,L=D*h+R*m,j=D*_+R*M,B=D*u+R*c;return[Ct(j,L)*qe,Ct(B,pt(L*L+j*j))*qe]}:function(){return[n*qe,r*qe]};return O.distance=I,O},a.geoLength=rd,a.geoMercator=function(){return Bd(Fi).scale(961/kt)},a.geoMercatorRaw=Fi,a.geoNaturalEarth1=function(){return _n(pc).scale(175.295)},a.geoNaturalEarth1Raw=pc,a.geoOrthographic=function(){return _n(gc).scale(249.5).clipAngle(90+Ne)},a.geoOrthographicRaw=gc,a.geoPath=function(e,t){let n,r,i=3,o=4.5;function s(u){return u&&(typeof o=="function"&&r.pointRadius(+o.apply(this,arguments)),rn(u,n(r))),r.result()}return s.area=function(u){return rn(u,n(yd)),yd.result()},s.measure=function(u){return rn(u,n(Td)),Td.result()},s.bounds=function(u){return rn(u,n(Io)),Io.result()},s.centroid=function(u){return rn(u,n(wd)),wd.result()},s.projection=function(u){return arguments.length?(n=u==null?(e=null,Ci):(e=u).stream,s):e},s.context=function(u){return arguments.length?(r=u==null?(t=null,new Id(i)):new Ad(t=u),typeof o!="function"&&r.pointRadius(o),s):t},s.pointRadius=function(u){return arguments.length?(o=typeof u=="function"?u:(r.pointRadius(+u),+u),s):o},s.digits=function(u){if(!arguments.length)return i;if(u==null)i=null;else{const l=Math.floor(u);if(!(l>=0))throw new RangeError(`invalid digits: ${u}`);i=l}return t===null&&(r=new Id(i)),s},s.projection(e).digits(i).context(t)},a.geoProjection=_n,a.geoProjectionMutator=uc,a.geoRotation=Xh,a.geoStereographic=function(){return _n(yc).scale(250).clipAngle(142)},a.geoStereographicRaw=yc,a.geoStream=rn,a.geoTransform=function(e){return{stream:Di(e)}},a.geoTransverseMercator=function(){var e=Bd(mc),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):[(r=t())[1],-r[0]]},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):[(r=n())[0],r[1],r[2]-90]},n([0,0,90]).scale(159.155)},a.geoTransverseMercatorRaw=mc,a.gray=function(e,t){return new en(e,0,0,t??1)},a.greatest=tr,a.greatestIndex=function(e,t=v){if(t.length===1)return cn(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?t(o,o)===0:t(o,n)>0)&&(n=o,r=i);return r},a.group=me,a.groupSort=function(e,t,n){return(t.length!==2?Ue(De(e,t,n),([r,i],[o,s])=>v(i,s)||v(r,o)):Ue(me(e,n),([r,i],[o,s])=>t(i,s)||v(r,o))).map(([r])=>r)},a.groups=xe,a.hcl=ka,a.hierarchy=vc,a.histogram=Ve,a.hsl=Ea,a.html=Bm,a.image=function(e,t){return new Promise(function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e})},a.index=function(e,...t){return Oe(e,ue,Ke,t)},a.indexes=function(e,...t){return Oe(e,Array.from,Ke,t)},a.interpolate=Hn,a.interpolateArray=function(e,t){return(nf(t)?Hs:rf)(e,t)},a.interpolateBasis=Ql,a.interpolateBasisClosed=Jl,a.interpolateBlues=v2,a.interpolateBrBG=Q_,a.interpolateBuGn=o2,a.interpolateBuPu=s2,a.interpolateCividis=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},a.interpolateCool=S2,a.interpolateCubehelix=qg,a.interpolateCubehelixDefault=M2,a.interpolateCubehelixLong=Pa,a.interpolateDate=af,a.interpolateDiscrete=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},a.interpolateGnBu=u2,a.interpolateGreens=b2,a.interpolateGreys=_2,a.interpolateHcl=Qg,a.interpolateHclLong=Jg,a.interpolateHsl=Wg,a.interpolateHslLong=Zg,a.interpolateHue=function(e,t){var n=Ia(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}},a.interpolateInferno=I2,a.interpolateLab=function(e,t){var n=dt((e=Ta(e)).l,(t=Ta(t)).l),r=dt(e.a,t.a),i=dt(e.b,t.b),o=dt(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}},a.interpolateMagma=N2,a.interpolateNumber=Vt,a.interpolateNumberArray=Hs,a.interpolateObject=of,a.interpolateOrRd=c2,a.interpolateOranges=A2,a.interpolatePRGn=J_,a.interpolatePiYG=q_,a.interpolatePlasma=O2,a.interpolatePuBu=f2,a.interpolatePuBuGn=l2,a.interpolatePuOr=e2,a.interpolatePuRd=h2,a.interpolatePurples=x2,a.interpolateRainbow=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ts.h=360*e-100,ts.s=1.5-1.5*t,ts.l=.8-.9*t,ts+""},a.interpolateRdBu=t2,a.interpolateRdGy=n2,a.interpolateRdPu=d2,a.interpolateRdYlBu=r2,a.interpolateRdYlGn=i2,a.interpolateReds=w2,a.interpolateRgb=di,a.interpolateRgbBasis=tf,a.interpolateRgbBasisClosed=Xg,a.interpolateRound=Oa,a.interpolateSinebow=function(e){var t;return e=(.5-e)*Math.PI,ns.r=255*(t=Math.sin(e))*t,ns.g=255*(t=Math.sin(e+T2))*t,ns.b=255*(t=Math.sin(e+k2))*t,ns+""},a.interpolateSpectral=a2,a.interpolateString=Vs,a.interpolateTransformCss=lf,a.interpolateTransformSvg=ff,a.interpolateTurbo=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},a.interpolateViridis=C2,a.interpolateWarm=E2,a.interpolateYlGn=g2,a.interpolateYlGnBu=p2,a.interpolateYlOrBr=y2,a.interpolateYlOrRd=m2,a.interpolateZoom=df,a.interrupt=lr,a.intersection=function(e,...t){e=new ye(e),t=t.map(P1);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e},a.interval=function(e,t,n){var r=new bi,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,u){s=+s,u=u==null?vi():+u,r._restart(function l(c){c+=i,r._restart(l,i+=s,u),o(c)},s,u)},r.restart(e,t,n),r)},a.isoFormat=R_,a.isoParse=j_,a.json=function(e,t){return fetch(e,t).then(Fm)},a.lab=Ta,a.lch=function(e,t,n,r){return arguments.length===1?$l(e):new pn(n,t,e,r??1)},a.least=function(e,t=v){let n,r=!1;if(t.length===1){let i;for(const o of e){const s=t(o);(r?v(s,i)<0:v(s,s)===0)&&(n=o,i=s,r=!0)}}else for(const i of e)(r?t(i,n)<0:t(i,i)===0)&&(n=i,r=!0);return n},a.leastIndex=fa,a.line=Wc,a.lineRadial=F0,a.link=us,a.linkHorizontal=function(){return us(U0)},a.linkRadial=function(){const e=us(G2);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},a.linkVertical=function(){return us(z0)},a.local=El,a.map=function(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))},a.matcher=Ts,a.max=At,a.maxIndex=cn,a.mean=function(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},a.median=function(e,t){return ln(e,.5,t)},a.medianIndex=function(e,t){return oi(e,.5,t)},a.merge=fn,a.min=Sr,a.minIndex=Bn,a.mode=function(e,t){const n=new le;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[o,s]of n)s>i&&(i=s,r=o);return r},a.namespace=ui,a.namespaces=Es,a.nice=Le,a.now=vi,a.pack=function(){var e=null,t=1,n=1,r=xr;function i(o){const s=bc();return o.x=t/2,o.y=n/2,e?o.eachBefore(Jd(e)).eachAfter(xc(r,.5,s)).eachBefore(qd(1)):o.eachBefore(Jd(Bv)).eachAfter(xc(xr,1,s)).eachAfter(xc(r,o.r/Math.min(t,n),s)).eachBefore(qd(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=Uo(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Qr(+o),i):r},i},a.packEnclose=function(e){return Vd(e,bc())},a.packSiblings=function(e){return Qd(e,bc()),e},a.pairs=function(e,t=la){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n},a.partition=function(){var e=1,t=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(function(u,l){return function(c){c.children&&$i(c,c.x0,u*(c.depth+1)/l,c.x1,u*(c.depth+2)/l);var h=c.x0,_=c.y0,m=c.x1-n,M=c.y1-n;m<h&&(h=m=(h+m)/2),M<_&&(_=M=(_+M)/2),c.x0=h,c.y0=_,c.x1=m,c.y1=M}}(t,s)),r&&o.eachBefore(ep),o}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(e=+o[0],t=+o[1],i):[e,t]},i.padding=function(o){return arguments.length?(n=+o,i):n},i},a.path=pu,a.pathRound=function(e=3){return new wi(+e)},a.permute=Ye,a.pie=function(){var e=z2,t=U2,n=null,r=Fe(0),i=Fe(Qn),o=Fe(0);function s(u){var l,c,h,_,m,M=(u=os(u)).length,I=0,k=new Array(M),O=new Array(M),C=+r.apply(this,arguments),R=Math.min(Qn,Math.max(-Qn,i.apply(this,arguments)-C)),D=Math.min(Math.abs(R)/M,o.apply(this,arguments)),L=D*(R<0?-1:1);for(l=0;l<M;++l)(m=O[k[l]=l]=+e(u[l],l,u))>0&&(I+=m);for(t!=null?k.sort(function(j,B){return t(O[j],O[B])}):n!=null&&k.sort(function(j,B){return n(u[j],u[B])}),l=0,h=I?(R-M*L)/I:0;l<M;++l,C=_)c=k[l],_=C+((m=O[c])>0?m*h:0)+L,O[c]={data:u[c],index:l,value:m,startAngle:C,endAngle:_,padAngle:D};return O}return s.value=function(u){return arguments.length?(e=typeof u=="function"?u:Fe(+u),s):e},s.sortValues=function(u){return arguments.length?(t=u,n=null,s):t},s.sort=function(u){return arguments.length?(n=u,t=null,s):n},s.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:Fe(+u),s):r},s.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Fe(+u),s):i},s.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Fe(+u),s):o},s},a.piecewise=mf,a.pointRadial=ta,a.pointer=Ut,a.pointers=function(e,t){return e.target&&(e=Sl(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Ut(n,t))},a.polygonArea=function(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[1]*i[0]-t[0]*i[1];return o/2},a.polygonCentroid=function(e){for(var t,n,r=-1,i=e.length,o=0,s=0,u=e[i-1],l=0;++r<i;)t=u,u=e[r],l+=n=t[0]*u[1]-u[0]*t[1],o+=(t[0]+u[0])*n,s+=(t[1]+u[1])*n;return[o/(l*=3),s/l]},a.polygonContains=function(e,t){for(var n,r,i=e.length,o=e[i-1],s=t[0],u=t[1],l=o[0],c=o[1],h=!1,_=0;_<i;++_)n=(o=e[_])[0],(r=o[1])>u!=c>u&&s<(l-n)*(u-r)/(c-r)+n&&(h=!h),l=n,c=r;return h},a.polygonHull=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(Xv),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=op(r),s=op(i),u=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[r[o[t]][2]]);for(t=+u;t<s.length-l;++t)c.push(e[r[s[t]][2]]);return c},a.polygonLength=function(e){for(var t,n,r=-1,i=e.length,o=e[i-1],s=o[0],u=o[1],l=0;++r<i;)t=s,n=u,t-=s=(o=e[r])[0],n-=u=o[1],l+=Math.hypot(t,n);return l},a.precisionFixed=xh,a.precisionPrefix=wh,a.precisionRound=Ah,a.quadtree=Qa,a.quantile=ln,a.quantileIndex=oi,a.quantileSorted=ca,a.quantize=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},a.quickselect=Bt,a.radialArea=j0,a.radialLine=F0,a.randomBates=Jv,a.randomBernoulli=tb,a.randomBeta=cp,a.randomBinomial=lp,a.randomCauchy=rb,a.randomExponential=qv,a.randomGamma=Tc,a.randomGeometric=up,a.randomInt=Zv,a.randomIrwinHall=sp,a.randomLcg=function(e=Math.random()){let t=0|(0<=e&&e<1?e/fp:Math.abs(e));return()=>(t=1664525*t+1013904223|0,fp*(t>>>0))},a.randomLogNormal=Qv,a.randomLogistic=ib,a.randomNormal=Sc,a.randomPareto=eb,a.randomPoisson=ab,a.randomUniform=Wv,a.randomWeibull=nb,a.range=Qt,a.rank=function(e,t=v){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=v);const i=(u,l)=>t(n[u],n[l]);let o,s;return(e=Uint32Array.from(n,(u,l)=>l)).sort(t===v?(u,l)=>ce(n[u],n[l]):Qe(i)),e.forEach((u,l)=>{const c=i(u,o===void 0?u:o);c>=0?((o===void 0||c>0)&&(o=u,s=l),r[u]=s):r[u]=NaN}),r},a.reduce=function(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,o,s=-1;if(arguments.length<3){if({done:i,value:n}=r.next(),i)return;++s}for(;{done:i,value:o}=r.next(),!i;)n=t(n,o,++s,e);return n},a.reverse=function(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()},a.rgb=Ir,a.ribbon=function(){return Xf()},a.ribbonArrow=function(){return Xf(Qy)},a.rollup=De,a.rollups=Ge,a.scaleBand=Nc,a.scaleDiverging=function e(){var t=Xn(es()(Pt));return t.copy=function(){return Wn(t,e())},On.apply(t,arguments)},a.scaleDivergingLog=function e(){var t=Lc(es()).domain([.1,1,10]);return t.copy=function(){return Wn(t,e()).base(t.base())},On.apply(t,arguments)},a.scaleDivergingPow=Yc,a.scaleDivergingSqrt=function(){return Yc.apply(null,arguments).exponent(.5)},a.scaleDivergingSymlog=function e(){var t=Pc(es());return t.copy=function(){return Wn(t,e()).constant(t.constant())},On.apply(t,arguments)},a.scaleIdentity=function e(t){var n;function r(i){return i==null||isNaN(i=+i)?n:i}return r.invert=r,r.domain=r.range=function(i){return arguments.length?(t=Array.from(i,Vo),r):t.slice()},r.unknown=function(i){return arguments.length?(n=i,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Vo):[0,1],Xn(r)},a.scaleImplicit=kc,a.scaleLinear=function e(){var t=Oc();return t.copy=function(){return Vi(t,e())},Kt.apply(t,arguments),Xn(t)},a.scaleLog=function e(){const t=Lc(Yo()).domain([1,10]);return t.copy=()=>Vi(t,e()).base(t.base()),Kt.apply(t,arguments),t},a.scaleOrdinal=Cc,a.scalePoint=function(){return hp(Nc.apply(null,arguments).paddingInner(1))},a.scalePow=Rc,a.scaleQuantile=function e(){var t,n=[],r=[],i=[];function o(){var u=0,l=Math.max(1,r.length);for(i=new Array(l-1);++u<l;)i[u-1]=ca(n,u/l);return s}function s(u){return u==null||isNaN(u=+u)?t:r[d(i,u)]}return s.invertExtent=function(u){var l=r.indexOf(u);return l<0?[NaN,NaN]:[l>0?i[l-1]:n[0],l<i.length?i[l]:n[n.length-1]]},s.domain=function(u){if(!arguments.length)return n.slice();n=[];for(let l of u)l==null||isNaN(l=+l)||n.push(l);return n.sort(v),o()},s.range=function(u){return arguments.length?(r=Array.from(u),o()):r.slice()},s.unknown=function(u){return arguments.length?(t=u,s):t},s.quantiles=function(){return i.slice()},s.copy=function(){return e().domain(n).range(r).unknown(t)},Kt.apply(s,arguments)},a.scaleQuantize=function e(){var t,n=0,r=1,i=1,o=[.5],s=[0,1];function u(c){return c!=null&&c<=c?s[d(o,c,0,i)]:t}function l(){var c=-1;for(o=new Array(i);++c<i;)o[c]=((c+1)*r-(c-i)*n)/(i+1);return u}return u.domain=function(c){return arguments.length?([n,r]=c,n=+n,r=+r,l()):[n,r]},u.range=function(c){return arguments.length?(i=(s=Array.from(c)).length-1,l()):s.slice()},u.invertExtent=function(c){var h=s.indexOf(c);return h<0?[NaN,NaN]:h<1?[n,o[0]]:h>=i?[o[i-1],r]:[o[h-1],o[h]]},u.unknown=function(c){return arguments.length&&(t=c),u},u.thresholds=function(){return o.slice()},u.copy=function(){return e().domain([n,r]).range(s).unknown(t)},Kt.apply(Xn(u),arguments)},a.scaleRadial=function e(){var t,n=Oc(),r=[0,1],i=!1;function o(s){var u=function(l){return Math.sign(l)*Math.sqrt(Math.abs(l))}(n(s));return isNaN(u)?t:i?Math.round(u):u}return o.invert=function(s){return n.invert(wp(s))},o.domain=function(s){return arguments.length?(n.domain(s),o):n.domain()},o.range=function(s){return arguments.length?(n.range((r=Array.from(s,Vo)).map(wp)),o):r.slice()},o.rangeRound=function(s){return o.range(s).round(!0)},o.round=function(s){return arguments.length?(i=!!s,o):i},o.clamp=function(s){return arguments.length?(n.clamp(s),o):n.clamp()},o.unknown=function(s){return arguments.length?(t=s,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},Kt.apply(o,arguments),Xn(o)},a.scaleSequential=function e(){var t=Xn(qo()(Pt));return t.copy=function(){return Wn(t,e())},On.apply(t,arguments)},a.scaleSequentialLog=function e(){var t=Lc(qo()).domain([1,10]);return t.copy=function(){return Wn(t,e()).base(t.base())},On.apply(t,arguments)},a.scaleSequentialPow=Vc,a.scaleSequentialQuantile=function e(){var t=[],n=Pt;function r(i){if(i!=null&&!isNaN(i=+i))return n((d(t,i,1)-1)/(t.length-1))}return r.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let o of i)o==null||isNaN(o=+o)||t.push(o);return t.sort(v),r},r.interpolator=function(i){return arguments.length?(n=i,r):n},r.range=function(){return t.map((i,o)=>n(o/(t.length-1)))},r.quantiles=function(i){return Array.from({length:i+1},(o,s)=>ln(t,s/i))},r.copy=function(){return e(n).domain(t)},On.apply(r,arguments)},a.scaleSequentialSqrt=function(){return Vc.apply(null,arguments).exponent(.5)},a.scaleSequentialSymlog=function e(){var t=Pc(qo());return t.copy=function(){return Wn(t,e()).constant(t.constant())},On.apply(t,arguments)},a.scaleSqrt=function(){return Rc.apply(null,arguments).exponent(.5)},a.scaleSymlog=function e(){var t=Pc(Yo());return t.copy=function(){return Vi(t,e()).constant(t.constant())},Kt.apply(t,arguments)},a.scaleThreshold=function e(){var t,n=[.5],r=[0,1],i=1;function o(s){return s!=null&&s<=s?r[d(n,s,0,i)]:t}return o.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(s){return arguments.length?(r=Array.from(s),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(s){var u=r.indexOf(s);return[n[u-1],n[u]]},o.unknown=function(s){return arguments.length?(t=s,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},Kt.apply(o,arguments)},a.scaleTime=function(){return Kt.apply($c(Bp,Up,xn,Qo,ei,qr,Wo,Ko,Dn,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},a.scaleUtc=function(){return Kt.apply($c(Fp,jp,wn,Jo,ti,Ki,Zo,Xo,Dn,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},a.scan=function(e,t){const n=fa(e,t);return n<0?void 0:n},a.schemeAccent=H_,a.schemeBlues=E0,a.schemeBrBG=i0,a.schemeBuGn=d0,a.schemeBuPu=p0,a.schemeCategory10=z_,a.schemeDark2=G_,a.schemeGnBu=g0,a.schemeGreens=S0,a.schemeGreys=T0,a.schemeOrRd=y0,a.schemeOranges=N0,a.schemePRGn=a0,a.schemePaired=$_,a.schemePastel1=V_,a.schemePastel2=Y_,a.schemePiYG=o0,a.schemePuBu=v0,a.schemePuBuGn=m0,a.schemePuOr=s0,a.schemePuRd=b0,a.schemePurples=k0,a.schemeRdBu=u0,a.schemeRdGy=c0,a.schemeRdPu=_0,a.schemeRdYlBu=l0,a.schemeRdYlGn=f0,a.schemeReds=C0,a.schemeSet1=K_,a.schemeSet2=X_,a.schemeSet3=W_,a.schemeSpectral=h0,a.schemeTableau10=Z_,a.schemeYlGn=w0,a.schemeYlGnBu=x0,a.schemeYlOrBr=A0,a.schemeYlOrRd=M0,a.select=mt,a.selectAll=function(e){return typeof e=="string"?new Mt([document.querySelectorAll(e)],[document.documentElement]):new Mt([ml(e)],Ns)},a.selection=ir,a.selector=va,a.selectorAll=Ss,a.shuffle=ha,a.shuffler=Jt,a.some=function(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1},a.sort=Ue,a.stack=function(){var e=Fe([]),t=ai,n=ii,r=ox;function i(o){var s,u,l=Array.from(e.apply(this,arguments),sx),c=l.length,h=-1;for(const _ of o)for(s=0,++h;s<c;++s)(l[s][h]=[0,+r(_,l[s].key,h,o)]).data=_;for(s=0,u=os(t(l));s<c;++s)l[u[s]].index=s;return n(l,u),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Fe(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Fe(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?ai:typeof o=="function"?o:Fe(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??ii,i):n},i},a.stackOffsetDiverging=function(e,t){if((u=e.length)>0)for(var n,r,i,o,s,u,l=0,c=e[t[0]].length;l<c;++l)for(o=s=0,n=0;n<u;++n)(i=(r=e[t[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=s,r[0]=s+=i):(r[0]=0,r[1]=i)},a.stackOffsetExpand=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,s=e[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}ii(e,t)}},a.stackOffsetNone=ii,a.stackOffsetSilhouette=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var s=0,u=0;s<n;++s)u+=e[s][r][1]||0;i[r][1]+=i[r][0]=-u/2}ii(e,t)}},a.stackOffsetWiggle=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var u=0,l=0,c=0;u<i;++u){for(var h=e[t[u]],_=h[s][1]||0,m=(_-(h[s-1][1]||0))/2,M=0;M<u;++M){var I=e[t[M]];m+=(I[s][1]||0)-(I[s-1][1]||0)}l+=_,c+=m*_}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,ii(e,t)}},a.stackOrderAppearance=y1,a.stackOrderAscending=m1,a.stackOrderDescending=function(e){return m1(e).reverse()},a.stackOrderInsideOut=function(e){var t,n,r=e.length,i=e.map(v1),o=y1(e),s=0,u=0,l=[],c=[];for(t=0;t<r;++t)n=o[t],s<u?(s+=i[n],l.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(l)},a.stackOrderNone=ai,a.stackOrderReverse=function(e){return ai(e).reverse()},a.stratify=function(){var e,t=zv,n=Hv;function r(i){var o,s,u,l,c,h,_,m,M=Array.from(i),I=t,k=n,O=new Map;if(e!=null){const C=M.map((L,j)=>function(B){B=`${B}`;let W=B.length;return Ac(B,W-1)&&!Ac(B,W-2)&&(B=B.slice(0,-1)),B[0]==="/"?B:`/${B}`}(e(L,j,i))),R=C.map(np),D=new Set(C).add("");for(const L of R)D.has(L)||(D.add(L),C.push(L),R.push(np(L)),M.push(wc));I=(L,j)=>C[j],k=(L,j)=>R[j]}for(u=0,o=M.length;u<o;++u)s=M[u],h=M[u]=new _r(s),(_=I(s,u,i))!=null&&(_+="")&&(m=h.id=_,O.set(m,O.has(m)?tp:h)),(_=k(s,u,i))!=null&&(_+="")&&(h.parent=_);for(u=0;u<o;++u)if(_=(h=M[u]).parent){if(!(c=O.get(_)))throw new Error("missing: "+_);if(c===tp)throw new Error("ambiguous: "+_);c.children?c.children.push(h):c.children=[h],h.parent=c}else{if(l)throw new Error("multiple roots");l=h}if(!l)throw new Error("no root");if(e!=null){for(;l.data===wc&&l.children.length===1;)l=l.children[0],--o;for(let C=M.length-1;C>=0&&(h=M[C]).data===wc;--C)h.data=null}if(l.parent=Uv,l.eachBefore(function(C){C.depth=C.parent.depth+1,--o}).eachBefore(Hd),l.parent=null,o>0)throw new Error("cycle");return l}return r.id=function(i){return arguments.length?(t=Uo(i),r):t},r.parentId=function(i){return arguments.length?(n=Uo(i),r):n},r.path=function(i){return arguments.length?(e=Uo(i),r):e},r},a.style=rr,a.subset=function(e,t){return dl(t,e)},a.sum=function(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n},a.superset=dl,a.svg=Um,a.symbol=function(e,t){let n=null,r=qi(i);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return e=typeof e=="function"?e:Fe(e||cs),t=typeof t=="function"?t:Fe(t===void 0?64:+t),i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Fe(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Fe(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i},a.symbolAsterisk=H0,a.symbolCircle=cs,a.symbolCross=G0,a.symbolDiamond=V0,a.symbolDiamond2=Y0,a.symbolPlus=K0,a.symbolSquare=X0,a.symbolSquare2=W0,a.symbolStar=Q0,a.symbolTimes=qc,a.symbolTriangle=J0,a.symbolTriangle2=q0,a.symbolWye=e1,a.symbolX=qc,a.symbols=t1,a.symbolsFill=t1,a.symbolsStroke=J2,a.text=Za,a.thresholdFreedmanDiaconis=function(e,t,n){const r=Y(e),i=ln(e,.75)-ln(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1},a.thresholdScott=function(e,t,n){const r=Y(e),i=ie(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1},a.thresholdSturges=Dt,a.tickFormat=pp,a.tickIncrement=$t,a.tickStep=lt,a.ticks=it,a.timeDay=qr,a.timeDays=mb,a.timeFormatDefaultLocale=n0,a.timeFormatLocale=zp,a.timeFriday=kp,a.timeFridays=Mb,a.timeHour=Wo,a.timeHours=gb,a.timeInterval=ct,a.timeMillisecond=Jr,a.timeMilliseconds=Ap,a.timeMinute=Ko,a.timeMinutes=db,a.timeMonday=Xi,a.timeMondays=_b,a.timeMonth=Qo,a.timeMonths=Ob,a.timeSaturday=Cp,a.timeSaturdays=Eb,a.timeSecond=Dn,a.timeSeconds=Ep,a.timeSunday=ei,a.timeSundays=Np,a.timeThursday=Ar,a.timeThursdays=Ab,a.timeTickInterval=Up,a.timeTicks=Bp,a.timeTuesday=Sp,a.timeTuesdays=xb,a.timeWednesday=Tp,a.timeWednesdays=wb,a.timeWeek=ei,a.timeWeeks=Np,a.timeYear=xn,a.timeYears=Pb,a.timeout=Xs,a.timer=ja,a.timerFlush=_f,a.transition=Sf,a.transpose=hn,a.tree=function(){var e=Gv,t=1,n=1,r=null;function i(l){var c=function(C){for(var R,D,L,j,B,W=new Go(C,0),te=[W];R=te.pop();)if(L=R._.children)for(R.children=new Array(B=L.length),j=B-1;j>=0;--j)te.push(D=R.children[j]=new Go(L[j],j)),D.parent=R;return(W.parent=new Go(null,0)).children=[W],W}(l);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)l.eachBefore(u);else{var h=l,_=l,m=l;l.eachBefore(function(C){C.x<h.x&&(h=C),C.x>_.x&&(_=C),C.depth>m.depth&&(m=C)});var M=h===_?1:e(h,_)/2,I=M-h.x,k=t/(_.x+M+I),O=n/(m.depth||1);l.eachBefore(function(C){C.x=(C.x+I)*k,C.y=C.depth*O})}return l}function o(l){var c=l.children,h=l.parent.children,_=l.i?h[l.i-1]:null;if(c){(function(M){for(var I,k=0,O=0,C=M.children,R=C.length;--R>=0;)(I=C[R]).z+=k,I.m+=k,k+=I.s+(O+=I.c)})(l);var m=(c[0].z+c[c.length-1].z)/2;_?(l.z=_.z+e(l._,_._),l.m=l.z-m):l.z=m}else _&&(l.z=_.z+e(l._,_._));l.parent.A=function(M,I,k){if(I){for(var O,C=M,R=M,D=I,L=C.parent.children[0],j=C.m,B=R.m,W=D.m,te=L.m;D=Ec(D),C=Mc(C),D&&C;)L=Mc(L),(R=Ec(R)).a=M,(O=D.z+W-C.z-j+e(D._,C._))>0&&($v(Vv(D,M,k),M,O),j+=O,B+=O),W+=D.m,j+=C.m,te+=L.m,B+=R.m;D&&!Ec(R)&&(R.t=D,R.m+=W-B),C&&!Mc(L)&&(L.t=C,L.m+=j-te,k=M)}return k}(l,_,l.parent.A||h[0])}function s(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i},a.treemap=function(){var e=ap,t=!1,n=1,r=1,i=[0],o=xr,s=xr,u=xr,l=xr,c=xr;function h(m){return m.x0=m.y0=0,m.x1=n,m.y1=r,m.eachBefore(_),i=[0],t&&m.eachBefore(ep),m}function _(m){var M=i[m.depth],I=m.x0+M,k=m.y0+M,O=m.x1-M,C=m.y1-M;O<I&&(I=O=(I+O)/2),C<k&&(k=C=(k+C)/2),m.x0=I,m.y0=k,m.x1=O,m.y1=C,m.children&&(M=i[m.depth+1]=o(m)/2,I+=c(m)-M,k+=s(m)-M,(O-=u(m)-M)<I&&(I=O=(I+O)/2),(C-=l(m)-M)<k&&(k=C=(k+C)/2),e(m,I,k,O,C))}return h.round=function(m){return arguments.length?(t=!!m,h):t},h.size=function(m){return arguments.length?(n=+m[0],r=+m[1],h):[n,r]},h.tile=function(m){return arguments.length?(e=Gd(m),h):e},h.padding=function(m){return arguments.length?h.paddingInner(m).paddingOuter(m):h.paddingInner()},h.paddingInner=function(m){return arguments.length?(o=typeof m=="function"?m:Qr(+m),h):o},h.paddingOuter=function(m){return arguments.length?h.paddingTop(m).paddingRight(m).paddingBottom(m).paddingLeft(m):h.paddingTop()},h.paddingTop=function(m){return arguments.length?(s=typeof m=="function"?m:Qr(+m),h):s},h.paddingRight=function(m){return arguments.length?(u=typeof m=="function"?m:Qr(+m),h):u},h.paddingBottom=function(m){return arguments.length?(l=typeof m=="function"?m:Qr(+m),h):l},h.paddingLeft=function(m){return arguments.length?(c=typeof m=="function"?m:Qr(+m),h):c},h},a.treemapBinary=function(e,t,n,r,i){var o,s,u=e.children,l=u.length,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=u[o].value;(function h(_,m,M,I,k,O,C){if(_>=m-1){var R=u[_];return R.x0=I,R.y0=k,R.x1=O,void(R.y1=C)}for(var D=c[_],L=M/2+D,j=_+1,B=m-1;j<B;){var W=j+B>>>1;c[W]<L?j=W+1:B=W}L-c[j-1]<c[j]-L&&_+1<j&&--j;var te=c[j]-D,Q=M-te;if(O-I>C-k){var G=M?(I*Q+O*te)/M:O;h(_,j,te,I,k,G,C),h(j,m,Q,G,k,O,C)}else{var V=M?(k*Q+C*te)/M:C;h(_,j,te,I,k,O,V),h(j,m,Q,I,V,O,C)}})(0,l,e.value,t,n,r,i)},a.treemapDice=$i,a.treemapResquarify=Yv,a.treemapSlice=$o,a.treemapSliceDice=function(e,t,n,r,i){(1&e.depth?$o:$i)(e,t,n,r,i)},a.treemapSquarify=ap,a.tsv=Rm,a.tsvFormat=Sm,a.tsvFormatBody=Tm,a.tsvFormatRow=Cm,a.tsvFormatRows=km,a.tsvFormatValue=Nm,a.tsvParse=sh,a.tsvParseRows=Em,a.union=function(...e){const t=new ye;for(const n of e)for(const r of n)t.add(r);return t},a.unixDay=zc,a.unixDays=bb,a.utcDay=Ki,a.utcDays=vb,a.utcFriday=Lp,a.utcFridays=Nb,a.utcHour=Zo,a.utcHours=yb,a.utcMillisecond=Jr,a.utcMilliseconds=Ap,a.utcMinute=Xo,a.utcMinutes=pb,a.utcMonday=Wi,a.utcMondays=Sb,a.utcMonth=Jo,a.utcMonths=Lb,a.utcSaturday=Pp,a.utcSaturdays=Ib,a.utcSecond=Dn,a.utcSeconds=Ep,a.utcSunday=ti,a.utcSundays=Dp,a.utcThursday=Er,a.utcThursdays=Cb,a.utcTickInterval=jp,a.utcTicks=Fp,a.utcTuesday=Ip,a.utcTuesdays=Tb,a.utcWednesday=Op,a.utcWednesdays=kb,a.utcWeek=ti,a.utcWeeks=Dp,a.utcYear=wn,a.utcYears=Db,a.variance=J,a.version="7.8.4",a.window=ks,a.xml=jm,a.zip=function(){return hn(arguments)},a.zoom=function(){var e,t,n,r=lx,i=fx,o=px,s=hx,u=dx,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],h=250,_=df,m=nr("start","zoom","end"),M=500,I=150,k=0,O=10;function C(U){U.property("__zoom",_1).on("wheel.zoom",te,{passive:!1}).on("mousedown.zoom",Q).on("dblclick.zoom",G).filter(u).on("touchstart.zoom",V).on("touchmove.zoom",K).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(U,X){return(X=Math.max(l[0],Math.min(l[1],X)))===U.k?U:new An(X,U.x,U.y)}function D(U,X,ee){var ae=X[0]-ee[0]*U.k,fe=X[1]-ee[1]*U.k;return ae===U.x&&fe===U.y?U:new An(U.k,ae,fe)}function L(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function j(U,X,ee,ae){U.on("start.zoom",function(){B(this,arguments).event(ae).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(ae).end()}).tween("zoom",function(){var fe=this,de=arguments,be=B(fe,de).event(ae),pe=i.apply(fe,de),we=ee==null?L(pe):typeof ee=="function"?ee.apply(fe,de):ee,Ie=Math.max(pe[1][0]-pe[0][0],pe[1][1]-pe[0][1]),Se=fe.__zoom,ke=typeof X=="function"?X.apply(fe,de):X,Je=_(Se.invert(we).concat(Ie/Se.k),ke.invert(we).concat(Ie/ke.k));return function(Re){if(Re===1)Re=ke;else{var st=Je(Re),Gt=Ie/st[2];Re=new An(Gt,we[0]-st[0]*Gt,we[1]-st[1]*Gt)}be.zoom(null,Re)}})}function B(U,X,ee){return!ee&&U.__zooming||new W(U,X)}function W(U,X){this.that=U,this.args=X,this.active=0,this.sourceEvent=null,this.extent=i.apply(U,X),this.taps=0}function te(U,...X){if(r.apply(this,arguments)){var ee=B(this,X).event(U),ae=this.__zoom,fe=Math.max(l[0],Math.min(l[1],ae.k*Math.pow(2,s.apply(this,arguments)))),de=Ut(U);if(ee.wheel)ee.mouse[0][0]===de[0]&&ee.mouse[0][1]===de[1]||(ee.mouse[1]=ae.invert(ee.mouse[0]=de)),clearTimeout(ee.wheel);else{if(ae.k===fe)return;ee.mouse=[de,ae.invert(de)],lr(this),ee.start()}na(U),ee.wheel=setTimeout(function(){ee.wheel=null,ee.end()},I),ee.zoom("mouse",o(D(R(ae,fe),ee.mouse[0],ee.mouse[1]),ee.extent,c))}}function Q(U,...X){if(!n&&r.apply(this,arguments)){var ee=U.currentTarget,ae=B(this,X,!0).event(U),fe=mt(U.view).on("mousemove.zoom",function(we){if(na(we),!ae.moved){var Ie=we.clientX-be,Se=we.clientY-pe;ae.moved=Ie*Ie+Se*Se>k}ae.event(we).zoom("mouse",o(D(ae.that.__zoom,ae.mouse[0]=Ut(we,ee),ae.mouse[1]),ae.extent,c))},!0).on("mouseup.zoom",function(we){fe.on("mousemove.zoom mouseup.zoom",null),xa(we.view,ae.moved),na(we),ae.event(we).end()},!0),de=Ut(U,ee),be=U.clientX,pe=U.clientY;_a(U.view),al(U),ae.mouse=[de,this.__zoom.invert(de)],lr(this),ae.start()}}function G(U,...X){if(r.apply(this,arguments)){var ee=this.__zoom,ae=Ut(U.changedTouches?U.changedTouches[0]:U,this),fe=ee.invert(ae),de=ee.k*(U.shiftKey?.5:2),be=o(D(R(ee,de),ae,fe),i.apply(this,X),c);na(U),h>0?mt(this).transition().duration(h).call(j,be,ae,U):mt(this).call(C.transform,be,ae,U)}}function V(U,...X){if(r.apply(this,arguments)){var ee,ae,fe,de,be=U.touches,pe=be.length,we=B(this,X,U.changedTouches.length===pe).event(U);for(al(U),ae=0;ae<pe;++ae)de=[de=Ut(fe=be[ae],this),this.__zoom.invert(de),fe.identifier],we.touch0?we.touch1||we.touch0[2]===de[2]||(we.touch1=de,we.taps=0):(we.touch0=de,ee=!0,we.taps=1+!!e);e&&(e=clearTimeout(e)),ee&&(we.taps<2&&(t=de[0],e=setTimeout(function(){e=null},M)),lr(this),we.start())}}function K(U,...X){if(this.__zooming){var ee,ae,fe,de,be=B(this,X).event(U),pe=U.changedTouches,we=pe.length;for(na(U),ee=0;ee<we;++ee)fe=Ut(ae=pe[ee],this),be.touch0&&be.touch0[2]===ae.identifier?be.touch0[0]=fe:be.touch1&&be.touch1[2]===ae.identifier&&(be.touch1[0]=fe);if(ae=be.that.__zoom,be.touch1){var Ie=be.touch0[0],Se=be.touch0[1],ke=be.touch1[0],Je=be.touch1[1],Re=(Re=ke[0]-Ie[0])*Re+(Re=ke[1]-Ie[1])*Re,st=(st=Je[0]-Se[0])*st+(st=Je[1]-Se[1])*st;ae=R(ae,Math.sqrt(Re/st)),fe=[(Ie[0]+ke[0])/2,(Ie[1]+ke[1])/2],de=[(Se[0]+Je[0])/2,(Se[1]+Je[1])/2]}else{if(!be.touch0)return;fe=be.touch0[0],de=be.touch0[1]}be.zoom("touch",o(D(ae,fe,de),be.extent,c))}}function re(U,...X){if(this.__zooming){var ee,ae,fe=B(this,X).event(U),de=U.changedTouches,be=de.length;for(al(U),n&&clearTimeout(n),n=setTimeout(function(){n=null},M),ee=0;ee<be;++ee)ae=de[ee],fe.touch0&&fe.touch0[2]===ae.identifier?delete fe.touch0:fe.touch1&&fe.touch1[2]===ae.identifier&&delete fe.touch1;if(fe.touch1&&!fe.touch0&&(fe.touch0=fe.touch1,delete fe.touch1),fe.touch0)fe.touch0[1]=this.__zoom.invert(fe.touch0[0]);else if(fe.end(),fe.taps===2&&(ae=Ut(ae,this),Math.hypot(t[0]-ae[0],t[1]-ae[1])<O)){var pe=mt(this).on("dblclick.zoom");pe&&pe.apply(this,arguments)}}}return C.transform=function(U,X,ee,ae){var fe=U.selection?U.selection():U;fe.property("__zoom",_1),U!==fe?j(U,X,ee,ae):fe.interrupt().each(function(){B(this,arguments).event(ae).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},C.scaleBy=function(U,X,ee,ae){C.scaleTo(U,function(){return this.__zoom.k*(typeof X=="function"?X.apply(this,arguments):X)},ee,ae)},C.scaleTo=function(U,X,ee,ae){C.transform(U,function(){var fe=i.apply(this,arguments),de=this.__zoom,be=ee==null?L(fe):typeof ee=="function"?ee.apply(this,arguments):ee,pe=de.invert(be),we=typeof X=="function"?X.apply(this,arguments):X;return o(D(R(de,we),be,pe),fe,c)},ee,ae)},C.translateBy=function(U,X,ee,ae){C.transform(U,function(){return o(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof ee=="function"?ee.apply(this,arguments):ee),i.apply(this,arguments),c)},null,ae)},C.translateTo=function(U,X,ee,ae,fe){C.transform(U,function(){var de=i.apply(this,arguments),be=this.__zoom,pe=ae==null?L(de):typeof ae=="function"?ae.apply(this,arguments):ae;return o(ys.translate(pe[0],pe[1]).scale(be.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof ee=="function"?-ee.apply(this,arguments):-ee),de,c)},ae,fe)},W.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,X){return this.mouse&&U!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var X=mt(this.that).datum();m.call(U,this.that,new cx(U,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:m}),X)}},C.wheelDelta=function(U){return arguments.length?(s=typeof U=="function"?U:gs(+U),C):s},C.filter=function(U){return arguments.length?(r=typeof U=="function"?U:gs(!!U),C):r},C.touchable=function(U){return arguments.length?(u=typeof U=="function"?U:gs(!!U),C):u},C.extent=function(U){return arguments.length?(i=typeof U=="function"?U:gs([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),C):i},C.scaleExtent=function(U){return arguments.length?(l[0]=+U[0],l[1]=+U[1],C):[l[0],l[1]]},C.translateExtent=function(U){return arguments.length?(c[0][0]=+U[0][0],c[1][0]=+U[1][0],c[0][1]=+U[0][1],c[1][1]=+U[1][1],C):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},C.constrain=function(U){return arguments.length?(o=U,C):o},C.duration=function(U){return arguments.length?(h=+U,C):h},C.interpolate=function(U){return arguments.length?(_=U,C):_},C.on=function(){var U=m.on.apply(m,arguments);return U===m?C:U},C.clickDistance=function(U){return arguments.length?(k=(U=+U)*U,C):Math.sqrt(k)},C.tapDistance=function(U){return arguments.length?(O=+U,C):O},C},a.zoomIdentity=ys,a.zoomTransform=b1});(function(a){if(typeof sa=="object"&&typeof jn<"u")jn.exports=a();else if(typeof define=="function"&&define.amd)define([],a);else{var v;typeof window<"u"?v=window:typeof global<"u"?v=global:typeof self<"u"?v=self:v=this,v.dagre=a()}})(function(){return function(){function a(v,P,f){function g(y,x){if(!P[y]){if(!v[y]){var E=typeof require=="function"&&require;if(!x&&E)return E(y,!0);if(p)return p(y,!0);var S=new Error("Cannot find module '"+y+"'");throw S.code="MODULE_NOT_FOUND",S}var d=P[y]={exports:{}};v[y][0].call(d.exports,function(w){var A=v[y][1][w];return g(A||w)},d,d.exports,a,v,P,f)}return P[y].exports}for(var p=typeof require=="function"&&require,b=0;b<f.length;b++)g(f[b]);return g}return a}()({1:[function(a,v,P){v.exports={graphlib:a("./lib/graphlib"),layout:a("./lib/layout"),debug:a("./lib/debug"),util:{time:a("./lib/util").time,notime:a("./lib/util").notime},version:a("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(a,v,P){var f=a("./lodash"),g=a("./greedy-fas");v.exports={run:p,undo:y};function p(x){var E=x.graph().acyclicer==="greedy"?g(x,S(x)):b(x);f.forEach(E,function(d){var w=x.edge(d);x.removeEdge(d),w.forwardName=d.name,w.reversed=!0,x.setEdge(d.w,d.v,w,f.uniqueId("rev"))});function S(d){return function(w){return d.edge(w).weight}}}function b(x){var E=[],S={},d={};function w(A){f.has(d,A)||(d[A]=!0,S[A]=!0,f.forEach(x.outEdges(A),function(T){f.has(S,T.w)?E.push(T):w(T.w)}),delete S[A])}return f.forEach(x.nodes(),w),E}function y(x){f.forEach(x.edges(),function(E){var S=x.edge(E);if(S.reversed){x.removeEdge(E);var d=S.forwardName;delete S.reversed,delete S.forwardName,x.setEdge(E.w,E.v,S,d)}})}},{"./greedy-fas":8,"./lodash":10}],3:[function(a,v,P){var f=a("./lodash"),g=a("./util");v.exports=p;function p(y){function x(E){var S=y.children(E),d=y.node(E);if(S.length&&f.forEach(S,x),f.has(d,"minRank")){d.borderLeft=[],d.borderRight=[];for(var w=d.minRank,A=d.maxRank+1;w<A;++w)b(y,"borderLeft","_bl",E,d,w),b(y,"borderRight","_br",E,d,w)}}f.forEach(y.children(),x)}function b(y,x,E,S,d,w){var A={width:0,height:0,rank:w,borderType:x},T=d[x][w-1],N=g.addDummyNode(y,"border",A,E);d[x][w]=N,y.setParent(N,S),T&&y.setEdge(T,N,{weight:1})}},{"./lodash":10,"./util":29}],4:[function(a,v,P){var f=a("./lodash");v.exports={adjust:g,undo:p};function g(w){var A=w.graph().rankdir.toLowerCase();(A==="lr"||A==="rl")&&b(w)}function p(w){var A=w.graph().rankdir.toLowerCase();(A==="bt"||A==="rl")&&x(w),(A==="lr"||A==="rl")&&(S(w),b(w))}function b(w){f.forEach(w.nodes(),function(A){y(w.node(A))}),f.forEach(w.edges(),function(A){y(w.edge(A))})}function y(w){var A=w.width;w.width=w.height,w.height=A}function x(w){f.forEach(w.nodes(),function(A){E(w.node(A))}),f.forEach(w.edges(),function(A){var T=w.edge(A);f.forEach(T.points,E),f.has(T,"y")&&E(T)})}function E(w){w.y=-w.y}function S(w){f.forEach(w.nodes(),function(A){d(w.node(A))}),f.forEach(w.edges(),function(A){var T=w.edge(A);f.forEach(T.points,d),f.has(T,"x")&&d(T)})}function d(w){var A=w.x;w.x=w.y,w.y=A}},{"./lodash":10}],5:[function(a,v,P){v.exports=f;function f(){var b={};b._next=b._prev=b,this._sentinel=b}f.prototype.dequeue=function(){var b=this._sentinel,y=b._prev;if(y!==b)return g(y),y},f.prototype.enqueue=function(b){var y=this._sentinel;b._prev&&b._next&&g(b),b._next=y._next,y._next._prev=b,y._next=b,b._prev=y},f.prototype.toString=function(){for(var b=[],y=this._sentinel,x=y._prev;x!==y;)b.push(JSON.stringify(x,p)),x=x._prev;return"["+b.join(", ")+"]"};function g(b){b._prev._next=b._next,b._next._prev=b._prev,delete b._next,delete b._prev}function p(b,y){if(b!=="_next"&&b!=="_prev")return y}},{}],6:[function(a,v,P){var f=a("./lodash"),g=a("./util"),p=a("./graphlib").Graph;v.exports={debugOrdering:b};function b(y){var x=g.buildLayerMatrix(y),E=new p({compound:!0,multigraph:!0}).setGraph({});return f.forEach(y.nodes(),function(S){E.setNode(S,{label:S}),E.setParent(S,"layer"+y.node(S).rank)}),f.forEach(y.edges(),function(S){E.setEdge(S.v,S.w,{},S.name)}),f.forEach(x,function(S,d){var w="layer"+d;E.setNode(w,{rank:"same"}),f.reduce(S,function(A,T){return E.setEdge(A,T,{style:"invis"}),T})}),E}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(a,v,P){var f;if(typeof a=="function")try{f=a("graphlib")}catch{}f||(f=window.graphlib),v.exports=f},{graphlib:31}],8:[function(a,v,P){var f=a("./lodash"),g=a("./graphlib").Graph,p=a("./data/list");v.exports=y;var b=f.constant(1);function y(w,A){if(w.nodeCount()<=1)return[];var T=S(w,A||b),N=x(T.graph,T.buckets,T.zeroIdx);return f.flatten(f.map(N,function(F){return w.outEdges(F.v,F.w)}),!0)}function x(w,A,T){for(var N=[],F=A[A.length-1],$=A[0],Y;w.nodeCount();){for(;Y=$.dequeue();)E(w,A,T,Y);for(;Y=F.dequeue();)E(w,A,T,Y);if(w.nodeCount()){for(var z=A.length-2;z>0;--z)if(Y=A[z].dequeue(),Y){N=N.concat(E(w,A,T,Y,!0));break}}}return N}function E(w,A,T,N,F){var $=F?[]:void 0;return f.forEach(w.inEdges(N.v),function(Y){var z=w.edge(Y),Z=w.node(Y.v);F&&$.push({v:Y.v,w:Y.w}),Z.out-=z,d(A,T,Z)}),f.forEach(w.outEdges(N.v),function(Y){var z=w.edge(Y),Z=Y.w,q=w.node(Z);q.in-=z,d(A,T,q)}),w.removeNode(N.v),$}function S(w,A){var T=new g,N=0,F=0;f.forEach(w.nodes(),function(z){T.setNode(z,{v:z,in:0,out:0})}),f.forEach(w.edges(),function(z){var Z=T.edge(z.v,z.w)||0,q=A(z),J=Z+q;T.setEdge(z.v,z.w,J),F=Math.max(F,T.node(z.v).out+=q),N=Math.max(N,T.node(z.w).in+=q)});var $=f.range(F+N+3).map(function(){return new p}),Y=N+1;return f.forEach(T.nodes(),function(z){d($,Y,T.node(z))}),{graph:T,buckets:$,zeroIdx:Y}}function d(w,A,T){T.out?T.in?w[T.out-T.in+A].enqueue(T):w[w.length-1].enqueue(T):w[0].enqueue(T)}},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(a,v,P){var f=a("./lodash"),g=a("./acyclic"),p=a("./normalize"),b=a("./rank"),y=a("./util").normalizeRanks,x=a("./parent-dummy-chains"),E=a("./util").removeEmptyRanks,S=a("./nesting-graph"),d=a("./add-border-segments"),w=a("./coordinate-system"),A=a("./order"),T=a("./position"),N=a("./util"),F=a("./graphlib").Graph;v.exports=$;function $(ce,he){var ve=he&&he.debugTiming?N.time:N.notime;ve("layout",function(){var Ae=ve("  buildLayoutGraph",function(){return ge(ce)});ve("  runLayout",function(){Y(Ae,ve)}),ve("  updateInputGraph",function(){z(ce,Ae)})})}function Y(ce,he){he("    makeSpaceForEdgeLabels",function(){_e(ce)}),he("    removeSelfEdges",function(){Ke(ce)}),he("    acyclic",function(){g.run(ce)}),he("    nestingGraph.run",function(){S.run(ce)}),he("    rank",function(){b(N.asNonCompoundGraph(ce))}),he("    injectEdgeLabelProxies",function(){H(ce)}),he("    removeEmptyRanks",function(){E(ce)}),he("    nestingGraph.cleanup",function(){S.cleanup(ce)}),he("    normalizeRanks",function(){y(ce)}),he("    assignRankMinMax",function(){ne(ce)}),he("    removeEdgeLabelProxies",function(){ue(ce)}),he("    normalize.run",function(){p.run(ce)}),he("    parentDummyChains",function(){x(ce)}),he("    addBorderSegments",function(){d(ce)}),he("    order",function(){A(ce)}),he("    insertSelfEdges",function(){Oe(ce)}),he("    adjustCoordinateSystem",function(){w.adjust(ce)}),he("    position",function(){T(ce)}),he("    positionSelfEdges",function(){Ye(ce)}),he("    removeBorderNodes",function(){Ge(ce)}),he("    normalize.undo",function(){p.undo(ce)}),he("    fixupEdgeLabelCoords",function(){Me(ce)}),he("    undoCoordinateSystem",function(){w.undo(ce)}),he("    translateGraph",function(){me(ce)}),he("    assignNodeIntersects",function(){xe(ce)}),he("    reversePoints",function(){De(ce)}),he("    acyclic.undo",function(){g.undo(ce)})}function z(ce,he){f.forEach(ce.nodes(),function(ve){var Ae=ce.node(ve),Pe=he.node(ve);Ae&&(Ae.x=Pe.x,Ae.y=Pe.y,he.children(ve).length&&(Ae.width=Pe.width,Ae.height=Pe.height))}),f.forEach(ce.edges(),function(ve){var Ae=ce.edge(ve),Pe=he.edge(ve);Ae.points=Pe.points,f.has(Pe,"x")&&(Ae.x=Pe.x,Ae.y=Pe.y)}),ce.graph().width=he.graph().width,ce.graph().height=he.graph().height}var Z=["nodesep","edgesep","ranksep","marginx","marginy"],q={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},J=["acyclicer","ranker","rankdir","align"],ie=["width","height"],se={width:0,height:0},oe=["minlen","weight","width","height","labeloffset"],le={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ye=["labelpos"];function ge(ce){var he=new F({multigraph:!0,compound:!0}),ve=Qe(ce.graph());return he.setGraph(f.merge({},q,Ue(ve,Z),f.pick(ve,J))),f.forEach(ce.nodes(),function(Ae){var Pe=Qe(ce.node(Ae));he.setNode(Ae,f.defaults(Ue(Pe,ie),se)),he.setParent(Ae,ce.parent(Ae))}),f.forEach(ce.edges(),function(Ae){var Pe=Qe(ce.edge(Ae));he.setEdge(Ae,f.merge({},le,Ue(Pe,oe),f.pick(Pe,ye)))}),he}function _e(ce){var he=ce.graph();he.ranksep/=2,f.forEach(ce.edges(),function(ve){var Ae=ce.edge(ve);Ae.minlen*=2,Ae.labelpos.toLowerCase()!=="c"&&(he.rankdir==="TB"||he.rankdir==="BT"?Ae.width+=Ae.labeloffset:Ae.height+=Ae.labeloffset)})}function H(ce){f.forEach(ce.edges(),function(he){var ve=ce.edge(he);if(ve.width&&ve.height){var Ae=ce.node(he.v),Pe=ce.node(he.w),We={rank:(Pe.rank-Ae.rank)/2+Ae.rank,e:he};N.addDummyNode(ce,"edge-proxy",We,"_ep")}})}function ne(ce){var he=0;f.forEach(ce.nodes(),function(ve){var Ae=ce.node(ve);Ae.borderTop&&(Ae.minRank=ce.node(Ae.borderTop).rank,Ae.maxRank=ce.node(Ae.borderBottom).rank,he=f.max(he,Ae.maxRank))}),ce.graph().maxRank=he}function ue(ce){f.forEach(ce.nodes(),function(he){var ve=ce.node(he);ve.dummy==="edge-proxy"&&(ce.edge(ve.e).labelRank=ve.rank,ce.removeNode(he))})}function me(ce){var he=Number.POSITIVE_INFINITY,ve=0,Ae=Number.POSITIVE_INFINITY,Pe=0,We=ce.graph(),$e=We.marginx||0,it=We.marginy||0;function $t(lt){var Le=lt.x,Dt=lt.y,Ve=lt.width,At=lt.height;he=Math.min(he,Le-Ve/2),ve=Math.max(ve,Le+Ve/2),Ae=Math.min(Ae,Dt-At/2),Pe=Math.max(Pe,Dt+At/2)}f.forEach(ce.nodes(),function(lt){$t(ce.node(lt))}),f.forEach(ce.edges(),function(lt){var Le=ce.edge(lt);f.has(Le,"x")&&$t(Le)}),he-=$e,Ae-=it,f.forEach(ce.nodes(),function(lt){var Le=ce.node(lt);Le.x-=he,Le.y-=Ae}),f.forEach(ce.edges(),function(lt){var Le=ce.edge(lt);f.forEach(Le.points,function(Dt){Dt.x-=he,Dt.y-=Ae}),f.has(Le,"x")&&(Le.x-=he),f.has(Le,"y")&&(Le.y-=Ae)}),We.width=ve-he+$e,We.height=Pe-Ae+it}function xe(ce){f.forEach(ce.edges(),function(he){var ve=ce.edge(he),Ae=ce.node(he.v),Pe=ce.node(he.w),We,$e;ve.points?(We=ve.points[0],$e=ve.points[ve.points.length-1]):(ve.points=[],We=Pe,$e=Ae),ve.points.unshift(N.intersectRect(Ae,We)),ve.points.push(N.intersectRect(Pe,$e))})}function Me(ce){f.forEach(ce.edges(),function(he){var ve=ce.edge(he);if(f.has(ve,"x"))switch((ve.labelpos==="l"||ve.labelpos==="r")&&(ve.width-=ve.labeloffset),ve.labelpos){case"l":ve.x-=ve.width/2+ve.labeloffset;break;case"r":ve.x+=ve.width/2+ve.labeloffset;break}})}function De(ce){f.forEach(ce.edges(),function(he){var ve=ce.edge(he);ve.reversed&&ve.points.reverse()})}function Ge(ce){f.forEach(ce.nodes(),function(he){if(ce.children(he).length){var ve=ce.node(he),Ae=ce.node(ve.borderTop),Pe=ce.node(ve.borderBottom),We=ce.node(f.last(ve.borderLeft)),$e=ce.node(f.last(ve.borderRight));ve.width=Math.abs($e.x-We.x),ve.height=Math.abs(Pe.y-Ae.y),ve.x=We.x+ve.width/2,ve.y=Ae.y+ve.height/2}}),f.forEach(ce.nodes(),function(he){ce.node(he).dummy==="border"&&ce.removeNode(he)})}function Ke(ce){f.forEach(ce.edges(),function(he){if(he.v===he.w){var ve=ce.node(he.v);ve.selfEdges||(ve.selfEdges=[]),ve.selfEdges.push({e:he,label:ce.edge(he)}),ce.removeEdge(he)}})}function Oe(ce){var he=N.buildLayerMatrix(ce);f.forEach(he,function(ve){var Ae=0;f.forEach(ve,function(Pe,We){var $e=ce.node(Pe);$e.order=We+Ae,f.forEach($e.selfEdges,function(it){N.addDummyNode(ce,"selfedge",{width:it.label.width,height:it.label.height,rank:$e.rank,order:We+ ++Ae,e:it.e,label:it.label},"_se")}),delete $e.selfEdges})})}function Ye(ce){f.forEach(ce.nodes(),function(he){var ve=ce.node(he);if(ve.dummy==="selfedge"){var Ae=ce.node(ve.e.v),Pe=Ae.x+Ae.width/2,We=Ae.y,$e=ve.x-Pe,it=Ae.height/2;ce.setEdge(ve.e,ve.label),ce.removeNode(he),ve.label.points=[{x:Pe+2*$e/3,y:We-it},{x:Pe+5*$e/6,y:We-it},{x:Pe+$e,y:We},{x:Pe+5*$e/6,y:We+it},{x:Pe+2*$e/3,y:We+it}],ve.label.x=ve.x,ve.label.y=ve.y}})}function Ue(ce,he){return f.mapValues(f.pick(ce,he),Number)}function Qe(ce){var he={};return f.forEach(ce,function(ve,Ae){he[Ae.toLowerCase()]=ve}),he}},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(a,v,P){var f;if(typeof a=="function")try{f={cloneDeep:a("lodash/cloneDeep"),constant:a("lodash/constant"),defaults:a("lodash/defaults"),each:a("lodash/each"),filter:a("lodash/filter"),find:a("lodash/find"),flatten:a("lodash/flatten"),forEach:a("lodash/forEach"),forIn:a("lodash/forIn"),has:a("lodash/has"),isUndefined:a("lodash/isUndefined"),last:a("lodash/last"),map:a("lodash/map"),mapValues:a("lodash/mapValues"),max:a("lodash/max"),merge:a("lodash/merge"),min:a("lodash/min"),minBy:a("lodash/minBy"),now:a("lodash/now"),pick:a("lodash/pick"),range:a("lodash/range"),reduce:a("lodash/reduce"),sortBy:a("lodash/sortBy"),uniqueId:a("lodash/uniqueId"),values:a("lodash/values"),zipObject:a("lodash/zipObject")}}catch{}f||(f=window._),v.exports=f},{"lodash/cloneDeep":227,"lodash/constant":228,"lodash/defaults":229,"lodash/each":230,"lodash/filter":232,"lodash/find":233,"lodash/flatten":235,"lodash/forEach":236,"lodash/forIn":237,"lodash/has":239,"lodash/isUndefined":258,"lodash/last":261,"lodash/map":262,"lodash/mapValues":263,"lodash/max":264,"lodash/merge":266,"lodash/min":267,"lodash/minBy":268,"lodash/now":270,"lodash/pick":271,"lodash/range":273,"lodash/reduce":274,"lodash/sortBy":276,"lodash/uniqueId":286,"lodash/values":287,"lodash/zipObject":288}],11:[function(a,v,P){var f=a("./lodash"),g=a("./util");v.exports={run:p,cleanup:E};function p(S){var d=g.addDummyNode(S,"root",{},"_root"),w=y(S),A=f.max(f.values(w))-1,T=2*A+1;S.graph().nestingRoot=d,f.forEach(S.edges(),function(F){S.edge(F).minlen*=T});var N=x(S)+1;f.forEach(S.children(),function(F){b(S,d,T,N,A,w,F)}),S.graph().nodeRankFactor=T}function b(S,d,w,A,T,N,F){var $=S.children(F);if(!$.length){F!==d&&S.setEdge(d,F,{weight:0,minlen:w});return}var Y=g.addBorderNode(S,"_bt"),z=g.addBorderNode(S,"_bb"),Z=S.node(F);S.setParent(Y,F),Z.borderTop=Y,S.setParent(z,F),Z.borderBottom=z,f.forEach($,function(q){b(S,d,w,A,T,N,q);var J=S.node(q),ie=J.borderTop?J.borderTop:q,se=J.borderBottom?J.borderBottom:q,oe=J.borderTop?A:2*A,le=ie!==se?1:T-N[F]+1;S.setEdge(Y,ie,{weight:oe,minlen:le,nestingEdge:!0}),S.setEdge(se,z,{weight:oe,minlen:le,nestingEdge:!0})}),S.parent(F)||S.setEdge(d,Y,{weight:0,minlen:T+N[F]})}function y(S){var d={};function w(A,T){var N=S.children(A);N&&N.length&&f.forEach(N,function(F){w(F,T+1)}),d[A]=T}return f.forEach(S.children(),function(A){w(A,1)}),d}function x(S){return f.reduce(S.edges(),function(d,w){return d+S.edge(w).weight},0)}function E(S){var d=S.graph();S.removeNode(d.nestingRoot),delete d.nestingRoot,f.forEach(S.edges(),function(w){var A=S.edge(w);A.nestingEdge&&S.removeEdge(w)})}},{"./lodash":10,"./util":29}],12:[function(a,v,P){var f=a("./lodash"),g=a("./util");v.exports={run:p,undo:y};function p(x){x.graph().dummyChains=[],f.forEach(x.edges(),function(E){b(x,E)})}function b(x,E){var S=E.v,d=x.node(S).rank,w=E.w,A=x.node(w).rank,T=E.name,N=x.edge(E),F=N.labelRank;if(A!==d+1){x.removeEdge(E);var $,Y,z;for(z=0,++d;d<A;++z,++d)N.points=[],Y={width:0,height:0,edgeLabel:N,edgeObj:E,rank:d},$=g.addDummyNode(x,"edge",Y,"_d"),d===F&&(Y.width=N.width,Y.height=N.height,Y.dummy="edge-label",Y.labelpos=N.labelpos),x.setEdge(S,$,{weight:N.weight},T),z===0&&x.graph().dummyChains.push($),S=$;x.setEdge(S,w,{weight:N.weight},T)}}function y(x){f.forEach(x.graph().dummyChains,function(E){var S=x.node(E),d=S.edgeLabel,w;for(x.setEdge(S.edgeObj,d);S.dummy;)w=x.successors(E)[0],x.removeNode(E),d.points.push({x:S.x,y:S.y}),S.dummy==="edge-label"&&(d.x=S.x,d.y=S.y,d.width=S.width,d.height=S.height),E=w,S=x.node(E)})}},{"./lodash":10,"./util":29}],13:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(p,b,y){var x={},E;f.forEach(y,function(S){for(var d=p.parent(S),w,A;d;){if(w=p.parent(d),w?(A=x[w],x[w]=d):(A=E,E=d),A&&A!==d){b.setEdge(A,d);return}d=w}})}},{"../lodash":10}],14:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(p,b){return f.map(b,function(y){var x=p.inEdges(y);if(x.length){var E=f.reduce(x,function(S,d){var w=p.edge(d),A=p.node(d.v);return{sum:S.sum+w.weight*A.order,weight:S.weight+w.weight}},{sum:0,weight:0});return{v:y,barycenter:E.sum/E.weight,weight:E.weight}}else return{v:y}})}},{"../lodash":10}],15:[function(a,v,P){var f=a("../lodash"),g=a("../graphlib").Graph;v.exports=p;function p(y,x,E){var S=b(y),d=new g({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(w){return y.node(w)});return f.forEach(y.nodes(),function(w){var A=y.node(w),T=y.parent(w);(A.rank===x||A.minRank<=x&&x<=A.maxRank)&&(d.setNode(w),d.setParent(w,T||S),f.forEach(y[E](w),function(N){var F=N.v===w?N.w:N.v,$=d.edge(F,w),Y=f.isUndefined($)?0:$.weight;d.setEdge(F,w,{weight:y.edge(N).weight+Y})}),f.has(A,"minRank")&&d.setNode(w,{borderLeft:A.borderLeft[x],borderRight:A.borderRight[x]}))}),d}function b(y){for(var x;y.hasNode(x=f.uniqueId("_root")););return x}},{"../graphlib":7,"../lodash":10}],16:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(b,y){for(var x=0,E=1;E<y.length;++E)x+=p(b,y[E-1],y[E]);return x}function p(b,y,x){for(var E=f.zipObject(x,f.map(x,function(N,F){return F})),S=f.flatten(f.map(y,function(N){return f.sortBy(f.map(b.outEdges(N),function(F){return{pos:E[F.w],weight:b.edge(F).weight}}),"pos")}),!0),d=1;d<x.length;)d<<=1;var w=2*d-1;d-=1;var A=f.map(new Array(w),function(){return 0}),T=0;return f.forEach(S.forEach(function(N){var F=N.pos+d;A[F]+=N.weight;for(var $=0;F>0;)F%2&&($+=A[F+1]),F=F-1>>1,A[F]+=N.weight;T+=N.weight*$})),T}},{"../lodash":10}],17:[function(a,v,P){var f=a("../lodash"),g=a("./init-order"),p=a("./cross-count"),b=a("./sort-subgraph"),y=a("./build-layer-graph"),x=a("./add-subgraph-constraints"),E=a("../graphlib").Graph,S=a("../util");v.exports=d;function d(N){var F=S.maxRank(N),$=w(N,f.range(1,F+1),"inEdges"),Y=w(N,f.range(F-1,-1,-1),"outEdges"),z=g(N);T(N,z);for(var Z=Number.POSITIVE_INFINITY,q,J=0,ie=0;ie<4;++J,++ie){A(J%2?$:Y,J%4>=2),z=S.buildLayerMatrix(N);var se=p(N,z);se<Z&&(ie=0,q=f.cloneDeep(z),Z=se)}T(N,q)}function w(N,F,$){return f.map(F,function(Y){return y(N,Y,$)})}function A(N,F){var $=new E;f.forEach(N,function(Y){var z=Y.graph().root,Z=b(Y,z,$,F);f.forEach(Z.vs,function(q,J){Y.node(q).order=J}),x(Y,$,Z.vs)})}function T(N,F){f.forEach(F,function($){f.forEach($,function(Y,z){N.node(Y).order=z})})}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(p){var b={},y=f.filter(p.nodes(),function(w){return!p.children(w).length}),x=f.max(f.map(y,function(w){return p.node(w).rank})),E=f.map(f.range(x+1),function(){return[]});function S(w){if(!f.has(b,w)){b[w]=!0;var A=p.node(w);E[A.rank].push(w),f.forEach(p.successors(w),S)}}var d=f.sortBy(y,function(w){return p.node(w).rank});return f.forEach(d,S),E}},{"../lodash":10}],19:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(y,x){var E={};f.forEach(y,function(d,w){var A=E[d.v]={indegree:0,in:[],out:[],vs:[d.v],i:w};f.isUndefined(d.barycenter)||(A.barycenter=d.barycenter,A.weight=d.weight)}),f.forEach(x.edges(),function(d){var w=E[d.v],A=E[d.w];!f.isUndefined(w)&&!f.isUndefined(A)&&(A.indegree++,w.out.push(E[d.w]))});var S=f.filter(E,function(d){return!d.indegree});return p(S)}function p(y){var x=[];function E(w){return function(A){A.merged||(f.isUndefined(A.barycenter)||f.isUndefined(w.barycenter)||A.barycenter>=w.barycenter)&&b(w,A)}}function S(w){return function(A){A.in.push(w),--A.indegree===0&&y.push(A)}}for(;y.length;){var d=y.pop();x.push(d),f.forEach(d.in.reverse(),E(d)),f.forEach(d.out,S(d))}return f.map(f.filter(x,function(w){return!w.merged}),function(w){return f.pick(w,["vs","i","barycenter","weight"])})}function b(y,x){var E=0,S=0;y.weight&&(E+=y.barycenter*y.weight,S+=y.weight),x.weight&&(E+=x.barycenter*x.weight,S+=x.weight),y.vs=x.vs.concat(y.vs),y.barycenter=E/S,y.weight=S,y.i=Math.min(x.i,y.i),x.merged=!0}},{"../lodash":10}],20:[function(a,v,P){var f=a("../lodash"),g=a("./barycenter"),p=a("./resolve-conflicts"),b=a("./sort");v.exports=y;function y(S,d,w,A){var T=S.children(d),N=S.node(d),F=N?N.borderLeft:void 0,$=N?N.borderRight:void 0,Y={};F&&(T=f.filter(T,function(se){return se!==F&&se!==$}));var z=g(S,T);f.forEach(z,function(se){if(S.children(se.v).length){var oe=y(S,se.v,w,A);Y[se.v]=oe,f.has(oe,"barycenter")&&E(se,oe)}});var Z=p(z,w);x(Z,Y);var q=b(Z,A);if(F&&(q.vs=f.flatten([F,q.vs,$],!0),S.predecessors(F).length)){var J=S.node(S.predecessors(F)[0]),ie=S.node(S.predecessors($)[0]);f.has(q,"barycenter")||(q.barycenter=0,q.weight=0),q.barycenter=(q.barycenter*q.weight+J.order+ie.order)/(q.weight+2),q.weight+=2}return q}function x(S,d){f.forEach(S,function(w){w.vs=f.flatten(w.vs.map(function(A){return d[A]?d[A].vs:A}),!0)})}function E(S,d){f.isUndefined(S.barycenter)?(S.barycenter=d.barycenter,S.weight=d.weight):(S.barycenter=(S.barycenter*S.weight+d.barycenter*d.weight)/(S.weight+d.weight),S.weight+=d.weight)}},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(a,v,P){var f=a("../lodash"),g=a("../util");v.exports=p;function p(x,E){var S=g.partition(x,function(Y){return f.has(Y,"barycenter")}),d=S.lhs,w=f.sortBy(S.rhs,function(Y){return-Y.i}),A=[],T=0,N=0,F=0;d.sort(y(!!E)),F=b(A,w,F),f.forEach(d,function(Y){F+=Y.vs.length,A.push(Y.vs),T+=Y.barycenter*Y.weight,N+=Y.weight,F=b(A,w,F)});var $={vs:f.flatten(A,!0)};return N&&($.barycenter=T/N,$.weight=N),$}function b(x,E,S){for(var d;E.length&&(d=f.last(E)).i<=S;)E.pop(),x.push(d.vs),S++;return S}function y(x){return function(E,S){return E.barycenter<S.barycenter?-1:E.barycenter>S.barycenter?1:x?S.i-E.i:E.i-S.i}}},{"../lodash":10,"../util":29}],22:[function(a,v,P){var f=a("./lodash");v.exports=g;function g(y){var x=b(y);f.forEach(y.graph().dummyChains,function(E){for(var S=y.node(E),d=S.edgeObj,w=p(y,x,d.v,d.w),A=w.path,T=w.lca,N=0,F=A[N],$=!0;E!==d.w;){if(S=y.node(E),$){for(;(F=A[N])!==T&&y.node(F).maxRank<S.rank;)N++;F===T&&($=!1)}if(!$){for(;N<A.length-1&&y.node(F=A[N+1]).minRank<=S.rank;)N++;F=A[N]}y.setParent(E,F),E=y.successors(E)[0]}})}function p(y,x,E,S){var d=[],w=[],A=Math.min(x[E].low,x[S].low),T=Math.max(x[E].lim,x[S].lim),N,F;N=E;do N=y.parent(N),d.push(N);while(N&&(x[N].low>A||T>x[N].lim));for(F=N,N=S;(N=y.parent(N))!==F;)w.push(N);return{path:d.concat(w.reverse()),lca:F}}function b(y){var x={},E=0;function S(d){var w=E;f.forEach(y.children(d),S),x[d]={low:w,lim:E++}}return f.forEach(y.children(),S),x}},{"./lodash":10}],23:[function(a,v,P){var f=a("../lodash"),g=a("../graphlib").Graph,p=a("../util");v.exports={positionX:$,findType1Conflicts:b,findType2Conflicts:y,addConflict:E,hasConflict:S,verticalAlignment:d,horizontalCompaction:w,alignCoordinates:N,findSmallestWidthAlignment:T,balance:F};function b(Z,q){var J={};function ie(se,oe){var le=0,ye=0,ge=se.length,_e=f.last(oe);return f.forEach(oe,function(H,ne){var ue=x(Z,H),me=ue?Z.node(ue).order:ge;(ue||H===_e)&&(f.forEach(oe.slice(ye,ne+1),function(xe){f.forEach(Z.predecessors(xe),function(Me){var De=Z.node(Me),Ge=De.order;(Ge<le||me<Ge)&&!(De.dummy&&Z.node(xe).dummy)&&E(J,Me,xe)})}),ye=ne+1,le=me)}),oe}return f.reduce(q,ie),J}function y(Z,q){var J={};function ie(oe,le,ye,ge,_e){var H;f.forEach(f.range(le,ye),function(ne){H=oe[ne],Z.node(H).dummy&&f.forEach(Z.predecessors(H),function(ue){var me=Z.node(ue);me.dummy&&(me.order<ge||me.order>_e)&&E(J,ue,H)})})}function se(oe,le){var ye=-1,ge,_e=0;return f.forEach(le,function(H,ne){if(Z.node(H).dummy==="border"){var ue=Z.predecessors(H);ue.length&&(ge=Z.node(ue[0]).order,ie(le,_e,ne,ye,ge),_e=ne,ye=ge)}ie(le,_e,le.length,ge,oe.length)}),le}return f.reduce(q,se),J}function x(Z,q){if(Z.node(q).dummy)return f.find(Z.predecessors(q),function(J){return Z.node(J).dummy})}function E(Z,q,J){if(q>J){var ie=q;q=J,J=ie}var se=Z[q];se||(Z[q]=se={}),se[J]=!0}function S(Z,q,J){if(q>J){var ie=q;q=J,J=ie}return f.has(Z[q],J)}function d(Z,q,J,ie){var se={},oe={},le={};return f.forEach(q,function(ye){f.forEach(ye,function(ge,_e){se[ge]=ge,oe[ge]=ge,le[ge]=_e})}),f.forEach(q,function(ye){var ge=-1;f.forEach(ye,function(_e){var H=ie(_e);if(H.length){H=f.sortBy(H,function(Me){return le[Me]});for(var ne=(H.length-1)/2,ue=Math.floor(ne),me=Math.ceil(ne);ue<=me;++ue){var xe=H[ue];oe[_e]===_e&&ge<le[xe]&&!S(J,_e,xe)&&(oe[xe]=_e,oe[_e]=se[_e]=se[xe],ge=le[xe])}}})}),{root:se,align:oe}}function w(Z,q,J,ie,se){var oe={},le=A(Z,q,J,se),ye=se?"borderLeft":"borderRight";function ge(ne,ue){for(var me=le.nodes(),xe=me.pop(),Me={};xe;)Me[xe]?ne(xe):(Me[xe]=!0,me.push(xe),me=me.concat(ue(xe))),xe=me.pop()}function _e(ne){oe[ne]=le.inEdges(ne).reduce(function(ue,me){return Math.max(ue,oe[me.v]+le.edge(me))},0)}function H(ne){var ue=le.outEdges(ne).reduce(function(xe,Me){return Math.min(xe,oe[Me.w]-le.edge(Me))},Number.POSITIVE_INFINITY),me=Z.node(ne);ue!==Number.POSITIVE_INFINITY&&me.borderType!==ye&&(oe[ne]=Math.max(oe[ne],ue))}return ge(_e,le.predecessors.bind(le)),ge(H,le.successors.bind(le)),f.forEach(ie,function(ne){oe[ne]=oe[J[ne]]}),oe}function A(Z,q,J,ie){var se=new g,oe=Z.graph(),le=Y(oe.nodesep,oe.edgesep,ie);return f.forEach(q,function(ye){var ge;f.forEach(ye,function(_e){var H=J[_e];if(se.setNode(H),ge){var ne=J[ge],ue=se.edge(ne,H);se.setEdge(ne,H,Math.max(le(Z,_e,ge),ue||0))}ge=_e})}),se}function T(Z,q){return f.minBy(f.values(q),function(J){var ie=Number.NEGATIVE_INFINITY,se=Number.POSITIVE_INFINITY;return f.forIn(J,function(oe,le){var ye=z(Z,le)/2;ie=Math.max(oe+ye,ie),se=Math.min(oe-ye,se)}),ie-se})}function N(Z,q){var J=f.values(q),ie=f.min(J),se=f.max(J);f.forEach(["u","d"],function(oe){f.forEach(["l","r"],function(le){var ye=oe+le,ge=Z[ye],_e;if(ge!==q){var H=f.values(ge);_e=le==="l"?ie-f.min(H):se-f.max(H),_e&&(Z[ye]=f.mapValues(ge,function(ne){return ne+_e}))}})})}function F(Z,q){return f.mapValues(Z.ul,function(J,ie){if(q)return Z[q.toLowerCase()][ie];var se=f.sortBy(f.map(Z,ie));return(se[1]+se[2])/2})}function $(Z){var q=p.buildLayerMatrix(Z),J=f.merge(b(Z,q),y(Z,q)),ie={},se;f.forEach(["u","d"],function(le){se=le==="u"?q:f.values(q).reverse(),f.forEach(["l","r"],function(ye){ye==="r"&&(se=f.map(se,function(ne){return f.values(ne).reverse()}));var ge=(le==="u"?Z.predecessors:Z.successors).bind(Z),_e=d(Z,se,J,ge),H=w(Z,se,_e.root,_e.align,ye==="r");ye==="r"&&(H=f.mapValues(H,function(ne){return-ne})),ie[le+ye]=H})});var oe=T(Z,ie);return N(ie,oe),F(ie,Z.graph().align)}function Y(Z,q,J){return function(ie,se,oe){var le=ie.node(se),ye=ie.node(oe),ge=0,_e;if(ge+=le.width/2,f.has(le,"labelpos"))switch(le.labelpos.toLowerCase()){case"l":_e=-le.width/2;break;case"r":_e=le.width/2;break}if(_e&&(ge+=J?_e:-_e),_e=0,ge+=(le.dummy?q:Z)/2,ge+=(ye.dummy?q:Z)/2,ge+=ye.width/2,f.has(ye,"labelpos"))switch(ye.labelpos.toLowerCase()){case"l":_e=ye.width/2;break;case"r":_e=-ye.width/2;break}return _e&&(ge+=J?_e:-_e),_e=0,ge}}function z(Z,q){return Z.node(q).width}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(a,v,P){var f=a("../lodash"),g=a("../util"),p=a("./bk").positionX;v.exports=b;function b(x){x=g.asNonCompoundGraph(x),y(x),f.forEach(p(x),function(E,S){x.node(S).x=E})}function y(x){var E=g.buildLayerMatrix(x),S=x.graph().ranksep,d=0;f.forEach(E,function(w){var A=f.max(f.map(w,function(T){return x.node(T).height}));f.forEach(w,function(T){x.node(T).y=d+A/2}),d+=A+S})}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(a,v,P){var f=a("../lodash"),g=a("../graphlib").Graph,p=a("./util").slack;v.exports=b;function b(S){var d=new g({directed:!1}),w=S.nodes()[0],A=S.nodeCount();d.setNode(w,{});for(var T,N;y(d,S)<A;)T=x(d,S),N=d.hasNode(T.v)?p(S,T):-p(S,T),E(d,S,N);return d}function y(S,d){function w(A){f.forEach(d.nodeEdges(A),function(T){var N=T.v,F=A===N?T.w:N;!S.hasNode(F)&&!p(d,T)&&(S.setNode(F,{}),S.setEdge(A,F,{}),w(F))})}return f.forEach(S.nodes(),w),S.nodeCount()}function x(S,d){return f.minBy(d.edges(),function(w){if(S.hasNode(w.v)!==S.hasNode(w.w))return p(d,w)})}function E(S,d,w){f.forEach(S.nodes(),function(A){d.node(A).rank+=w})}},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(a,v,P){var f=a("./util"),g=f.longestPath,p=a("./feasible-tree"),b=a("./network-simplex");v.exports=y;function y(d){switch(d.graph().ranker){case"network-simplex":S(d);break;case"tight-tree":E(d);break;case"longest-path":x(d);break;default:S(d)}}var x=g;function E(d){g(d),p(d)}function S(d){b(d)}},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(a,v,P){var f=a("../lodash"),g=a("./feasible-tree"),p=a("./util").slack,b=a("./util").longestPath,y=a("../graphlib").alg.preorder,x=a("../graphlib").alg.postorder,E=a("../util").simplify;v.exports=S,S.initLowLimValues=T,S.initCutValues=d,S.calcCutValue=A,S.leaveEdge=F,S.enterEdge=$,S.exchangeEdges=Y;function S(J){J=E(J),b(J);var ie=g(J);T(ie),d(ie,J);for(var se,oe;se=F(ie);)oe=$(ie,J,se),Y(ie,J,se,oe)}function d(J,ie){var se=x(J,J.nodes());se=se.slice(0,se.length-1),f.forEach(se,function(oe){w(J,ie,oe)})}function w(J,ie,se){var oe=J.node(se),le=oe.parent;J.edge(se,le).cutvalue=A(J,ie,se)}function A(J,ie,se){var oe=J.node(se),le=oe.parent,ye=!0,ge=ie.edge(se,le),_e=0;return ge||(ye=!1,ge=ie.edge(le,se)),_e=ge.weight,f.forEach(ie.nodeEdges(se),function(H){var ne=H.v===se,ue=ne?H.w:H.v;if(ue!==le){var me=ne===ye,xe=ie.edge(H).weight;if(_e+=me?xe:-xe,Z(J,se,ue)){var Me=J.edge(se,ue).cutvalue;_e+=me?-Me:Me}}}),_e}function T(J,ie){arguments.length<2&&(ie=J.nodes()[0]),N(J,{},1,ie)}function N(J,ie,se,oe,le){var ye=se,ge=J.node(oe);return ie[oe]=!0,f.forEach(J.neighbors(oe),function(_e){f.has(ie,_e)||(se=N(J,ie,se,_e,oe))}),ge.low=ye,ge.lim=se++,le?ge.parent=le:delete ge.parent,se}function F(J){return f.find(J.edges(),function(ie){return J.edge(ie).cutvalue<0})}function $(J,ie,se){var oe=se.v,le=se.w;ie.hasEdge(oe,le)||(oe=se.w,le=se.v);var ye=J.node(oe),ge=J.node(le),_e=ye,H=!1;ye.lim>ge.lim&&(_e=ge,H=!0);var ne=f.filter(ie.edges(),function(ue){return H===q(J,J.node(ue.v),_e)&&H!==q(J,J.node(ue.w),_e)});return f.minBy(ne,function(ue){return p(ie,ue)})}function Y(J,ie,se,oe){var le=se.v,ye=se.w;J.removeEdge(le,ye),J.setEdge(oe.v,oe.w,{}),T(J),d(J,ie),z(J,ie)}function z(J,ie){var se=f.find(J.nodes(),function(le){return!ie.node(le).parent}),oe=y(J,se);oe=oe.slice(1),f.forEach(oe,function(le){var ye=J.node(le).parent,ge=ie.edge(le,ye),_e=!1;ge||(ge=ie.edge(ye,le),_e=!0),ie.node(le).rank=ie.node(ye).rank+(_e?ge.minlen:-ge.minlen)})}function Z(J,ie,se){return J.hasEdge(ie,se)}function q(J,ie,se){return se.low<=ie.lim&&ie.lim<=se.lim}},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(a,v,P){var f=a("../lodash");v.exports={longestPath:g,slack:p};function g(b){var y={};function x(E){var S=b.node(E);if(f.has(y,E))return S.rank;y[E]=!0;var d=f.min(f.map(b.outEdges(E),function(w){return x(w.w)-b.edge(w).minlen}));return(d===Number.POSITIVE_INFINITY||d===void 0||d===null)&&(d=0),S.rank=d}f.forEach(b.sources(),x)}function p(b,y){return b.node(y.w).rank-b.node(y.v).rank-b.edge(y).minlen}},{"../lodash":10}],29:[function(a,v,P){var f=a("./lodash"),g=a("./graphlib").Graph;v.exports={addDummyNode:p,simplify:b,asNonCompoundGraph:y,successorWeights:x,predecessorWeights:E,intersectRect:S,buildLayerMatrix:d,normalizeRanks:w,removeEmptyRanks:A,addBorderNode:T,maxRank:N,partition:F,time:$,notime:Y};function p(z,Z,q,J){var ie;do ie=f.uniqueId(J);while(z.hasNode(ie));return q.dummy=Z,z.setNode(ie,q),ie}function b(z){var Z=new g().setGraph(z.graph());return f.forEach(z.nodes(),function(q){Z.setNode(q,z.node(q))}),f.forEach(z.edges(),function(q){var J=Z.edge(q.v,q.w)||{weight:0,minlen:1},ie=z.edge(q);Z.setEdge(q.v,q.w,{weight:J.weight+ie.weight,minlen:Math.max(J.minlen,ie.minlen)})}),Z}function y(z){var Z=new g({multigraph:z.isMultigraph()}).setGraph(z.graph());return f.forEach(z.nodes(),function(q){z.children(q).length||Z.setNode(q,z.node(q))}),f.forEach(z.edges(),function(q){Z.setEdge(q,z.edge(q))}),Z}function x(z){var Z=f.map(z.nodes(),function(q){var J={};return f.forEach(z.outEdges(q),function(ie){J[ie.w]=(J[ie.w]||0)+z.edge(ie).weight}),J});return f.zipObject(z.nodes(),Z)}function E(z){var Z=f.map(z.nodes(),function(q){var J={};return f.forEach(z.inEdges(q),function(ie){J[ie.v]=(J[ie.v]||0)+z.edge(ie).weight}),J});return f.zipObject(z.nodes(),Z)}function S(z,Z){var q=z.x,J=z.y,ie=Z.x-q,se=Z.y-J,oe=z.width/2,le=z.height/2;if(!ie&&!se)throw new Error("Not possible to find intersection inside of the rectangle");var ye,ge;return Math.abs(se)*oe>Math.abs(ie)*le?(se<0&&(le=-le),ye=le*ie/se,ge=le):(ie<0&&(oe=-oe),ye=oe,ge=oe*se/ie),{x:q+ye,y:J+ge}}function d(z){var Z=f.map(f.range(N(z)+1),function(){return[]});return f.forEach(z.nodes(),function(q){var J=z.node(q),ie=J.rank;f.isUndefined(ie)||(Z[ie][J.order]=q)}),Z}function w(z){var Z=f.min(f.map(z.nodes(),function(q){return z.node(q).rank}));f.forEach(z.nodes(),function(q){var J=z.node(q);f.has(J,"rank")&&(J.rank-=Z)})}function A(z){var Z=f.min(f.map(z.nodes(),function(se){return z.node(se).rank})),q=[];f.forEach(z.nodes(),function(se){var oe=z.node(se).rank-Z;q[oe]||(q[oe]=[]),q[oe].push(se)});var J=0,ie=z.graph().nodeRankFactor;f.forEach(q,function(se,oe){f.isUndefined(se)&&oe%ie!==0?--J:J&&f.forEach(se,function(le){z.node(le).rank+=J})})}function T(z,Z,q,J){var ie={width:0,height:0};return arguments.length>=4&&(ie.rank=q,ie.order=J),p(z,"border",ie,Z)}function N(z){return f.max(f.map(z.nodes(),function(Z){var q=z.node(Z).rank;if(!f.isUndefined(q))return q}))}function F(z,Z){var q={lhs:[],rhs:[]};return f.forEach(z,function(J){Z(J)?q.lhs.push(J):q.rhs.push(J)}),q}function $(z,Z){var q=f.now();try{return Z()}finally{console.log(z+" time: "+(f.now()-q)+"ms")}}function Y(z,Z){return Z()}},{"./graphlib":7,"./lodash":10}],30:[function(a,v,P){v.exports="0.8.5"},{}],31:[function(a,v,P){var f=a("./lib");v.exports={Graph:f.Graph,json:a("./lib/json"),alg:a("./lib/alg"),version:f.version}},{"./lib":47,"./lib/alg":38,"./lib/json":48}],32:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(p){var b={},y=[],x;function E(S){f.has(b,S)||(b[S]=!0,x.push(S),f.each(p.successors(S),E),f.each(p.predecessors(S),E))}return f.each(p.nodes(),function(S){x=[],E(S),x.length&&y.push(x)}),y}},{"../lodash":49}],33:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(b,y,x){f.isArray(y)||(y=[y]);var E=(b.isDirected()?b.successors:b.neighbors).bind(b),S=[],d={};return f.each(y,function(w){if(!b.hasNode(w))throw new Error("Graph does not have node: "+w);p(b,w,x==="post",d,E,S)}),S}function p(b,y,x,E,S,d){f.has(E,y)||(E[y]=!0,x||d.push(y),f.each(S(y),function(w){p(b,w,x,E,S,d)}),x&&d.push(y))}},{"../lodash":49}],34:[function(a,v,P){var f=a("./dijkstra"),g=a("../lodash");v.exports=p;function p(b,y,x){return g.transform(b.nodes(),function(E,S){E[S]=f(b,S,y,x)},{})}},{"../lodash":49,"./dijkstra":35}],35:[function(a,v,P){var f=a("../lodash"),g=a("../data/priority-queue");v.exports=b;var p=f.constant(1);function b(x,E,S,d){return y(x,String(E),S||p,d||function(w){return x.outEdges(w)})}function y(x,E,S,d){var w={},A=new g,T,N,F=function($){var Y=$.v!==T?$.v:$.w,z=w[Y],Z=S($),q=N.distance+Z;if(Z<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+$+" Weight: "+Z);q<z.distance&&(z.distance=q,z.predecessor=T,A.decrease(Y,q))};for(x.nodes().forEach(function($){var Y=$===E?0:Number.POSITIVE_INFINITY;w[$]={distance:Y},A.add($,Y)});A.size()>0&&(T=A.removeMin(),N=w[T],N.distance!==Number.POSITIVE_INFINITY);)d(T).forEach(F);return w}},{"../data/priority-queue":45,"../lodash":49}],36:[function(a,v,P){var f=a("../lodash"),g=a("./tarjan");v.exports=p;function p(b){return f.filter(g(b),function(y){return y.length>1||y.length===1&&b.hasEdge(y[0],y[0])})}},{"../lodash":49,"./tarjan":43}],37:[function(a,v,P){var f=a("../lodash");v.exports=p;var g=f.constant(1);function p(y,x,E){return b(y,x||g,E||function(S){return y.outEdges(S)})}function b(y,x,E){var S={},d=y.nodes();return d.forEach(function(w){S[w]={},S[w][w]={distance:0},d.forEach(function(A){w!==A&&(S[w][A]={distance:Number.POSITIVE_INFINITY})}),E(w).forEach(function(A){var T=A.v===w?A.w:A.v,N=x(A);S[w][T]={distance:N,predecessor:w}})}),d.forEach(function(w){var A=S[w];d.forEach(function(T){var N=S[T];d.forEach(function(F){var $=N[w],Y=A[F],z=N[F],Z=$.distance+Y.distance;Z<z.distance&&(z.distance=Z,z.predecessor=Y.predecessor)})})}),S}},{"../lodash":49}],38:[function(a,v,P){v.exports={components:a("./components"),dijkstra:a("./dijkstra"),dijkstraAll:a("./dijkstra-all"),findCycles:a("./find-cycles"),floydWarshall:a("./floyd-warshall"),isAcyclic:a("./is-acyclic"),postorder:a("./postorder"),preorder:a("./preorder"),prim:a("./prim"),tarjan:a("./tarjan"),topsort:a("./topsort")}},{"./components":32,"./dijkstra":35,"./dijkstra-all":34,"./find-cycles":36,"./floyd-warshall":37,"./is-acyclic":39,"./postorder":40,"./preorder":41,"./prim":42,"./tarjan":43,"./topsort":44}],39:[function(a,v,P){var f=a("./topsort");v.exports=g;function g(p){try{f(p)}catch(b){if(b instanceof f.CycleException)return!1;throw b}return!0}},{"./topsort":44}],40:[function(a,v,P){var f=a("./dfs");v.exports=g;function g(p,b){return f(p,b,"post")}},{"./dfs":33}],41:[function(a,v,P){var f=a("./dfs");v.exports=g;function g(p,b){return f(p,b,"pre")}},{"./dfs":33}],42:[function(a,v,P){var f=a("../lodash"),g=a("../graph"),p=a("../data/priority-queue");v.exports=b;function b(y,x){var E=new g,S={},d=new p,w;function A(N){var F=N.v===w?N.w:N.v,$=d.priority(F);if($!==void 0){var Y=x(N);Y<$&&(S[F]=w,d.decrease(F,Y))}}if(y.nodeCount()===0)return E;f.each(y.nodes(),function(N){d.add(N,Number.POSITIVE_INFINITY),E.setNode(N)}),d.decrease(y.nodes()[0],0);for(var T=!1;d.size()>0;){if(w=d.removeMin(),f.has(S,w))E.setEdge(w,S[w]);else{if(T)throw new Error("Input graph is not connected: "+y);T=!0}y.nodeEdges(w).forEach(A)}return E}},{"../data/priority-queue":45,"../graph":46,"../lodash":49}],43:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(p){var b=0,y=[],x={},E=[];function S(d){var w=x[d]={onStack:!0,lowlink:b,index:b++};if(y.push(d),p.successors(d).forEach(function(N){f.has(x,N)?x[N].onStack&&(w.lowlink=Math.min(w.lowlink,x[N].index)):(S(N),w.lowlink=Math.min(w.lowlink,x[N].lowlink))}),w.lowlink===w.index){var A=[],T;do T=y.pop(),x[T].onStack=!1,A.push(T);while(d!==T);E.push(A)}}return p.nodes().forEach(function(d){f.has(x,d)||S(d)}),E}},{"../lodash":49}],44:[function(a,v,P){var f=a("../lodash");v.exports=g,g.CycleException=p;function g(b){var y={},x={},E=[];function S(d){if(f.has(x,d))throw new p;f.has(y,d)||(x[d]=!0,y[d]=!0,f.each(b.predecessors(d),S),delete x[d],E.push(d))}if(f.each(b.sinks(),S),f.size(y)!==b.nodeCount())throw new p;return E}function p(){}p.prototype=new Error},{"../lodash":49}],45:[function(a,v,P){var f=a("../lodash");v.exports=g;function g(){this._arr=[],this._keyIndices={}}g.prototype.size=function(){return this._arr.length},g.prototype.keys=function(){return this._arr.map(function(p){return p.key})},g.prototype.has=function(p){return f.has(this._keyIndices,p)},g.prototype.priority=function(p){var b=this._keyIndices[p];if(b!==void 0)return this._arr[b].priority},g.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},g.prototype.add=function(p,b){var y=this._keyIndices;if(p=String(p),!f.has(y,p)){var x=this._arr,E=x.length;return y[p]=E,x.push({key:p,priority:b}),this._decrease(E),!0}return!1},g.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var p=this._arr.pop();return delete this._keyIndices[p.key],this._heapify(0),p.key},g.prototype.decrease=function(p,b){var y=this._keyIndices[p];if(b>this._arr[y].priority)throw new Error("New priority is greater than current priority. Key: "+p+" Old: "+this._arr[y].priority+" New: "+b);this._arr[y].priority=b,this._decrease(y)},g.prototype._heapify=function(p){var b=this._arr,y=2*p,x=y+1,E=p;y<b.length&&(E=b[y].priority<b[E].priority?y:E,x<b.length&&(E=b[x].priority<b[E].priority?x:E),E!==p&&(this._swap(p,E),this._heapify(E)))},g.prototype._decrease=function(p){for(var b=this._arr,y=b[p].priority,x;p!==0&&(x=p>>1,!(b[x].priority<y));)this._swap(p,x),p=x},g.prototype._swap=function(p,b){var y=this._arr,x=this._keyIndices,E=y[p],S=y[b];y[p]=S,y[b]=E,x[S.key]=p,x[E.key]=b}},{"../lodash":49}],46:[function(a,v,P){var f=a("./lodash");v.exports=y;var g="\0",p="\0",b="";function y(A){this._isDirected=f.has(A,"directed")?A.directed:!0,this._isMultigraph=f.has(A,"multigraph")?A.multigraph:!1,this._isCompound=f.has(A,"compound")?A.compound:!1,this._label=void 0,this._defaultNodeLabelFn=f.constant(void 0),this._defaultEdgeLabelFn=f.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[p]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}y.prototype._nodeCount=0,y.prototype._edgeCount=0,y.prototype.isDirected=function(){return this._isDirected},y.prototype.isMultigraph=function(){return this._isMultigraph},y.prototype.isCompound=function(){return this._isCompound},y.prototype.setGraph=function(A){return this._label=A,this},y.prototype.graph=function(){return this._label},y.prototype.setDefaultNodeLabel=function(A){return f.isFunction(A)||(A=f.constant(A)),this._defaultNodeLabelFn=A,this},y.prototype.nodeCount=function(){return this._nodeCount},y.prototype.nodes=function(){return f.keys(this._nodes)},y.prototype.sources=function(){var A=this;return f.filter(this.nodes(),function(T){return f.isEmpty(A._in[T])})},y.prototype.sinks=function(){var A=this;return f.filter(this.nodes(),function(T){return f.isEmpty(A._out[T])})},y.prototype.setNodes=function(A,T){var N=arguments,F=this;return f.each(A,function($){N.length>1?F.setNode($,T):F.setNode($)}),this},y.prototype.setNode=function(A,T){return f.has(this._nodes,A)?(arguments.length>1&&(this._nodes[A]=T),this):(this._nodes[A]=arguments.length>1?T:this._defaultNodeLabelFn(A),this._isCompound&&(this._parent[A]=p,this._children[A]={},this._children[p][A]=!0),this._in[A]={},this._preds[A]={},this._out[A]={},this._sucs[A]={},++this._nodeCount,this)},y.prototype.node=function(A){return this._nodes[A]},y.prototype.hasNode=function(A){return f.has(this._nodes,A)},y.prototype.removeNode=function(A){var T=this;if(f.has(this._nodes,A)){var N=function(F){T.removeEdge(T._edgeObjs[F])};delete this._nodes[A],this._isCompound&&(this._removeFromParentsChildList(A),delete this._parent[A],f.each(this.children(A),function(F){T.setParent(F)}),delete this._children[A]),f.each(f.keys(this._in[A]),N),delete this._in[A],delete this._preds[A],f.each(f.keys(this._out[A]),N),delete this._out[A],delete this._sucs[A],--this._nodeCount}return this},y.prototype.setParent=function(A,T){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f.isUndefined(T))T=p;else{T+="";for(var N=T;!f.isUndefined(N);N=this.parent(N))if(N===A)throw new Error("Setting "+T+" as parent of "+A+" would create a cycle");this.setNode(T)}return this.setNode(A),this._removeFromParentsChildList(A),this._parent[A]=T,this._children[T][A]=!0,this},y.prototype._removeFromParentsChildList=function(A){delete this._children[this._parent[A]][A]},y.prototype.parent=function(A){if(this._isCompound){var T=this._parent[A];if(T!==p)return T}},y.prototype.children=function(A){if(f.isUndefined(A)&&(A=p),this._isCompound){var T=this._children[A];if(T)return f.keys(T)}else{if(A===p)return this.nodes();if(this.hasNode(A))return[]}},y.prototype.predecessors=function(A){var T=this._preds[A];if(T)return f.keys(T)},y.prototype.successors=function(A){var T=this._sucs[A];if(T)return f.keys(T)},y.prototype.neighbors=function(A){var T=this.predecessors(A);if(T)return f.union(T,this.successors(A))},y.prototype.isLeaf=function(A){var T;return this.isDirected()?T=this.successors(A):T=this.neighbors(A),T.length===0},y.prototype.filterNodes=function(A){var T=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});T.setGraph(this.graph());var N=this;f.each(this._nodes,function(Y,z){A(z)&&T.setNode(z,Y)}),f.each(this._edgeObjs,function(Y){T.hasNode(Y.v)&&T.hasNode(Y.w)&&T.setEdge(Y,N.edge(Y))});var F={};function $(Y){var z=N.parent(Y);return z===void 0||T.hasNode(z)?(F[Y]=z,z):z in F?F[z]:$(z)}return this._isCompound&&f.each(T.nodes(),function(Y){T.setParent(Y,$(Y))}),T},y.prototype.setDefaultEdgeLabel=function(A){return f.isFunction(A)||(A=f.constant(A)),this._defaultEdgeLabelFn=A,this},y.prototype.edgeCount=function(){return this._edgeCount},y.prototype.edges=function(){return f.values(this._edgeObjs)},y.prototype.setPath=function(A,T){var N=this,F=arguments;return f.reduce(A,function($,Y){return F.length>1?N.setEdge($,Y,T):N.setEdge($,Y),Y}),this},y.prototype.setEdge=function(){var A,T,N,F,$=!1,Y=arguments[0];typeof Y=="object"&&Y!==null&&"v"in Y?(A=Y.v,T=Y.w,N=Y.name,arguments.length===2&&(F=arguments[1],$=!0)):(A=Y,T=arguments[1],N=arguments[3],arguments.length>2&&(F=arguments[2],$=!0)),A=""+A,T=""+T,f.isUndefined(N)||(N=""+N);var z=S(this._isDirected,A,T,N);if(f.has(this._edgeLabels,z))return $&&(this._edgeLabels[z]=F),this;if(!f.isUndefined(N)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(A),this.setNode(T),this._edgeLabels[z]=$?F:this._defaultEdgeLabelFn(A,T,N);var Z=d(this._isDirected,A,T,N);return A=Z.v,T=Z.w,Object.freeze(Z),this._edgeObjs[z]=Z,x(this._preds[T],A),x(this._sucs[A],T),this._in[T][z]=Z,this._out[A][z]=Z,this._edgeCount++,this},y.prototype.edge=function(A,T,N){var F=arguments.length===1?w(this._isDirected,arguments[0]):S(this._isDirected,A,T,N);return this._edgeLabels[F]},y.prototype.hasEdge=function(A,T,N){var F=arguments.length===1?w(this._isDirected,arguments[0]):S(this._isDirected,A,T,N);return f.has(this._edgeLabels,F)},y.prototype.removeEdge=function(A,T,N){var F=arguments.length===1?w(this._isDirected,arguments[0]):S(this._isDirected,A,T,N),$=this._edgeObjs[F];return $&&(A=$.v,T=$.w,delete this._edgeLabels[F],delete this._edgeObjs[F],E(this._preds[T],A),E(this._sucs[A],T),delete this._in[T][F],delete this._out[A][F],this._edgeCount--),this},y.prototype.inEdges=function(A,T){var N=this._in[A];if(N){var F=f.values(N);return T?f.filter(F,function($){return $.v===T}):F}},y.prototype.outEdges=function(A,T){var N=this._out[A];if(N){var F=f.values(N);return T?f.filter(F,function($){return $.w===T}):F}},y.prototype.nodeEdges=function(A,T){var N=this.inEdges(A,T);if(N)return N.concat(this.outEdges(A,T))};function x(A,T){A[T]?A[T]++:A[T]=1}function E(A,T){--A[T]||delete A[T]}function S(A,T,N,F){var $=""+T,Y=""+N;if(!A&&$>Y){var z=$;$=Y,Y=z}return $+b+Y+b+(f.isUndefined(F)?g:F)}function d(A,T,N,F){var $=""+T,Y=""+N;if(!A&&$>Y){var z=$;$=Y,Y=z}var Z={v:$,w:Y};return F&&(Z.name=F),Z}function w(A,T){return S(A,T.v,T.w,T.name)}},{"./lodash":49}],47:[function(a,v,P){v.exports={Graph:a("./graph"),version:a("./version")}},{"./graph":46,"./version":50}],48:[function(a,v,P){var f=a("./lodash"),g=a("./graph");v.exports={write:p,read:x};function p(E){var S={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:b(E),edges:y(E)};return f.isUndefined(E.graph())||(S.value=f.clone(E.graph())),S}function b(E){return f.map(E.nodes(),function(S){var d=E.node(S),w=E.parent(S),A={v:S};return f.isUndefined(d)||(A.value=d),f.isUndefined(w)||(A.parent=w),A})}function y(E){return f.map(E.edges(),function(S){var d=E.edge(S),w={v:S.v,w:S.w};return f.isUndefined(S.name)||(w.name=S.name),f.isUndefined(d)||(w.value=d),w})}function x(E){var S=new g(E.options).setGraph(E.value);return f.each(E.nodes,function(d){S.setNode(d.v,d.value),d.parent&&S.setParent(d.v,d.parent)}),f.each(E.edges,function(d){S.setEdge({v:d.v,w:d.w,name:d.name},d.value)}),S}},{"./graph":46,"./lodash":49}],49:[function(a,v,P){var f;if(typeof a=="function")try{f={clone:a("lodash/clone"),constant:a("lodash/constant"),each:a("lodash/each"),filter:a("lodash/filter"),has:a("lodash/has"),isArray:a("lodash/isArray"),isEmpty:a("lodash/isEmpty"),isFunction:a("lodash/isFunction"),isUndefined:a("lodash/isUndefined"),keys:a("lodash/keys"),map:a("lodash/map"),reduce:a("lodash/reduce"),size:a("lodash/size"),transform:a("lodash/transform"),union:a("lodash/union"),values:a("lodash/values")}}catch{}f||(f=window._),v.exports=f},{"lodash/clone":226,"lodash/constant":228,"lodash/each":230,"lodash/filter":232,"lodash/has":239,"lodash/isArray":243,"lodash/isEmpty":247,"lodash/isFunction":248,"lodash/isUndefined":258,"lodash/keys":259,"lodash/map":262,"lodash/reduce":274,"lodash/size":275,"lodash/transform":284,"lodash/union":285,"lodash/values":287}],50:[function(a,v,P){v.exports="2.1.8"},{}],51:[function(a,v,P){var f=a("./_getNative"),g=a("./_root"),p=f(g,"DataView");v.exports=p},{"./_getNative":163,"./_root":208}],52:[function(a,v,P){var f=a("./_hashClear"),g=a("./_hashDelete"),p=a("./_hashGet"),b=a("./_hashHas"),y=a("./_hashSet");function x(E){var S=-1,d=E==null?0:E.length;for(this.clear();++S<d;){var w=E[S];this.set(w[0],w[1])}}x.prototype.clear=f,x.prototype.delete=g,x.prototype.get=p,x.prototype.has=b,x.prototype.set=y,v.exports=x},{"./_hashClear":172,"./_hashDelete":173,"./_hashGet":174,"./_hashHas":175,"./_hashSet":176}],53:[function(a,v,P){var f=a("./_listCacheClear"),g=a("./_listCacheDelete"),p=a("./_listCacheGet"),b=a("./_listCacheHas"),y=a("./_listCacheSet");function x(E){var S=-1,d=E==null?0:E.length;for(this.clear();++S<d;){var w=E[S];this.set(w[0],w[1])}}x.prototype.clear=f,x.prototype.delete=g,x.prototype.get=p,x.prototype.has=b,x.prototype.set=y,v.exports=x},{"./_listCacheClear":188,"./_listCacheDelete":189,"./_listCacheGet":190,"./_listCacheHas":191,"./_listCacheSet":192}],54:[function(a,v,P){var f=a("./_getNative"),g=a("./_root"),p=f(g,"Map");v.exports=p},{"./_getNative":163,"./_root":208}],55:[function(a,v,P){var f=a("./_mapCacheClear"),g=a("./_mapCacheDelete"),p=a("./_mapCacheGet"),b=a("./_mapCacheHas"),y=a("./_mapCacheSet");function x(E){var S=-1,d=E==null?0:E.length;for(this.clear();++S<d;){var w=E[S];this.set(w[0],w[1])}}x.prototype.clear=f,x.prototype.delete=g,x.prototype.get=p,x.prototype.has=b,x.prototype.set=y,v.exports=x},{"./_mapCacheClear":193,"./_mapCacheDelete":194,"./_mapCacheGet":195,"./_mapCacheHas":196,"./_mapCacheSet":197}],56:[function(a,v,P){var f=a("./_getNative"),g=a("./_root"),p=f(g,"Promise");v.exports=p},{"./_getNative":163,"./_root":208}],57:[function(a,v,P){var f=a("./_getNative"),g=a("./_root"),p=f(g,"Set");v.exports=p},{"./_getNative":163,"./_root":208}],58:[function(a,v,P){var f=a("./_MapCache"),g=a("./_setCacheAdd"),p=a("./_setCacheHas");function b(y){var x=-1,E=y==null?0:y.length;for(this.__data__=new f;++x<E;)this.add(y[x])}b.prototype.add=b.prototype.push=g,b.prototype.has=p,v.exports=b},{"./_MapCache":55,"./_setCacheAdd":210,"./_setCacheHas":211}],59:[function(a,v,P){var f=a("./_ListCache"),g=a("./_stackClear"),p=a("./_stackDelete"),b=a("./_stackGet"),y=a("./_stackHas"),x=a("./_stackSet");function E(S){var d=this.__data__=new f(S);this.size=d.size}E.prototype.clear=g,E.prototype.delete=p,E.prototype.get=b,E.prototype.has=y,E.prototype.set=x,v.exports=E},{"./_ListCache":53,"./_stackClear":215,"./_stackDelete":216,"./_stackGet":217,"./_stackHas":218,"./_stackSet":219}],60:[function(a,v,P){var f=a("./_root"),g=f.Symbol;v.exports=g},{"./_root":208}],61:[function(a,v,P){var f=a("./_root"),g=f.Uint8Array;v.exports=g},{"./_root":208}],62:[function(a,v,P){var f=a("./_getNative"),g=a("./_root"),p=f(g,"WeakMap");v.exports=p},{"./_getNative":163,"./_root":208}],63:[function(a,v,P){function f(g,p,b){switch(b.length){case 0:return g.call(p);case 1:return g.call(p,b[0]);case 2:return g.call(p,b[0],b[1]);case 3:return g.call(p,b[0],b[1],b[2])}return g.apply(p,b)}v.exports=f},{}],64:[function(a,v,P){function f(g,p){for(var b=-1,y=g==null?0:g.length;++b<y&&p(g[b],b,g)!==!1;);return g}v.exports=f},{}],65:[function(a,v,P){function f(g,p){for(var b=-1,y=g==null?0:g.length,x=0,E=[];++b<y;){var S=g[b];p(S,b,g)&&(E[x++]=S)}return E}v.exports=f},{}],66:[function(a,v,P){var f=a("./_baseIndexOf");function g(p,b){var y=p==null?0:p.length;return!!y&&f(p,b,0)>-1}v.exports=g},{"./_baseIndexOf":95}],67:[function(a,v,P){function f(g,p,b){for(var y=-1,x=g==null?0:g.length;++y<x;)if(b(p,g[y]))return!0;return!1}v.exports=f},{}],68:[function(a,v,P){var f=a("./_baseTimes"),g=a("./isArguments"),p=a("./isArray"),b=a("./isBuffer"),y=a("./_isIndex"),x=a("./isTypedArray"),E=Object.prototype,S=E.hasOwnProperty;function d(w,A){var T=p(w),N=!T&&g(w),F=!T&&!N&&b(w),$=!T&&!N&&!F&&x(w),Y=T||N||F||$,z=Y?f(w.length,String):[],Z=z.length;for(var q in w)(A||S.call(w,q))&&!(Y&&(q=="length"||F&&(q=="offset"||q=="parent")||$&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||y(q,Z)))&&z.push(q);return z}v.exports=d},{"./_baseTimes":125,"./_isIndex":181,"./isArguments":242,"./isArray":243,"./isBuffer":246,"./isTypedArray":257}],69:[function(a,v,P){function f(g,p){for(var b=-1,y=g==null?0:g.length,x=Array(y);++b<y;)x[b]=p(g[b],b,g);return x}v.exports=f},{}],70:[function(a,v,P){function f(g,p){for(var b=-1,y=p.length,x=g.length;++b<y;)g[x+b]=p[b];return g}v.exports=f},{}],71:[function(a,v,P){function f(g,p,b,y){var x=-1,E=g==null?0:g.length;for(y&&E&&(b=g[++x]);++x<E;)b=p(b,g[x],x,g);return b}v.exports=f},{}],72:[function(a,v,P){function f(g,p){for(var b=-1,y=g==null?0:g.length;++b<y;)if(p(g[b],b,g))return!0;return!1}v.exports=f},{}],73:[function(a,v,P){var f=a("./_baseProperty"),g=f("length");v.exports=g},{"./_baseProperty":117}],74:[function(a,v,P){var f=a("./_baseAssignValue"),g=a("./eq");function p(b,y,x){(x!==void 0&&!g(b[y],x)||x===void 0&&!(y in b))&&f(b,y,x)}v.exports=p},{"./_baseAssignValue":79,"./eq":231}],75:[function(a,v,P){var f=a("./_baseAssignValue"),g=a("./eq"),p=Object.prototype,b=p.hasOwnProperty;function y(x,E,S){var d=x[E];(!(b.call(x,E)&&g(d,S))||S===void 0&&!(E in x))&&f(x,E,S)}v.exports=y},{"./_baseAssignValue":79,"./eq":231}],76:[function(a,v,P){var f=a("./eq");function g(p,b){for(var y=p.length;y--;)if(f(p[y][0],b))return y;return-1}v.exports=g},{"./eq":231}],77:[function(a,v,P){var f=a("./_copyObject"),g=a("./keys");function p(b,y){return b&&f(y,g(y),b)}v.exports=p},{"./_copyObject":143,"./keys":259}],78:[function(a,v,P){var f=a("./_copyObject"),g=a("./keysIn");function p(b,y){return b&&f(y,g(y),b)}v.exports=p},{"./_copyObject":143,"./keysIn":260}],79:[function(a,v,P){var f=a("./_defineProperty");function g(p,b,y){b=="__proto__"&&f?f(p,b,{configurable:!0,enumerable:!0,value:y,writable:!0}):p[b]=y}v.exports=g},{"./_defineProperty":153}],80:[function(a,v,P){var f=a("./_Stack"),g=a("./_arrayEach"),p=a("./_assignValue"),b=a("./_baseAssign"),y=a("./_baseAssignIn"),x=a("./_cloneBuffer"),E=a("./_copyArray"),S=a("./_copySymbols"),d=a("./_copySymbolsIn"),w=a("./_getAllKeys"),A=a("./_getAllKeysIn"),T=a("./_getTag"),N=a("./_initCloneArray"),F=a("./_initCloneByTag"),$=a("./_initCloneObject"),Y=a("./isArray"),z=a("./isBuffer"),Z=a("./isMap"),q=a("./isObject"),J=a("./isSet"),ie=a("./keys"),se=1,oe=2,le=4,ye="[object Arguments]",ge="[object Array]",_e="[object Boolean]",H="[object Date]",ne="[object Error]",ue="[object Function]",me="[object GeneratorFunction]",xe="[object Map]",Me="[object Number]",De="[object Object]",Ge="[object RegExp]",Ke="[object Set]",Oe="[object String]",Ye="[object Symbol]",Ue="[object WeakMap]",Qe="[object ArrayBuffer]",ce="[object DataView]",he="[object Float32Array]",ve="[object Float64Array]",Ae="[object Int8Array]",Pe="[object Int16Array]",We="[object Int32Array]",$e="[object Uint8Array]",it="[object Uint8ClampedArray]",$t="[object Uint16Array]",lt="[object Uint32Array]",Le={};Le[ye]=Le[ge]=Le[Qe]=Le[ce]=Le[_e]=Le[H]=Le[he]=Le[ve]=Le[Ae]=Le[Pe]=Le[We]=Le[xe]=Le[Me]=Le[De]=Le[Ge]=Le[Ke]=Le[Oe]=Le[Ye]=Le[$e]=Le[it]=Le[$t]=Le[lt]=!0,Le[ne]=Le[ue]=Le[Ue]=!1;function Dt(Ve,At,cn,Sr,Bn,Bt){var ut,tr=At&se,ln=At&oe,ca=At&le;if(cn&&(ut=Bn?cn(Ve,Sr,Bn,Bt):cn(Ve)),ut!==void 0)return ut;if(!q(Ve))return Ve;var oi=Y(Ve);if(oi){if(ut=N(Ve),!tr)return E(Ve,ut)}else{var fn=T(Ve),la=fn==ue||fn==me;if(z(Ve))return x(Ve,tr);if(fn==De||fn==ye||la&&!Bn){if(ut=ln||la?{}:$(Ve),!tr)return ln?d(Ve,y(ut,Ve)):S(Ve,b(ut,Ve))}else{if(!Le[fn])return Bn?Ve:{};ut=F(Ve,fn,tr)}}Bt||(Bt=new f);var Qt=Bt.get(Ve);if(Qt)return Qt;Bt.set(Ve,ut),J(Ve)?Ve.forEach(function(Jt){ut.add(Dt(Jt,At,cn,Jt,Ve,Bt))}):Z(Ve)&&Ve.forEach(function(Jt,hn){ut.set(hn,Dt(Jt,At,cn,hn,Ve,Bt))});var fa=ca?ln?A:w:ln?keysIn:ie,ha=oi?void 0:fa(Ve);return g(ha||Ve,function(Jt,hn){ha&&(hn=Jt,Jt=Ve[hn]),p(ut,hn,Dt(Jt,At,cn,hn,Ve,Bt))}),ut}v.exports=Dt},{"./_Stack":59,"./_arrayEach":64,"./_assignValue":75,"./_baseAssign":77,"./_baseAssignIn":78,"./_cloneBuffer":135,"./_copyArray":142,"./_copySymbols":144,"./_copySymbolsIn":145,"./_getAllKeys":159,"./_getAllKeysIn":160,"./_getTag":168,"./_initCloneArray":177,"./_initCloneByTag":178,"./_initCloneObject":179,"./isArray":243,"./isBuffer":246,"./isMap":250,"./isObject":251,"./isSet":254,"./keys":259}],81:[function(a,v,P){var f=a("./isObject"),g=Object.create,p=function(){function b(){}return function(y){if(!f(y))return{};if(g)return g(y);b.prototype=y;var x=new b;return b.prototype=void 0,x}}();v.exports=p},{"./isObject":251}],82:[function(a,v,P){var f=a("./_baseForOwn"),g=a("./_createBaseEach"),p=g(f);v.exports=p},{"./_baseForOwn":88,"./_createBaseEach":148}],83:[function(a,v,P){var f=a("./isSymbol");function g(p,b,y){for(var x=-1,E=p.length;++x<E;){var S=p[x],d=b(S);if(d!=null&&(w===void 0?d===d&&!f(d):y(d,w)))var w=d,A=S}return A}v.exports=g},{"./isSymbol":256}],84:[function(a,v,P){var f=a("./_baseEach");function g(p,b){var y=[];return f(p,function(x,E,S){b(x,E,S)&&y.push(x)}),y}v.exports=g},{"./_baseEach":82}],85:[function(a,v,P){function f(g,p,b,y){for(var x=g.length,E=b+(y?1:-1);y?E--:++E<x;)if(p(g[E],E,g))return E;return-1}v.exports=f},{}],86:[function(a,v,P){var f=a("./_arrayPush"),g=a("./_isFlattenable");function p(b,y,x,E,S){var d=-1,w=b.length;for(x||(x=g),S||(S=[]);++d<w;){var A=b[d];y>0&&x(A)?y>1?p(A,y-1,x,E,S):f(S,A):E||(S[S.length]=A)}return S}v.exports=p},{"./_arrayPush":70,"./_isFlattenable":180}],87:[function(a,v,P){var f=a("./_createBaseFor"),g=f();v.exports=g},{"./_createBaseFor":149}],88:[function(a,v,P){var f=a("./_baseFor"),g=a("./keys");function p(b,y){return b&&f(b,y,g)}v.exports=p},{"./_baseFor":87,"./keys":259}],89:[function(a,v,P){var f=a("./_castPath"),g=a("./_toKey");function p(b,y){y=f(y,b);for(var x=0,E=y.length;b!=null&&x<E;)b=b[g(y[x++])];return x&&x==E?b:void 0}v.exports=p},{"./_castPath":133,"./_toKey":223}],90:[function(a,v,P){var f=a("./_arrayPush"),g=a("./isArray");function p(b,y,x){var E=y(b);return g(b)?E:f(E,x(b))}v.exports=p},{"./_arrayPush":70,"./isArray":243}],91:[function(a,v,P){var f=a("./_Symbol"),g=a("./_getRawTag"),p=a("./_objectToString"),b="[object Null]",y="[object Undefined]",x=f?f.toStringTag:void 0;function E(S){return S==null?S===void 0?y:b:x&&x in Object(S)?g(S):p(S)}v.exports=E},{"./_Symbol":60,"./_getRawTag":165,"./_objectToString":205}],92:[function(a,v,P){function f(g,p){return g>p}v.exports=f},{}],93:[function(a,v,P){var f=Object.prototype,g=f.hasOwnProperty;function p(b,y){return b!=null&&g.call(b,y)}v.exports=p},{}],94:[function(a,v,P){function f(g,p){return g!=null&&p in Object(g)}v.exports=f},{}],95:[function(a,v,P){var f=a("./_baseFindIndex"),g=a("./_baseIsNaN"),p=a("./_strictIndexOf");function b(y,x,E){return x===x?p(y,x,E):f(y,g,E)}v.exports=b},{"./_baseFindIndex":85,"./_baseIsNaN":101,"./_strictIndexOf":220}],96:[function(a,v,P){var f=a("./_baseGetTag"),g=a("./isObjectLike"),p="[object Arguments]";function b(y){return g(y)&&f(y)==p}v.exports=b},{"./_baseGetTag":91,"./isObjectLike":252}],97:[function(a,v,P){var f=a("./_baseIsEqualDeep"),g=a("./isObjectLike");function p(b,y,x,E,S){return b===y?!0:b==null||y==null||!g(b)&&!g(y)?b!==b&&y!==y:f(b,y,x,E,p,S)}v.exports=p},{"./_baseIsEqualDeep":98,"./isObjectLike":252}],98:[function(a,v,P){var f=a("./_Stack"),g=a("./_equalArrays"),p=a("./_equalByTag"),b=a("./_equalObjects"),y=a("./_getTag"),x=a("./isArray"),E=a("./isBuffer"),S=a("./isTypedArray"),d=1,w="[object Arguments]",A="[object Array]",T="[object Object]",N=Object.prototype,F=N.hasOwnProperty;function $(Y,z,Z,q,J,ie){var se=x(Y),oe=x(z),le=se?A:y(Y),ye=oe?A:y(z);le=le==w?T:le,ye=ye==w?T:ye;var ge=le==T,_e=ye==T,H=le==ye;if(H&&E(Y)){if(!E(z))return!1;se=!0,ge=!1}if(H&&!ge)return ie||(ie=new f),se||S(Y)?g(Y,z,Z,q,J,ie):p(Y,z,le,Z,q,J,ie);if(!(Z&d)){var ne=ge&&F.call(Y,"__wrapped__"),ue=_e&&F.call(z,"__wrapped__");if(ne||ue){var me=ne?Y.value():Y,xe=ue?z.value():z;return ie||(ie=new f),J(me,xe,Z,q,ie)}}return H?(ie||(ie=new f),b(Y,z,Z,q,J,ie)):!1}v.exports=$},{"./_Stack":59,"./_equalArrays":154,"./_equalByTag":155,"./_equalObjects":156,"./_getTag":168,"./isArray":243,"./isBuffer":246,"./isTypedArray":257}],99:[function(a,v,P){var f=a("./_getTag"),g=a("./isObjectLike"),p="[object Map]";function b(y){return g(y)&&f(y)==p}v.exports=b},{"./_getTag":168,"./isObjectLike":252}],100:[function(a,v,P){var f=a("./_Stack"),g=a("./_baseIsEqual"),p=1,b=2;function y(x,E,S,d){var w=S.length,A=w,T=!d;if(x==null)return!A;for(x=Object(x);w--;){var N=S[w];if(T&&N[2]?N[1]!==x[N[0]]:!(N[0]in x))return!1}for(;++w<A;){N=S[w];var F=N[0],$=x[F],Y=N[1];if(T&&N[2]){if($===void 0&&!(F in x))return!1}else{var z=new f;if(d)var Z=d($,Y,F,x,E,z);if(!(Z===void 0?g(Y,$,p|b,d,z):Z))return!1}}return!0}v.exports=y},{"./_Stack":59,"./_baseIsEqual":97}],101:[function(a,v,P){function f(g){return g!==g}v.exports=f},{}],102:[function(a,v,P){var f=a("./isFunction"),g=a("./_isMasked"),p=a("./isObject"),b=a("./_toSource"),y=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,E=Function.prototype,S=Object.prototype,d=E.toString,w=S.hasOwnProperty,A=RegExp("^"+d.call(w).replace(y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T(N){if(!p(N)||g(N))return!1;var F=f(N)?A:x;return F.test(b(N))}v.exports=T},{"./_isMasked":185,"./_toSource":224,"./isFunction":248,"./isObject":251}],103:[function(a,v,P){var f=a("./_getTag"),g=a("./isObjectLike"),p="[object Set]";function b(y){return g(y)&&f(y)==p}v.exports=b},{"./_getTag":168,"./isObjectLike":252}],104:[function(a,v,P){var f=a("./_baseGetTag"),g=a("./isLength"),p=a("./isObjectLike"),b="[object Arguments]",y="[object Array]",x="[object Boolean]",E="[object Date]",S="[object Error]",d="[object Function]",w="[object Map]",A="[object Number]",T="[object Object]",N="[object RegExp]",F="[object Set]",$="[object String]",Y="[object WeakMap]",z="[object ArrayBuffer]",Z="[object DataView]",q="[object Float32Array]",J="[object Float64Array]",ie="[object Int8Array]",se="[object Int16Array]",oe="[object Int32Array]",le="[object Uint8Array]",ye="[object Uint8ClampedArray]",ge="[object Uint16Array]",_e="[object Uint32Array]",H={};H[q]=H[J]=H[ie]=H[se]=H[oe]=H[le]=H[ye]=H[ge]=H[_e]=!0,H[b]=H[y]=H[z]=H[x]=H[Z]=H[E]=H[S]=H[d]=H[w]=H[A]=H[T]=H[N]=H[F]=H[$]=H[Y]=!1;function ne(ue){return p(ue)&&g(ue.length)&&!!H[f(ue)]}v.exports=ne},{"./_baseGetTag":91,"./isLength":249,"./isObjectLike":252}],105:[function(a,v,P){var f=a("./_baseMatches"),g=a("./_baseMatchesProperty"),p=a("./identity"),b=a("./isArray"),y=a("./property");function x(E){return typeof E=="function"?E:E==null?p:typeof E=="object"?b(E)?g(E[0],E[1]):f(E):y(E)}v.exports=x},{"./_baseMatches":110,"./_baseMatchesProperty":111,"./identity":241,"./isArray":243,"./property":272}],106:[function(a,v,P){var f=a("./_isPrototype"),g=a("./_nativeKeys"),p=Object.prototype,b=p.hasOwnProperty;function y(x){if(!f(x))return g(x);var E=[];for(var S in Object(x))b.call(x,S)&&S!="constructor"&&E.push(S);return E}v.exports=y},{"./_isPrototype":186,"./_nativeKeys":202}],107:[function(a,v,P){var f=a("./isObject"),g=a("./_isPrototype"),p=a("./_nativeKeysIn"),b=Object.prototype,y=b.hasOwnProperty;function x(E){if(!f(E))return p(E);var S=g(E),d=[];for(var w in E)w=="constructor"&&(S||!y.call(E,w))||d.push(w);return d}v.exports=x},{"./_isPrototype":186,"./_nativeKeysIn":203,"./isObject":251}],108:[function(a,v,P){function f(g,p){return g<p}v.exports=f},{}],109:[function(a,v,P){var f=a("./_baseEach"),g=a("./isArrayLike");function p(b,y){var x=-1,E=g(b)?Array(b.length):[];return f(b,function(S,d,w){E[++x]=y(S,d,w)}),E}v.exports=p},{"./_baseEach":82,"./isArrayLike":244}],110:[function(a,v,P){var f=a("./_baseIsMatch"),g=a("./_getMatchData"),p=a("./_matchesStrictComparable");function b(y){var x=g(y);return x.length==1&&x[0][2]?p(x[0][0],x[0][1]):function(E){return E===y||f(E,y,x)}}v.exports=b},{"./_baseIsMatch":100,"./_getMatchData":162,"./_matchesStrictComparable":199}],111:[function(a,v,P){var f=a("./_baseIsEqual"),g=a("./get"),p=a("./hasIn"),b=a("./_isKey"),y=a("./_isStrictComparable"),x=a("./_matchesStrictComparable"),E=a("./_toKey"),S=1,d=2;function w(A,T){return b(A)&&y(T)?x(E(A),T):function(N){var F=g(N,A);return F===void 0&&F===T?p(N,A):f(T,F,S|d)}}v.exports=w},{"./_baseIsEqual":97,"./_isKey":183,"./_isStrictComparable":187,"./_matchesStrictComparable":199,"./_toKey":223,"./get":238,"./hasIn":240}],112:[function(a,v,P){var f=a("./_Stack"),g=a("./_assignMergeValue"),p=a("./_baseFor"),b=a("./_baseMergeDeep"),y=a("./isObject"),x=a("./keysIn"),E=a("./_safeGet");function S(d,w,A,T,N){d!==w&&p(w,function(F,$){if(N||(N=new f),y(F))b(d,w,$,A,S,T,N);else{var Y=T?T(E(d,$),F,$+"",d,w,N):void 0;Y===void 0&&(Y=F),g(d,$,Y)}},x)}v.exports=S},{"./_Stack":59,"./_assignMergeValue":74,"./_baseFor":87,"./_baseMergeDeep":113,"./_safeGet":209,"./isObject":251,"./keysIn":260}],113:[function(a,v,P){var f=a("./_assignMergeValue"),g=a("./_cloneBuffer"),p=a("./_cloneTypedArray"),b=a("./_copyArray"),y=a("./_initCloneObject"),x=a("./isArguments"),E=a("./isArray"),S=a("./isArrayLikeObject"),d=a("./isBuffer"),w=a("./isFunction"),A=a("./isObject"),T=a("./isPlainObject"),N=a("./isTypedArray"),F=a("./_safeGet"),$=a("./toPlainObject");function Y(z,Z,q,J,ie,se,oe){var le=F(z,q),ye=F(Z,q),ge=oe.get(ye);if(ge){f(z,q,ge);return}var _e=se?se(le,ye,q+"",z,Z,oe):void 0,H=_e===void 0;if(H){var ne=E(ye),ue=!ne&&d(ye),me=!ne&&!ue&&N(ye);_e=ye,ne||ue||me?E(le)?_e=le:S(le)?_e=b(le):ue?(H=!1,_e=g(ye,!0)):me?(H=!1,_e=p(ye,!0)):_e=[]:T(ye)||x(ye)?(_e=le,x(le)?_e=$(le):(!A(le)||w(le))&&(_e=y(ye))):H=!1}H&&(oe.set(ye,_e),ie(_e,ye,J,se,oe),oe.delete(ye)),f(z,q,_e)}v.exports=Y},{"./_assignMergeValue":74,"./_cloneBuffer":135,"./_cloneTypedArray":139,"./_copyArray":142,"./_initCloneObject":179,"./_safeGet":209,"./isArguments":242,"./isArray":243,"./isArrayLikeObject":245,"./isBuffer":246,"./isFunction":248,"./isObject":251,"./isPlainObject":253,"./isTypedArray":257,"./toPlainObject":282}],114:[function(a,v,P){var f=a("./_arrayMap"),g=a("./_baseIteratee"),p=a("./_baseMap"),b=a("./_baseSortBy"),y=a("./_baseUnary"),x=a("./_compareMultiple"),E=a("./identity");function S(d,w,A){var T=-1;w=f(w.length?w:[E],y(g));var N=p(d,function(F,$,Y){var z=f(w,function(Z){return Z(F)});return{criteria:z,index:++T,value:F}});return b(N,function(F,$){return x(F,$,A)})}v.exports=S},{"./_arrayMap":69,"./_baseIteratee":105,"./_baseMap":109,"./_baseSortBy":124,"./_baseUnary":127,"./_compareMultiple":141,"./identity":241}],115:[function(a,v,P){var f=a("./_basePickBy"),g=a("./hasIn");function p(b,y){return f(b,y,function(x,E){return g(b,E)})}v.exports=p},{"./_basePickBy":116,"./hasIn":240}],116:[function(a,v,P){var f=a("./_baseGet"),g=a("./_baseSet"),p=a("./_castPath");function b(y,x,E){for(var S=-1,d=x.length,w={};++S<d;){var A=x[S],T=f(y,A);E(T,A)&&g(w,p(A,y),T)}return w}v.exports=b},{"./_baseGet":89,"./_baseSet":122,"./_castPath":133}],117:[function(a,v,P){function f(g){return function(p){return p==null?void 0:p[g]}}v.exports=f},{}],118:[function(a,v,P){var f=a("./_baseGet");function g(p){return function(b){return f(b,p)}}v.exports=g},{"./_baseGet":89}],119:[function(a,v,P){var f=Math.ceil,g=Math.max;function p(b,y,x,E){for(var S=-1,d=g(f((y-b)/(x||1)),0),w=Array(d);d--;)w[E?d:++S]=b,b+=x;return w}v.exports=p},{}],120:[function(a,v,P){function f(g,p,b,y,x){return x(g,function(E,S,d){b=y?(y=!1,E):p(b,E,S,d)}),b}v.exports=f},{}],121:[function(a,v,P){var f=a("./identity"),g=a("./_overRest"),p=a("./_setToString");function b(y,x){return p(g(y,x,f),y+"")}v.exports=b},{"./_overRest":207,"./_setToString":213,"./identity":241}],122:[function(a,v,P){var f=a("./_assignValue"),g=a("./_castPath"),p=a("./_isIndex"),b=a("./isObject"),y=a("./_toKey");function x(E,S,d,w){if(!b(E))return E;S=g(S,E);for(var A=-1,T=S.length,N=T-1,F=E;F!=null&&++A<T;){var $=y(S[A]),Y=d;if(A!=N){var z=F[$];Y=w?w(z,$,F):void 0,Y===void 0&&(Y=b(z)?z:p(S[A+1])?[]:{})}f(F,$,Y),F=F[$]}return E}v.exports=x},{"./_assignValue":75,"./_castPath":133,"./_isIndex":181,"./_toKey":223,"./isObject":251}],123:[function(a,v,P){var f=a("./constant"),g=a("./_defineProperty"),p=a("./identity"),b=g?function(y,x){return g(y,"toString",{configurable:!0,enumerable:!1,value:f(x),writable:!0})}:p;v.exports=b},{"./_defineProperty":153,"./constant":228,"./identity":241}],124:[function(a,v,P){function f(g,p){var b=g.length;for(g.sort(p);b--;)g[b]=g[b].value;return g}v.exports=f},{}],125:[function(a,v,P){function f(g,p){for(var b=-1,y=Array(g);++b<g;)y[b]=p(b);return y}v.exports=f},{}],126:[function(a,v,P){var f=a("./_Symbol"),g=a("./_arrayMap"),p=a("./isArray"),b=a("./isSymbol"),y=f?f.prototype:void 0,x=y?y.toString:void 0;function E(S){if(typeof S=="string")return S;if(p(S))return g(S,E)+"";if(b(S))return x?x.call(S):"";var d=S+"";return d=="0"&&1/S==-1/0?"-0":d}v.exports=E},{"./_Symbol":60,"./_arrayMap":69,"./isArray":243,"./isSymbol":256}],127:[function(a,v,P){function f(g){return function(p){return g(p)}}v.exports=f},{}],128:[function(a,v,P){var f=a("./_SetCache"),g=a("./_arrayIncludes"),p=a("./_arrayIncludesWith"),b=a("./_cacheHas"),y=a("./_createSet"),x=a("./_setToArray"),E=200;function S(d,w,A){var T=-1,N=g,F=d.length,$=!0,Y=[],z=Y;if(A)$=!1,N=p;else if(F>=E){var Z=w?null:y(d);if(Z)return x(Z);$=!1,N=b,z=new f}else z=w?[]:Y;e:for(;++T<F;){var q=d[T],J=w?w(q):q;if(q=A||q!==0?q:0,$&&J===J){for(var ie=z.length;ie--;)if(z[ie]===J)continue e;w&&z.push(J),Y.push(q)}else N(z,J,A)||(z!==Y&&z.push(J),Y.push(q))}return Y}v.exports=S},{"./_SetCache":58,"./_arrayIncludes":66,"./_arrayIncludesWith":67,"./_cacheHas":131,"./_createSet":152,"./_setToArray":212}],129:[function(a,v,P){var f=a("./_arrayMap");function g(p,b){return f(b,function(y){return p[y]})}v.exports=g},{"./_arrayMap":69}],130:[function(a,v,P){function f(g,p,b){for(var y=-1,x=g.length,E=p.length,S={};++y<x;){var d=y<E?p[y]:void 0;b(S,g[y],d)}return S}v.exports=f},{}],131:[function(a,v,P){function f(g,p){return g.has(p)}v.exports=f},{}],132:[function(a,v,P){var f=a("./identity");function g(p){return typeof p=="function"?p:f}v.exports=g},{"./identity":241}],133:[function(a,v,P){var f=a("./isArray"),g=a("./_isKey"),p=a("./_stringToPath"),b=a("./toString");function y(x,E){return f(x)?x:g(x,E)?[x]:p(b(x))}v.exports=y},{"./_isKey":183,"./_stringToPath":222,"./isArray":243,"./toString":283}],134:[function(a,v,P){var f=a("./_Uint8Array");function g(p){var b=new p.constructor(p.byteLength);return new f(b).set(new f(p)),b}v.exports=g},{"./_Uint8Array":61}],135:[function(a,v,P){var f=a("./_root"),g=typeof P=="object"&&P&&!P.nodeType&&P,p=g&&typeof v=="object"&&v&&!v.nodeType&&v,b=p&&p.exports===g,y=b?f.Buffer:void 0,x=y?y.allocUnsafe:void 0;function E(S,d){if(d)return S.slice();var w=S.length,A=x?x(w):new S.constructor(w);return S.copy(A),A}v.exports=E},{"./_root":208}],136:[function(a,v,P){var f=a("./_cloneArrayBuffer");function g(p,b){var y=b?f(p.buffer):p.buffer;return new p.constructor(y,p.byteOffset,p.byteLength)}v.exports=g},{"./_cloneArrayBuffer":134}],137:[function(a,v,P){var f=/\w*$/;function g(p){var b=new p.constructor(p.source,f.exec(p));return b.lastIndex=p.lastIndex,b}v.exports=g},{}],138:[function(a,v,P){var f=a("./_Symbol"),g=f?f.prototype:void 0,p=g?g.valueOf:void 0;function b(y){return p?Object(p.call(y)):{}}v.exports=b},{"./_Symbol":60}],139:[function(a,v,P){var f=a("./_cloneArrayBuffer");function g(p,b){var y=b?f(p.buffer):p.buffer;return new p.constructor(y,p.byteOffset,p.length)}v.exports=g},{"./_cloneArrayBuffer":134}],140:[function(a,v,P){var f=a("./isSymbol");function g(p,b){if(p!==b){var y=p!==void 0,x=p===null,E=p===p,S=f(p),d=b!==void 0,w=b===null,A=b===b,T=f(b);if(!w&&!T&&!S&&p>b||S&&d&&A&&!w&&!T||x&&d&&A||!y&&A||!E)return 1;if(!x&&!S&&!T&&p<b||T&&y&&E&&!x&&!S||w&&y&&E||!d&&E||!A)return-1}return 0}v.exports=g},{"./isSymbol":256}],141:[function(a,v,P){var f=a("./_compareAscending");function g(p,b,y){for(var x=-1,E=p.criteria,S=b.criteria,d=E.length,w=y.length;++x<d;){var A=f(E[x],S[x]);if(A){if(x>=w)return A;var T=y[x];return A*(T=="desc"?-1:1)}}return p.index-b.index}v.exports=g},{"./_compareAscending":140}],142:[function(a,v,P){function f(g,p){var b=-1,y=g.length;for(p||(p=Array(y));++b<y;)p[b]=g[b];return p}v.exports=f},{}],143:[function(a,v,P){var f=a("./_assignValue"),g=a("./_baseAssignValue");function p(b,y,x,E){var S=!x;x||(x={});for(var d=-1,w=y.length;++d<w;){var A=y[d],T=E?E(x[A],b[A],A,x,b):void 0;T===void 0&&(T=b[A]),S?g(x,A,T):f(x,A,T)}return x}v.exports=p},{"./_assignValue":75,"./_baseAssignValue":79}],144:[function(a,v,P){var f=a("./_copyObject"),g=a("./_getSymbols");function p(b,y){return f(b,g(b),y)}v.exports=p},{"./_copyObject":143,"./_getSymbols":166}],145:[function(a,v,P){var f=a("./_copyObject"),g=a("./_getSymbolsIn");function p(b,y){return f(b,g(b),y)}v.exports=p},{"./_copyObject":143,"./_getSymbolsIn":167}],146:[function(a,v,P){var f=a("./_root"),g=f["__core-js_shared__"];v.exports=g},{"./_root":208}],147:[function(a,v,P){var f=a("./_baseRest"),g=a("./_isIterateeCall");function p(b){return f(function(y,x){var E=-1,S=x.length,d=S>1?x[S-1]:void 0,w=S>2?x[2]:void 0;for(d=b.length>3&&typeof d=="function"?(S--,d):void 0,w&&g(x[0],x[1],w)&&(d=S<3?void 0:d,S=1),y=Object(y);++E<S;){var A=x[E];A&&b(y,A,E,d)}return y})}v.exports=p},{"./_baseRest":121,"./_isIterateeCall":182}],148:[function(a,v,P){var f=a("./isArrayLike");function g(p,b){return function(y,x){if(y==null)return y;if(!f(y))return p(y,x);for(var E=y.length,S=b?E:-1,d=Object(y);(b?S--:++S<E)&&x(d[S],S,d)!==!1;);return y}}v.exports=g},{"./isArrayLike":244}],149:[function(a,v,P){function f(g){return function(p,b,y){for(var x=-1,E=Object(p),S=y(p),d=S.length;d--;){var w=S[g?d:++x];if(b(E[w],w,E)===!1)break}return p}}v.exports=f},{}],150:[function(a,v,P){var f=a("./_baseIteratee"),g=a("./isArrayLike"),p=a("./keys");function b(y){return function(x,E,S){var d=Object(x);if(!g(x)){var w=f(E,3);x=p(x),E=function(T){return w(d[T],T,d)}}var A=y(x,E,S);return A>-1?d[w?x[A]:A]:void 0}}v.exports=b},{"./_baseIteratee":105,"./isArrayLike":244,"./keys":259}],151:[function(a,v,P){var f=a("./_baseRange"),g=a("./_isIterateeCall"),p=a("./toFinite");function b(y){return function(x,E,S){return S&&typeof S!="number"&&g(x,E,S)&&(E=S=void 0),x=p(x),E===void 0?(E=x,x=0):E=p(E),S=S===void 0?x<E?1:-1:p(S),f(x,E,S,y)}}v.exports=b},{"./_baseRange":119,"./_isIterateeCall":182,"./toFinite":279}],152:[function(a,v,P){var f=a("./_Set"),g=a("./noop"),p=a("./_setToArray"),b=1/0,y=f&&1/p(new f([,-0]))[1]==b?function(x){return new f(x)}:g;v.exports=y},{"./_Set":57,"./_setToArray":212,"./noop":269}],153:[function(a,v,P){var f=a("./_getNative"),g=function(){try{var p=f(Object,"defineProperty");return p({},"",{}),p}catch{}}();v.exports=g},{"./_getNative":163}],154:[function(a,v,P){var f=a("./_SetCache"),g=a("./_arraySome"),p=a("./_cacheHas"),b=1,y=2;function x(E,S,d,w,A,T){var N=d&b,F=E.length,$=S.length;if(F!=$&&!(N&&$>F))return!1;var Y=T.get(E);if(Y&&T.get(S))return Y==S;var z=-1,Z=!0,q=d&y?new f:void 0;for(T.set(E,S),T.set(S,E);++z<F;){var J=E[z],ie=S[z];if(w)var se=N?w(ie,J,z,S,E,T):w(J,ie,z,E,S,T);if(se!==void 0){if(se)continue;Z=!1;break}if(q){if(!g(S,function(oe,le){if(!p(q,le)&&(J===oe||A(J,oe,d,w,T)))return q.push(le)})){Z=!1;break}}else if(!(J===ie||A(J,ie,d,w,T))){Z=!1;break}}return T.delete(E),T.delete(S),Z}v.exports=x},{"./_SetCache":58,"./_arraySome":72,"./_cacheHas":131}],155:[function(a,v,P){var f=a("./_Symbol"),g=a("./_Uint8Array"),p=a("./eq"),b=a("./_equalArrays"),y=a("./_mapToArray"),x=a("./_setToArray"),E=1,S=2,d="[object Boolean]",w="[object Date]",A="[object Error]",T="[object Map]",N="[object Number]",F="[object RegExp]",$="[object Set]",Y="[object String]",z="[object Symbol]",Z="[object ArrayBuffer]",q="[object DataView]",J=f?f.prototype:void 0,ie=J?J.valueOf:void 0;function se(oe,le,ye,ge,_e,H,ne){switch(ye){case q:if(oe.byteLength!=le.byteLength||oe.byteOffset!=le.byteOffset)return!1;oe=oe.buffer,le=le.buffer;case Z:return!(oe.byteLength!=le.byteLength||!H(new g(oe),new g(le)));case d:case w:case N:return p(+oe,+le);case A:return oe.name==le.name&&oe.message==le.message;case F:case Y:return oe==le+"";case T:var ue=y;case $:var me=ge&E;if(ue||(ue=x),oe.size!=le.size&&!me)return!1;var xe=ne.get(oe);if(xe)return xe==le;ge|=S,ne.set(oe,le);var Me=b(ue(oe),ue(le),ge,_e,H,ne);return ne.delete(oe),Me;case z:if(ie)return ie.call(oe)==ie.call(le)}return!1}v.exports=se},{"./_Symbol":60,"./_Uint8Array":61,"./_equalArrays":154,"./_mapToArray":198,"./_setToArray":212,"./eq":231}],156:[function(a,v,P){var f=a("./_getAllKeys"),g=1,p=Object.prototype,b=p.hasOwnProperty;function y(x,E,S,d,w,A){var T=S&g,N=f(x),F=N.length,$=f(E),Y=$.length;if(F!=Y&&!T)return!1;for(var z=F;z--;){var Z=N[z];if(!(T?Z in E:b.call(E,Z)))return!1}var q=A.get(x);if(q&&A.get(E))return q==E;var J=!0;A.set(x,E),A.set(E,x);for(var ie=T;++z<F;){Z=N[z];var se=x[Z],oe=E[Z];if(d)var le=T?d(oe,se,Z,E,x,A):d(se,oe,Z,x,E,A);if(!(le===void 0?se===oe||w(se,oe,S,d,A):le)){J=!1;break}ie||(ie=Z=="constructor")}if(J&&!ie){var ye=x.constructor,ge=E.constructor;ye!=ge&&"constructor"in x&&"constructor"in E&&!(typeof ye=="function"&&ye instanceof ye&&typeof ge=="function"&&ge instanceof ge)&&(J=!1)}return A.delete(x),A.delete(E),J}v.exports=y},{"./_getAllKeys":159}],157:[function(a,v,P){var f=a("./flatten"),g=a("./_overRest"),p=a("./_setToString");function b(y){return p(g(y,void 0,f),y+"")}v.exports=b},{"./_overRest":207,"./_setToString":213,"./flatten":235}],158:[function(a,v,P){(function(f){var g=typeof f=="object"&&f&&f.Object===Object&&f;v.exports=g}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],159:[function(a,v,P){var f=a("./_baseGetAllKeys"),g=a("./_getSymbols"),p=a("./keys");function b(y){return f(y,p,g)}v.exports=b},{"./_baseGetAllKeys":90,"./_getSymbols":166,"./keys":259}],160:[function(a,v,P){var f=a("./_baseGetAllKeys"),g=a("./_getSymbolsIn"),p=a("./keysIn");function b(y){return f(y,p,g)}v.exports=b},{"./_baseGetAllKeys":90,"./_getSymbolsIn":167,"./keysIn":260}],161:[function(a,v,P){var f=a("./_isKeyable");function g(p,b){var y=p.__data__;return f(b)?y[typeof b=="string"?"string":"hash"]:y.map}v.exports=g},{"./_isKeyable":184}],162:[function(a,v,P){var f=a("./_isStrictComparable"),g=a("./keys");function p(b){for(var y=g(b),x=y.length;x--;){var E=y[x],S=b[E];y[x]=[E,S,f(S)]}return y}v.exports=p},{"./_isStrictComparable":187,"./keys":259}],163:[function(a,v,P){var f=a("./_baseIsNative"),g=a("./_getValue");function p(b,y){var x=g(b,y);return f(x)?x:void 0}v.exports=p},{"./_baseIsNative":102,"./_getValue":169}],164:[function(a,v,P){var f=a("./_overArg"),g=f(Object.getPrototypeOf,Object);v.exports=g},{"./_overArg":206}],165:[function(a,v,P){var f=a("./_Symbol"),g=Object.prototype,p=g.hasOwnProperty,b=g.toString,y=f?f.toStringTag:void 0;function x(E){var S=p.call(E,y),d=E[y];try{E[y]=void 0;var w=!0}catch{}var A=b.call(E);return w&&(S?E[y]=d:delete E[y]),A}v.exports=x},{"./_Symbol":60}],166:[function(a,v,P){var f=a("./_arrayFilter"),g=a("./stubArray"),p=Object.prototype,b=p.propertyIsEnumerable,y=Object.getOwnPropertySymbols,x=y?function(E){return E==null?[]:(E=Object(E),f(y(E),function(S){return b.call(E,S)}))}:g;v.exports=x},{"./_arrayFilter":65,"./stubArray":277}],167:[function(a,v,P){var f=a("./_arrayPush"),g=a("./_getPrototype"),p=a("./_getSymbols"),b=a("./stubArray"),y=Object.getOwnPropertySymbols,x=y?function(E){for(var S=[];E;)f(S,p(E)),E=g(E);return S}:b;v.exports=x},{"./_arrayPush":70,"./_getPrototype":164,"./_getSymbols":166,"./stubArray":277}],168:[function(a,v,P){var f=a("./_DataView"),g=a("./_Map"),p=a("./_Promise"),b=a("./_Set"),y=a("./_WeakMap"),x=a("./_baseGetTag"),E=a("./_toSource"),S="[object Map]",d="[object Object]",w="[object Promise]",A="[object Set]",T="[object WeakMap]",N="[object DataView]",F=E(f),$=E(g),Y=E(p),z=E(b),Z=E(y),q=x;(f&&q(new f(new ArrayBuffer(1)))!=N||g&&q(new g)!=S||p&&q(p.resolve())!=w||b&&q(new b)!=A||y&&q(new y)!=T)&&(q=function(J){var ie=x(J),se=ie==d?J.constructor:void 0,oe=se?E(se):"";if(oe)switch(oe){case F:return N;case $:return S;case Y:return w;case z:return A;case Z:return T}return ie}),v.exports=q},{"./_DataView":51,"./_Map":54,"./_Promise":56,"./_Set":57,"./_WeakMap":62,"./_baseGetTag":91,"./_toSource":224}],169:[function(a,v,P){function f(g,p){return g==null?void 0:g[p]}v.exports=f},{}],170:[function(a,v,P){var f=a("./_castPath"),g=a("./isArguments"),p=a("./isArray"),b=a("./_isIndex"),y=a("./isLength"),x=a("./_toKey");function E(S,d,w){d=f(d,S);for(var A=-1,T=d.length,N=!1;++A<T;){var F=x(d[A]);if(!(N=S!=null&&w(S,F)))break;S=S[F]}return N||++A!=T?N:(T=S==null?0:S.length,!!T&&y(T)&&b(F,T)&&(p(S)||g(S)))}v.exports=E},{"./_castPath":133,"./_isIndex":181,"./_toKey":223,"./isArguments":242,"./isArray":243,"./isLength":249}],171:[function(a,v,P){var f="\\ud800-\\udfff",g="\\u0300-\\u036f",p="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",y=g+p+b,x="\\ufe0e\\ufe0f",E="\\u200d",S=RegExp("["+E+f+y+x+"]");function d(w){return S.test(w)}v.exports=d},{}],172:[function(a,v,P){var f=a("./_nativeCreate");function g(){this.__data__=f?f(null):{},this.size=0}v.exports=g},{"./_nativeCreate":201}],173:[function(a,v,P){function f(g){var p=this.has(g)&&delete this.__data__[g];return this.size-=p?1:0,p}v.exports=f},{}],174:[function(a,v,P){var f=a("./_nativeCreate"),g="__lodash_hash_undefined__",p=Object.prototype,b=p.hasOwnProperty;function y(x){var E=this.__data__;if(f){var S=E[x];return S===g?void 0:S}return b.call(E,x)?E[x]:void 0}v.exports=y},{"./_nativeCreate":201}],175:[function(a,v,P){var f=a("./_nativeCreate"),g=Object.prototype,p=g.hasOwnProperty;function b(y){var x=this.__data__;return f?x[y]!==void 0:p.call(x,y)}v.exports=b},{"./_nativeCreate":201}],176:[function(a,v,P){var f=a("./_nativeCreate"),g="__lodash_hash_undefined__";function p(b,y){var x=this.__data__;return this.size+=this.has(b)?0:1,x[b]=f&&y===void 0?g:y,this}v.exports=p},{"./_nativeCreate":201}],177:[function(a,v,P){var f=Object.prototype,g=f.hasOwnProperty;function p(b){var y=b.length,x=new b.constructor(y);return y&&typeof b[0]=="string"&&g.call(b,"index")&&(x.index=b.index,x.input=b.input),x}v.exports=p},{}],178:[function(a,v,P){var f=a("./_cloneArrayBuffer"),g=a("./_cloneDataView"),p=a("./_cloneRegExp"),b=a("./_cloneSymbol"),y=a("./_cloneTypedArray"),x="[object Boolean]",E="[object Date]",S="[object Map]",d="[object Number]",w="[object RegExp]",A="[object Set]",T="[object String]",N="[object Symbol]",F="[object ArrayBuffer]",$="[object DataView]",Y="[object Float32Array]",z="[object Float64Array]",Z="[object Int8Array]",q="[object Int16Array]",J="[object Int32Array]",ie="[object Uint8Array]",se="[object Uint8ClampedArray]",oe="[object Uint16Array]",le="[object Uint32Array]";function ye(ge,_e,H){var ne=ge.constructor;switch(_e){case F:return f(ge);case x:case E:return new ne(+ge);case $:return g(ge,H);case Y:case z:case Z:case q:case J:case ie:case se:case oe:case le:return y(ge,H);case S:return new ne;case d:case T:return new ne(ge);case w:return p(ge);case A:return new ne;case N:return b(ge)}}v.exports=ye},{"./_cloneArrayBuffer":134,"./_cloneDataView":136,"./_cloneRegExp":137,"./_cloneSymbol":138,"./_cloneTypedArray":139}],179:[function(a,v,P){var f=a("./_baseCreate"),g=a("./_getPrototype"),p=a("./_isPrototype");function b(y){return typeof y.constructor=="function"&&!p(y)?f(g(y)):{}}v.exports=b},{"./_baseCreate":81,"./_getPrototype":164,"./_isPrototype":186}],180:[function(a,v,P){var f=a("./_Symbol"),g=a("./isArguments"),p=a("./isArray"),b=f?f.isConcatSpreadable:void 0;function y(x){return p(x)||g(x)||!!(b&&x&&x[b])}v.exports=y},{"./_Symbol":60,"./isArguments":242,"./isArray":243}],181:[function(a,v,P){var f=9007199254740991,g=/^(?:0|[1-9]\d*)$/;function p(b,y){var x=typeof b;return y=y??f,!!y&&(x=="number"||x!="symbol"&&g.test(b))&&b>-1&&b%1==0&&b<y}v.exports=p},{}],182:[function(a,v,P){var f=a("./eq"),g=a("./isArrayLike"),p=a("./_isIndex"),b=a("./isObject");function y(x,E,S){if(!b(S))return!1;var d=typeof E;return(d=="number"?g(S)&&p(E,S.length):d=="string"&&E in S)?f(S[E],x):!1}v.exports=y},{"./_isIndex":181,"./eq":231,"./isArrayLike":244,"./isObject":251}],183:[function(a,v,P){var f=a("./isArray"),g=a("./isSymbol"),p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function y(x,E){if(f(x))return!1;var S=typeof x;return S=="number"||S=="symbol"||S=="boolean"||x==null||g(x)?!0:b.test(x)||!p.test(x)||E!=null&&x in Object(E)}v.exports=y},{"./isArray":243,"./isSymbol":256}],184:[function(a,v,P){function f(g){var p=typeof g;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?g!=="__proto__":g===null}v.exports=f},{}],185:[function(a,v,P){var f=a("./_coreJsData"),g=function(){var b=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();function p(b){return!!g&&g in b}v.exports=p},{"./_coreJsData":146}],186:[function(a,v,P){var f=Object.prototype;function g(p){var b=p&&p.constructor,y=typeof b=="function"&&b.prototype||f;return p===y}v.exports=g},{}],187:[function(a,v,P){var f=a("./isObject");function g(p){return p===p&&!f(p)}v.exports=g},{"./isObject":251}],188:[function(a,v,P){function f(){this.__data__=[],this.size=0}v.exports=f},{}],189:[function(a,v,P){var f=a("./_assocIndexOf"),g=Array.prototype,p=g.splice;function b(y){var x=this.__data__,E=f(x,y);if(E<0)return!1;var S=x.length-1;return E==S?x.pop():p.call(x,E,1),--this.size,!0}v.exports=b},{"./_assocIndexOf":76}],190:[function(a,v,P){var f=a("./_assocIndexOf");function g(p){var b=this.__data__,y=f(b,p);return y<0?void 0:b[y][1]}v.exports=g},{"./_assocIndexOf":76}],191:[function(a,v,P){var f=a("./_assocIndexOf");function g(p){return f(this.__data__,p)>-1}v.exports=g},{"./_assocIndexOf":76}],192:[function(a,v,P){var f=a("./_assocIndexOf");function g(p,b){var y=this.__data__,x=f(y,p);return x<0?(++this.size,y.push([p,b])):y[x][1]=b,this}v.exports=g},{"./_assocIndexOf":76}],193:[function(a,v,P){var f=a("./_Hash"),g=a("./_ListCache"),p=a("./_Map");function b(){this.size=0,this.__data__={hash:new f,map:new(p||g),string:new f}}v.exports=b},{"./_Hash":52,"./_ListCache":53,"./_Map":54}],194:[function(a,v,P){var f=a("./_getMapData");function g(p){var b=f(this,p).delete(p);return this.size-=b?1:0,b}v.exports=g},{"./_getMapData":161}],195:[function(a,v,P){var f=a("./_getMapData");function g(p){return f(this,p).get(p)}v.exports=g},{"./_getMapData":161}],196:[function(a,v,P){var f=a("./_getMapData");function g(p){return f(this,p).has(p)}v.exports=g},{"./_getMapData":161}],197:[function(a,v,P){var f=a("./_getMapData");function g(p,b){var y=f(this,p),x=y.size;return y.set(p,b),this.size+=y.size==x?0:1,this}v.exports=g},{"./_getMapData":161}],198:[function(a,v,P){function f(g){var p=-1,b=Array(g.size);return g.forEach(function(y,x){b[++p]=[x,y]}),b}v.exports=f},{}],199:[function(a,v,P){function f(g,p){return function(b){return b==null?!1:b[g]===p&&(p!==void 0||g in Object(b))}}v.exports=f},{}],200:[function(a,v,P){var f=a("./memoize"),g=500;function p(b){var y=f(b,function(E){return x.size===g&&x.clear(),E}),x=y.cache;return y}v.exports=p},{"./memoize":265}],201:[function(a,v,P){var f=a("./_getNative"),g=f(Object,"create");v.exports=g},{"./_getNative":163}],202:[function(a,v,P){var f=a("./_overArg"),g=f(Object.keys,Object);v.exports=g},{"./_overArg":206}],203:[function(a,v,P){function f(g){var p=[];if(g!=null)for(var b in Object(g))p.push(b);return p}v.exports=f},{}],204:[function(a,v,P){var f=a("./_freeGlobal"),g=typeof P=="object"&&P&&!P.nodeType&&P,p=g&&typeof v=="object"&&v&&!v.nodeType&&v,b=p&&p.exports===g,y=b&&f.process,x=function(){try{var E=p&&p.require&&p.require("util").types;return E||y&&y.binding&&y.binding("util")}catch{}}();v.exports=x},{"./_freeGlobal":158}],205:[function(a,v,P){var f=Object.prototype,g=f.toString;function p(b){return g.call(b)}v.exports=p},{}],206:[function(a,v,P){function f(g,p){return function(b){return g(p(b))}}v.exports=f},{}],207:[function(a,v,P){var f=a("./_apply"),g=Math.max;function p(b,y,x){return y=g(y===void 0?b.length-1:y,0),function(){for(var E=arguments,S=-1,d=g(E.length-y,0),w=Array(d);++S<d;)w[S]=E[y+S];S=-1;for(var A=Array(y+1);++S<y;)A[S]=E[S];return A[y]=x(w),f(b,this,A)}}v.exports=p},{"./_apply":63}],208:[function(a,v,P){var f=a("./_freeGlobal"),g=typeof self=="object"&&self&&self.Object===Object&&self,p=f||g||Function("return this")();v.exports=p},{"./_freeGlobal":158}],209:[function(a,v,P){function f(g,p){if(!(p==="constructor"&&typeof g[p]=="function")&&p!="__proto__")return g[p]}v.exports=f},{}],210:[function(a,v,P){var f="__lodash_hash_undefined__";function g(p){return this.__data__.set(p,f),this}v.exports=g},{}],211:[function(a,v,P){function f(g){return this.__data__.has(g)}v.exports=f},{}],212:[function(a,v,P){function f(g){var p=-1,b=Array(g.size);return g.forEach(function(y){b[++p]=y}),b}v.exports=f},{}],213:[function(a,v,P){var f=a("./_baseSetToString"),g=a("./_shortOut"),p=g(f);v.exports=p},{"./_baseSetToString":123,"./_shortOut":214}],214:[function(a,v,P){var f=800,g=16,p=Date.now;function b(y){var x=0,E=0;return function(){var S=p(),d=g-(S-E);if(E=S,d>0){if(++x>=f)return arguments[0]}else x=0;return y.apply(void 0,arguments)}}v.exports=b},{}],215:[function(a,v,P){var f=a("./_ListCache");function g(){this.__data__=new f,this.size=0}v.exports=g},{"./_ListCache":53}],216:[function(a,v,P){function f(g){var p=this.__data__,b=p.delete(g);return this.size=p.size,b}v.exports=f},{}],217:[function(a,v,P){function f(g){return this.__data__.get(g)}v.exports=f},{}],218:[function(a,v,P){function f(g){return this.__data__.has(g)}v.exports=f},{}],219:[function(a,v,P){var f=a("./_ListCache"),g=a("./_Map"),p=a("./_MapCache"),b=200;function y(x,E){var S=this.__data__;if(S instanceof f){var d=S.__data__;if(!g||d.length<b-1)return d.push([x,E]),this.size=++S.size,this;S=this.__data__=new p(d)}return S.set(x,E),this.size=S.size,this}v.exports=y},{"./_ListCache":53,"./_Map":54,"./_MapCache":55}],220:[function(a,v,P){function f(g,p,b){for(var y=b-1,x=g.length;++y<x;)if(g[y]===p)return y;return-1}v.exports=f},{}],221:[function(a,v,P){var f=a("./_asciiSize"),g=a("./_hasUnicode"),p=a("./_unicodeSize");function b(y){return g(y)?p(y):f(y)}v.exports=b},{"./_asciiSize":73,"./_hasUnicode":171,"./_unicodeSize":225}],222:[function(a,v,P){var f=a("./_memoizeCapped"),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,b=f(function(y){var x=[];return y.charCodeAt(0)===46&&x.push(""),y.replace(g,function(E,S,d,w){x.push(d?w.replace(p,"$1"):S||E)}),x});v.exports=b},{"./_memoizeCapped":200}],223:[function(a,v,P){var f=a("./isSymbol");function g(p){if(typeof p=="string"||f(p))return p;var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}v.exports=g},{"./isSymbol":256}],224:[function(a,v,P){var f=Function.prototype,g=f.toString;function p(b){if(b!=null){try{return g.call(b)}catch{}try{return b+""}catch{}}return""}v.exports=p},{}],225:[function(a,v,P){var f="\\ud800-\\udfff",g="\\u0300-\\u036f",p="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",y=g+p+b,x="\\ufe0e\\ufe0f",E="["+f+"]",S="["+y+"]",d="\\ud83c[\\udffb-\\udfff]",w="(?:"+S+"|"+d+")",A="[^"+f+"]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",N="[\\ud800-\\udbff][\\udc00-\\udfff]",F="\\u200d",$=w+"?",Y="["+x+"]?",z="(?:"+F+"(?:"+[A,T,N].join("|")+")"+Y+$+")*",Z=Y+$+z,q="(?:"+[A+S+"?",S,T,N,E].join("|")+")",J=RegExp(d+"(?="+d+")|"+q+Z,"g");function ie(se){for(var oe=J.lastIndex=0;J.test(se);)++oe;return oe}v.exports=ie},{}],226:[function(a,v,P){var f=a("./_baseClone"),g=4;function p(b){return f(b,g)}v.exports=p},{"./_baseClone":80}],227:[function(a,v,P){var f=a("./_baseClone"),g=1,p=4;function b(y){return f(y,g|p)}v.exports=b},{"./_baseClone":80}],228:[function(a,v,P){function f(g){return function(){return g}}v.exports=f},{}],229:[function(a,v,P){var f=a("./_baseRest"),g=a("./eq"),p=a("./_isIterateeCall"),b=a("./keysIn"),y=Object.prototype,x=y.hasOwnProperty,E=f(function(S,d){S=Object(S);var w=-1,A=d.length,T=A>2?d[2]:void 0;for(T&&p(d[0],d[1],T)&&(A=1);++w<A;)for(var N=d[w],F=b(N),$=-1,Y=F.length;++$<Y;){var z=F[$],Z=S[z];(Z===void 0||g(Z,y[z])&&!x.call(S,z))&&(S[z]=N[z])}return S});v.exports=E},{"./_baseRest":121,"./_isIterateeCall":182,"./eq":231,"./keysIn":260}],230:[function(a,v,P){v.exports=a("./forEach")},{"./forEach":236}],231:[function(a,v,P){function f(g,p){return g===p||g!==g&&p!==p}v.exports=f},{}],232:[function(a,v,P){var f=a("./_arrayFilter"),g=a("./_baseFilter"),p=a("./_baseIteratee"),b=a("./isArray");function y(x,E){var S=b(x)?f:g;return S(x,p(E,3))}v.exports=y},{"./_arrayFilter":65,"./_baseFilter":84,"./_baseIteratee":105,"./isArray":243}],233:[function(a,v,P){var f=a("./_createFind"),g=a("./findIndex"),p=f(g);v.exports=p},{"./_createFind":150,"./findIndex":234}],234:[function(a,v,P){var f=a("./_baseFindIndex"),g=a("./_baseIteratee"),p=a("./toInteger"),b=Math.max;function y(x,E,S){var d=x==null?0:x.length;if(!d)return-1;var w=S==null?0:p(S);return w<0&&(w=b(d+w,0)),f(x,g(E,3),w)}v.exports=y},{"./_baseFindIndex":85,"./_baseIteratee":105,"./toInteger":280}],235:[function(a,v,P){var f=a("./_baseFlatten");function g(p){var b=p==null?0:p.length;return b?f(p,1):[]}v.exports=g},{"./_baseFlatten":86}],236:[function(a,v,P){var f=a("./_arrayEach"),g=a("./_baseEach"),p=a("./_castFunction"),b=a("./isArray");function y(x,E){var S=b(x)?f:g;return S(x,p(E))}v.exports=y},{"./_arrayEach":64,"./_baseEach":82,"./_castFunction":132,"./isArray":243}],237:[function(a,v,P){var f=a("./_baseFor"),g=a("./_castFunction"),p=a("./keysIn");function b(y,x){return y==null?y:f(y,g(x),p)}v.exports=b},{"./_baseFor":87,"./_castFunction":132,"./keysIn":260}],238:[function(a,v,P){var f=a("./_baseGet");function g(p,b,y){var x=p==null?void 0:f(p,b);return x===void 0?y:x}v.exports=g},{"./_baseGet":89}],239:[function(a,v,P){var f=a("./_baseHas"),g=a("./_hasPath");function p(b,y){return b!=null&&g(b,y,f)}v.exports=p},{"./_baseHas":93,"./_hasPath":170}],240:[function(a,v,P){var f=a("./_baseHasIn"),g=a("./_hasPath");function p(b,y){return b!=null&&g(b,y,f)}v.exports=p},{"./_baseHasIn":94,"./_hasPath":170}],241:[function(a,v,P){function f(g){return g}v.exports=f},{}],242:[function(a,v,P){var f=a("./_baseIsArguments"),g=a("./isObjectLike"),p=Object.prototype,b=p.hasOwnProperty,y=p.propertyIsEnumerable,x=f(function(){return arguments}())?f:function(E){return g(E)&&b.call(E,"callee")&&!y.call(E,"callee")};v.exports=x},{"./_baseIsArguments":96,"./isObjectLike":252}],243:[function(a,v,P){var f=Array.isArray;v.exports=f},{}],244:[function(a,v,P){var f=a("./isFunction"),g=a("./isLength");function p(b){return b!=null&&g(b.length)&&!f(b)}v.exports=p},{"./isFunction":248,"./isLength":249}],245:[function(a,v,P){var f=a("./isArrayLike"),g=a("./isObjectLike");function p(b){return g(b)&&f(b)}v.exports=p},{"./isArrayLike":244,"./isObjectLike":252}],246:[function(a,v,P){var f=a("./_root"),g=a("./stubFalse"),p=typeof P=="object"&&P&&!P.nodeType&&P,b=p&&typeof v=="object"&&v&&!v.nodeType&&v,y=b&&b.exports===p,x=y?f.Buffer:void 0,E=x?x.isBuffer:void 0,S=E||g;v.exports=S},{"./_root":208,"./stubFalse":278}],247:[function(a,v,P){var f=a("./_baseKeys"),g=a("./_getTag"),p=a("./isArguments"),b=a("./isArray"),y=a("./isArrayLike"),x=a("./isBuffer"),E=a("./_isPrototype"),S=a("./isTypedArray"),d="[object Map]",w="[object Set]",A=Object.prototype,T=A.hasOwnProperty;function N(F){if(F==null)return!0;if(y(F)&&(b(F)||typeof F=="string"||typeof F.splice=="function"||x(F)||S(F)||p(F)))return!F.length;var $=g(F);if($==d||$==w)return!F.size;if(E(F))return!f(F).length;for(var Y in F)if(T.call(F,Y))return!1;return!0}v.exports=N},{"./_baseKeys":106,"./_getTag":168,"./_isPrototype":186,"./isArguments":242,"./isArray":243,"./isArrayLike":244,"./isBuffer":246,"./isTypedArray":257}],248:[function(a,v,P){var f=a("./_baseGetTag"),g=a("./isObject"),p="[object AsyncFunction]",b="[object Function]",y="[object GeneratorFunction]",x="[object Proxy]";function E(S){if(!g(S))return!1;var d=f(S);return d==b||d==y||d==p||d==x}v.exports=E},{"./_baseGetTag":91,"./isObject":251}],249:[function(a,v,P){var f=9007199254740991;function g(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=f}v.exports=g},{}],250:[function(a,v,P){var f=a("./_baseIsMap"),g=a("./_baseUnary"),p=a("./_nodeUtil"),b=p&&p.isMap,y=b?g(b):f;v.exports=y},{"./_baseIsMap":99,"./_baseUnary":127,"./_nodeUtil":204}],251:[function(a,v,P){function f(g){var p=typeof g;return g!=null&&(p=="object"||p=="function")}v.exports=f},{}],252:[function(a,v,P){function f(g){return g!=null&&typeof g=="object"}v.exports=f},{}],253:[function(a,v,P){var f=a("./_baseGetTag"),g=a("./_getPrototype"),p=a("./isObjectLike"),b="[object Object]",y=Function.prototype,x=Object.prototype,E=y.toString,S=x.hasOwnProperty,d=E.call(Object);function w(A){if(!p(A)||f(A)!=b)return!1;var T=g(A);if(T===null)return!0;var N=S.call(T,"constructor")&&T.constructor;return typeof N=="function"&&N instanceof N&&E.call(N)==d}v.exports=w},{"./_baseGetTag":91,"./_getPrototype":164,"./isObjectLike":252}],254:[function(a,v,P){var f=a("./_baseIsSet"),g=a("./_baseUnary"),p=a("./_nodeUtil"),b=p&&p.isSet,y=b?g(b):f;v.exports=y},{"./_baseIsSet":103,"./_baseUnary":127,"./_nodeUtil":204}],255:[function(a,v,P){var f=a("./_baseGetTag"),g=a("./isArray"),p=a("./isObjectLike"),b="[object String]";function y(x){return typeof x=="string"||!g(x)&&p(x)&&f(x)==b}v.exports=y},{"./_baseGetTag":91,"./isArray":243,"./isObjectLike":252}],256:[function(a,v,P){var f=a("./_baseGetTag"),g=a("./isObjectLike"),p="[object Symbol]";function b(y){return typeof y=="symbol"||g(y)&&f(y)==p}v.exports=b},{"./_baseGetTag":91,"./isObjectLike":252}],257:[function(a,v,P){var f=a("./_baseIsTypedArray"),g=a("./_baseUnary"),p=a("./_nodeUtil"),b=p&&p.isTypedArray,y=b?g(b):f;v.exports=y},{"./_baseIsTypedArray":104,"./_baseUnary":127,"./_nodeUtil":204}],258:[function(a,v,P){function f(g){return g===void 0}v.exports=f},{}],259:[function(a,v,P){var f=a("./_arrayLikeKeys"),g=a("./_baseKeys"),p=a("./isArrayLike");function b(y){return p(y)?f(y):g(y)}v.exports=b},{"./_arrayLikeKeys":68,"./_baseKeys":106,"./isArrayLike":244}],260:[function(a,v,P){var f=a("./_arrayLikeKeys"),g=a("./_baseKeysIn"),p=a("./isArrayLike");function b(y){return p(y)?f(y,!0):g(y)}v.exports=b},{"./_arrayLikeKeys":68,"./_baseKeysIn":107,"./isArrayLike":244}],261:[function(a,v,P){function f(g){var p=g==null?0:g.length;return p?g[p-1]:void 0}v.exports=f},{}],262:[function(a,v,P){var f=a("./_arrayMap"),g=a("./_baseIteratee"),p=a("./_baseMap"),b=a("./isArray");function y(x,E){var S=b(x)?f:p;return S(x,g(E,3))}v.exports=y},{"./_arrayMap":69,"./_baseIteratee":105,"./_baseMap":109,"./isArray":243}],263:[function(a,v,P){var f=a("./_baseAssignValue"),g=a("./_baseForOwn"),p=a("./_baseIteratee");function b(y,x){var E={};return x=p(x,3),g(y,function(S,d,w){f(E,d,x(S,d,w))}),E}v.exports=b},{"./_baseAssignValue":79,"./_baseForOwn":88,"./_baseIteratee":105}],264:[function(a,v,P){var f=a("./_baseExtremum"),g=a("./_baseGt"),p=a("./identity");function b(y){return y&&y.length?f(y,p,g):void 0}v.exports=b},{"./_baseExtremum":83,"./_baseGt":92,"./identity":241}],265:[function(a,v,P){var f=a("./_MapCache"),g="Expected a function";function p(b,y){if(typeof b!="function"||y!=null&&typeof y!="function")throw new TypeError(g);var x=function(){var E=arguments,S=y?y.apply(this,E):E[0],d=x.cache;if(d.has(S))return d.get(S);var w=b.apply(this,E);return x.cache=d.set(S,w)||d,w};return x.cache=new(p.Cache||f),x}p.Cache=f,v.exports=p},{"./_MapCache":55}],266:[function(a,v,P){var f=a("./_baseMerge"),g=a("./_createAssigner"),p=g(function(b,y,x){f(b,y,x)});v.exports=p},{"./_baseMerge":112,"./_createAssigner":147}],267:[function(a,v,P){var f=a("./_baseExtremum"),g=a("./_baseLt"),p=a("./identity");function b(y){return y&&y.length?f(y,p,g):void 0}v.exports=b},{"./_baseExtremum":83,"./_baseLt":108,"./identity":241}],268:[function(a,v,P){var f=a("./_baseExtremum"),g=a("./_baseIteratee"),p=a("./_baseLt");function b(y,x){return y&&y.length?f(y,g(x,2),p):void 0}v.exports=b},{"./_baseExtremum":83,"./_baseIteratee":105,"./_baseLt":108}],269:[function(a,v,P){function f(){}v.exports=f},{}],270:[function(a,v,P){var f=a("./_root"),g=function(){return f.Date.now()};v.exports=g},{"./_root":208}],271:[function(a,v,P){var f=a("./_basePick"),g=a("./_flatRest"),p=g(function(b,y){return b==null?{}:f(b,y)});v.exports=p},{"./_basePick":115,"./_flatRest":157}],272:[function(a,v,P){var f=a("./_baseProperty"),g=a("./_basePropertyDeep"),p=a("./_isKey"),b=a("./_toKey");function y(x){return p(x)?f(b(x)):g(x)}v.exports=y},{"./_baseProperty":117,"./_basePropertyDeep":118,"./_isKey":183,"./_toKey":223}],273:[function(a,v,P){var f=a("./_createRange"),g=f();v.exports=g},{"./_createRange":151}],274:[function(a,v,P){var f=a("./_arrayReduce"),g=a("./_baseEach"),p=a("./_baseIteratee"),b=a("./_baseReduce"),y=a("./isArray");function x(E,S,d){var w=y(E)?f:b,A=arguments.length<3;return w(E,p(S,4),d,A,g)}v.exports=x},{"./_arrayReduce":71,"./_baseEach":82,"./_baseIteratee":105,"./_baseReduce":120,"./isArray":243}],275:[function(a,v,P){var f=a("./_baseKeys"),g=a("./_getTag"),p=a("./isArrayLike"),b=a("./isString"),y=a("./_stringSize"),x="[object Map]",E="[object Set]";function S(d){if(d==null)return 0;if(p(d))return b(d)?y(d):d.length;var w=g(d);return w==x||w==E?d.size:f(d).length}v.exports=S},{"./_baseKeys":106,"./_getTag":168,"./_stringSize":221,"./isArrayLike":244,"./isString":255}],276:[function(a,v,P){var f=a("./_baseFlatten"),g=a("./_baseOrderBy"),p=a("./_baseRest"),b=a("./_isIterateeCall"),y=p(function(x,E){if(x==null)return[];var S=E.length;return S>1&&b(x,E[0],E[1])?E=[]:S>2&&b(E[0],E[1],E[2])&&(E=[E[0]]),g(x,f(E,1),[])});v.exports=y},{"./_baseFlatten":86,"./_baseOrderBy":114,"./_baseRest":121,"./_isIterateeCall":182}],277:[function(a,v,P){function f(){return[]}v.exports=f},{}],278:[function(a,v,P){function f(){return!1}v.exports=f},{}],279:[function(a,v,P){var f=a("./toNumber"),g=1/0,p=17976931348623157e292;function b(y){if(!y)return y===0?y:0;if(y=f(y),y===g||y===-1/0){var x=y<0?-1:1;return x*p}return y===y?y:0}v.exports=b},{"./toNumber":281}],280:[function(a,v,P){var f=a("./toFinite");function g(p){var b=f(p),y=b%1;return b===b?y?b-y:b:0}v.exports=g},{"./toFinite":279}],281:[function(a,v,P){var f=a("./isObject"),g=a("./isSymbol"),p=NaN,b=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,E=/^0o[0-7]+$/i,S=parseInt;function d(w){if(typeof w=="number")return w;if(g(w))return p;if(f(w)){var A=typeof w.valueOf=="function"?w.valueOf():w;w=f(A)?A+"":A}if(typeof w!="string")return w===0?w:+w;w=w.replace(b,"");var T=x.test(w);return T||E.test(w)?S(w.slice(2),T?2:8):y.test(w)?p:+w}v.exports=d},{"./isObject":251,"./isSymbol":256}],282:[function(a,v,P){var f=a("./_copyObject"),g=a("./keysIn");function p(b){return f(b,g(b))}v.exports=p},{"./_copyObject":143,"./keysIn":260}],283:[function(a,v,P){var f=a("./_baseToString");function g(p){return p==null?"":f(p)}v.exports=g},{"./_baseToString":126}],284:[function(a,v,P){var f=a("./_arrayEach"),g=a("./_baseCreate"),p=a("./_baseForOwn"),b=a("./_baseIteratee"),y=a("./_getPrototype"),x=a("./isArray"),E=a("./isBuffer"),S=a("./isFunction"),d=a("./isObject"),w=a("./isTypedArray");function A(T,N,F){var $=x(T),Y=$||E(T)||w(T);if(N=b(N,4),F==null){var z=T&&T.constructor;Y?F=$?new z:[]:d(T)?F=S(z)?g(y(T)):{}:F={}}return(Y?f:p)(T,function(Z,q,J){return N(F,Z,q,J)}),F}v.exports=A},{"./_arrayEach":64,"./_baseCreate":81,"./_baseForOwn":88,"./_baseIteratee":105,"./_getPrototype":164,"./isArray":243,"./isBuffer":246,"./isFunction":248,"./isObject":251,"./isTypedArray":257}],285:[function(a,v,P){var f=a("./_baseFlatten"),g=a("./_baseRest"),p=a("./_baseUniq"),b=a("./isArrayLikeObject"),y=g(function(x){return p(f(x,1,b,!0))});v.exports=y},{"./_baseFlatten":86,"./_baseRest":121,"./_baseUniq":128,"./isArrayLikeObject":245}],286:[function(a,v,P){var f=a("./toString"),g=0;function p(b){var y=++g;return f(b)+y}v.exports=p},{"./toString":283}],287:[function(a,v,P){var f=a("./_baseValues"),g=a("./keys");function p(b){return b==null?[]:f(b,g(b))}v.exports=p},{"./_baseValues":129,"./keys":259}],288:[function(a,v,P){var f=a("./_assignValue"),g=a("./_baseZipObject");function p(b,y){return g(b||[],y||[],f)}v.exports=p},{"./_assignValue":75,"./_baseZipObject":130}]},{},[1])(1)});const mx=(a,v)=>a==="archimate:Junction"?v=="or"?"OrJunction":"AndJunction":a.replace("archimate:",""),vx=a=>[].map.call(a.querySelectorAll('model > folder:not([type="relations"],[type="diagrams"]) element'),P=>({id:P.getAttribute("id"),type:mx(P.getAttribute("xsi:type"),P.getAttribute("type")),name:P.getAttribute("name")?P.getAttribute("name"):"",documentation:P.querySelector("documentation")?P.querySelector("documentation").textContent:"",properties:[].map.call(P.querySelectorAll("property"),f=>({name:f.getAttribute("key")??"",value:f.getAttribute("value")??""})).reduce((f,g)=>(f[g.name.toLowerCase()]=g.value,f),{})})),bx={1:"Read",2:"Write",3:"ReadWrite"},_x=a=>[].map.call(a.querySelectorAll('folder[type="relations"] element'),P=>({id:P.getAttribute("id"),type:P.getAttribute("xsi:type").replace("archimate:","").replace("Relationship",""),name:P.getAttribute("name")?P.getAttribute("name"):"",documentation:P.querySelector("documentation")?P.querySelector("documentation").textContent:"",source:P.getAttribute("source"),target:P.getAttribute("target"),accessType:bx[P.getAttribute("accessType")]??null,properties:[].map.call(P.querySelectorAll("property"),f=>({name:f.getAttribute("key"),value:f.getAttribute("value")})).reduce((f,g)=>(f[g.name.toLowerCase()]=g.value,f),{})})),xx=a=>{const v=a.querySelector("model").getAttribute("name"),P=a.querySelector("model > purpose")?a.querySelector("model > purpose").textContent:"",f=vx(a),g=_x(a);return{modelName:v,modelDocumentation:P,nodes:f,links:g}};function wx(a){const v=a.querySelectorAll("model > propertyDefinitions > propertyDefinition");(!v||v.length===0)&&console.warn("No propertyDefinition tags found under <model><propertyDefinitions>");const P=Array.from(v).reduce((f,g)=>{const p=g.getAttribute("identifier"),b=g.querySelector("name"),y=b?b.textContent:"unknown";return f[p]=y,f},{});return console.log("🔎 propertyDefinitionsMap:",P),P}function Ax(a,v){const P=a.querySelector("model > elements");if(!P)return console.warn("No <elements> container found under <model>."),[];const f=P.querySelectorAll("element");console.log(`🔎 Found ${f.length} <element> tags under <model><elements>.`);const g=Array.from(f).filter(p=>{const b=p.getAttribute("xsi:type")||p.getAttribute("type");return!(b!=null&&b.includes("ArchimateDiagramModel"))}).map(p=>{const b=p.getAttribute("identifier")||"no-id",y=p.getAttribute("xsi:type")||p.getAttribute("type")||"Element",x=p.querySelector("name"),E=p.querySelector("documentation"),S={};return p.querySelectorAll("property").forEach(d=>{const w=d.getAttribute("propertyDefinitionRef"),A=v[w]||"unknown",T=d.querySelector("value");S[A.toLowerCase()]=T?T.textContent:""}),{id:b,type:y,name:x?x.textContent:"",documentation:E?E.textContent:"",properties:S}});return console.log("✅ Parsed Nodes:",g),g}function Mx(a,v){const P=a.querySelector("model > relationships");if(!P)return console.warn("No <relationships> container found under <model>."),[];const f=P.querySelectorAll("relationship");console.log(`🔎 Found ${f.length} <relationship> tags under <model><relationships>.`);const g=Array.from(f).map(p=>{var A,T;const b=p.getAttribute("identifier")||"no-rel-id",y=p.getAttribute("xsi:type")||p.getAttribute("type")||"Relationship",x=p.querySelector("name"),E=p.querySelector("documentation"),S=((A=p.getAttribute("source"))==null?void 0:A.trim())||null,d=((T=p.getAttribute("target"))==null?void 0:T.trim())||null,w={};return p.querySelectorAll("property").forEach(N=>{const F=N.getAttribute("propertyDefinitionRef"),$=v[F]||"unknown",Y=N.querySelector("value");w[$.toLowerCase()]=Y?Y.textContent:""}),{id:b,type:y,name:x?x.textContent:"",documentation:E?E.textContent:"",source:S,target:d,properties:w}});return console.log("✅ Parsed Links:",g),g}function Ex(a){const v=a.querySelector("model");if(!v)return console.warn("No <model> element found in the XML."),{modelName:"Unnamed Model",modelDocumentation:"",nodes:[],links:[]};const P=v.querySelector("name"),f=v.querySelector("documentation"),g=P?P.textContent:"Unnamed Model",p=f?f.textContent:"",b=wx(a),y=Ax(a,b),x=Mx(a,b);return console.log("🎯 Final Graph Data JSON:",{modelName:g,modelDocumentation:p,nodesCount:y.length,linksCount:x.length}),{modelName:g,modelDocumentation:p,nodes:y,links:x}}const ua="archiGraphDataStore";let E1=null,bs=null;const xs=(async()=>(await ol.init(),E1=new ol.Database,bs=new ol.Connection(E1),console.log("Kùzu in-memory DB created successfully."),await bs.query(`
    CREATE NODE TABLE IF NOT EXISTS Element(
      id STRING PRIMARY KEY,
      layer STRING,
      type STRING,
      name STRING
    );
  `),await bs.query(`
    CREATE REL TABLE IF NOT EXISTS Relationship(
      FROM Element TO Element,
      type STRING
    );
  `),console.log("Kùzu 'Element' & 'Relationship' tables ready."),bs))();function Sx(a){if(a.querySelector('folder[type="elements"]')||a.querySelector('folder[type="relations"]'))return console.log("Detected Archi .archimate file -> Archi parser."),xx(a);const v=a.querySelector("model > elements"),P=a.querySelector("model > relationships");if(v&&P)return console.log("Detected ArchiMate Exchange Format -> Exchange parser."),Ex(a);throw new Error("Could not detect Archi/Exchange file format from XML.")}async function T1(a,v){var P;try{const f=await xs;if(!f)throw new Error("Kùzu connection not established.");const g=new DOMParser().parseFromString(a,"text/xml"),p=Sx(g);if(!((P=p.nodes)!=null&&P.length))throw new Error("Parsed data is empty or missing relationships.");sessionStorage.setItem(ua,JSON.stringify(p)),console.log("Clearing old data from Kùzu..."),await f.query("MATCH (n:Element) DELETE n;"),await f.query("MATCH ()-[r:Relationship]->() DELETE r;"),console.log("Inserting new data into Kùzu...");for(const b of p.nodes){const y=(b.id||"").replace(/'/g,"\\'"),x=(b.type||"").replace(/'/g,"\\'"),E=(b.name||"").replace(/'/g,"\\'");let S="Business";if(b.layer&&b.layer.trim().length>0)S=b.layer;else if(b.type){const w=b.type.toLowerCase();w.includes("business")?S="Business":w.includes("application")?S="Application":w.includes("technology")&&(S="Technology")}const d=`
        CREATE (:Element {
          id: '${y}',
          layer: '${S}',
          type: '${x}',
          name: '${E}'
        });
      `;await f.query(d)}for(const b of p.links){const y=(b.type&&b.type.trim()?b.type:"Unknown").replace(/'/g,"\\'"),x=(b.source||"").replace(/'/g,"\\'"),E=(b.target||"").replace(/'/g,"\\'");if(!x||!E)continue;const S=`
        MATCH (a:Element {id: '${x}'}), (b:Element {id: '${E}'})
        CREATE (a)-[:Relationship {type: '${y}'}]->(b);
      `;await f.query(S)}console.log("Data inserted into Kùzu successfully."),typeof v=="function"&&v()}catch(f){throw console.error("Error processing model file & inserting into Kùzu:",f),f}}async function ll(a,v){try{await xs;const P=await fetch(a);if(!P.ok)throw new Error(P.statusText);const f=await P.text();await T1(f,v)}catch(P){console.error("Error retrieving model file:",P)}}function Tx(){return!!sessionStorage.getItem(ua)}function k1(){const a=sessionStorage.getItem(ua);return a?JSON.parse(a):{nodes:[],links:[]}}function kx(){sessionStorage.removeItem(ua)}function Cx(){const a=k1();return{modelName:a.modelName||"No Model Name",modelDocumentation:a.modelDocumentation||""}}function ia(a){return a!=null&&a.length?`[${a.map(P=>`'${P}'`).join(",")}]`:"[]"}async function Nx(a,v,P){try{const f=await xs;if(!f)throw new Error("Kùzu DB not ready.");const g=`
      MATCH (n:Element {id: $rootNodeId})
      MATCH (n)-[r:Relationship]-(m:Element)
      RETURN collect(n) + collect(m) AS nodes, collect(r) AS links;
    `;console.log("Neighborhood Query:",g);const y=(await(await f.query(g,{rootNodeId:a})).getAllObjects())[0]||{nodes:[],links:[]};typeof P=="function"&&P(y)}catch(f){console.error("Error in neighborhood query:",f),alert("Error in neighborhood query: "+f.message)}}async function C1(a){try{let N=function(F,$){return typeof $=="bigint"?$.toString():$};const v=await xs;if(!v)throw new Error("Kùzu DB not ready.");const P=document.querySelectorAll(".layerCheckbox:checked"),f=P.length?Array.from(P).map(F=>F.value):[],g=f.length?"a.layer IN "+ia(f)+" AND b.layer IN "+ia(f):"true",p=document.querySelectorAll(".facet-value:not([data-group='relationships']):checked"),b=p.length?Array.from(p).map(F=>F.value):[],y=b.length?"a.type IN "+ia(b)+" AND b.type IN "+ia(b):"true",x=document.querySelectorAll(".facet-value[data-group='relationships']:checked"),E=x.length?Array.from(x).map(F=>F.value):[],S=E.length?"r.type IN "+ia(E):"false",w=`
      MATCH (a:Element)-[r:Relationship]->(b:Element)
      WHERE ${`${g} AND ${y} AND ${S}`}
      RETURN a, r, b
      LIMIT 1000
    `;console.log("Global Filter Query:",w);const A=await v.query(w),T=await Ix(A);sessionStorage.setItem(ua,JSON.stringify(T,N)),typeof a=="function"&&a(T)}catch(v){console.error("Error in global filtering:",v),alert("Error in global filtering: "+v.message)}}async function Ix(a){if(!a||typeof a.getAllObjects!="function")return console.error("buildSubgraphFromRecords: queryResult.getAllObjects is not defined"),{nodes:[],links:[]};let v=await a.getAllObjects();(!v||!Array.isArray(v))&&(console.error("buildSubgraphFromRecords: rows is not an array",v),v=[]);const P=new Map,f=[];return v.forEach(g=>{const p=g.a||g.A,b=g.b||g.B,y=g.r||g.R;p&&p.id&&P.set(p.id,p),b&&b.id&&P.set(b.id,b),p&&b&&y&&y.type&&f.push({source:p.id,target:b.id,type:y.type})}),{nodes:Array.from(P.values()),links:f}}const fl="data/ArchiSurance.archimate",Ox={"Confidential (Red)":"#f00","Restricted (Amber)":"#ff8000","Limited Disclosure (Green)":"#00a400","Unlimited Disclosure (White)":"#fff"},N1=a=>{switch(a){case"ApplicationComponent":case"ApplicationCollaboration":case"ApplicationEvent":case"ApplicationFunction":case"ApplicationInteraction":case"ApplicationInterface":case"ApplicationProcess":case"ApplicationService":case"DataObject":return"#b6f4f6";case"BusinessActor":case"BusinessCollaboration":case"BusinessEvent":case"BusinessFunction":case"BusinessInteraction":case"BusinessInterface":case"BusinessObject":case"BusinessProcess":case"BusinessRole":case"BusinessService":case"Contract":case"Product":case"Representation":case"Location":return"#ffffb1";case"Assessment":case"Constraint":case"Driver":case"Goal":case"Meaning":case"Outcome":case"Principle":case"Requirement":case"Stakeholder":case"Value":return"#ccf";case"DistributionNetwork":case"Equipment":case"Facility":case"Material":return"#d1f6c5";case"Artifact":case"CommunicationNetwork":case"Device":case"Node":case"Path":case"SystemSoftware":case"TechnologyCollaboration":case"TechnologyEvent":case"TechnologyFunction":case"TechnologyInteraction":case"TechnologyInterface":case"TechnologyProcess":case"TechnologyService":return"#d1f6c5";case"Capability":case"CourseOfAction":case"Resource":case"ValueStream":return"#f5deaa";case"Deliverable":case"Gap":case"ImplementationEvent":case"Plateau":case"WorkPackage":return"#ffe0e0"}return"#fefefe"},Lx=a=>{switch(a){case"ApplicationComponent":return"m -5 1 l 4 0 l 0 2 l -4 0 z m 0 -4 l 4 0 l 0 2 l -4 0 z m 2 0 l 0 -2 l 8 0 l 0 10 l -8 0 l 0 -2 m 0 -2 l 0 -2";case"Artifact":return"M 4 -1 V 5 H -4 V -5 H 0 L 3.35 -1.5 H 0 V -5";case"Assessment":return"m -3.5 -2 C -3.5 -8 5.5 -8 5.5 -2 C 5.5 4 -3.5 4 -3.5 -2 M -1 2 L -4 7";case"ApplicationCollaboration":case"BusinessCollaboration":case"TechnologyCollaboration":return"m -7 0 A 1 1 0 0 0 2 0 A 1 1 0 0 0 -7 0 M -2 0 A 1 1 0 0 0 7 0 A 1 1 0 0 0 -2 0";case"ApplicationEvent":case"BusinessEvent":case"TechnologyEvent":case"ImplementationEvent":return"m -5 -4 C -2 -3 -2 3 -5 4 H 3 C 6 3 6 -3 3 -4 H -5 M 3 -4";case"ApplicationFunction":case"BusinessFunction":case"TechnologyFunction":return"M -0.35 -5.2 L 4 -1 L 4 5 L 0 2 L -4 5 L -4 -1 L 0.35 -5.2";case"ApplicationInteraction":case"BusinessInteraction":case"TechnologyInteraction":return"m -1 -5 C -6 -4 -6 4 -1 5 Z M 1 -5 V -5 C 6 -4 6 4 1 5 Z";case"ApplicationInterface":case"BusinessInterface":case"TechnologyInterface":return"m -3 0 z c 0 -6 9 -6 9 0 C 6 6 -3 6 -3 0 H -8 z";case"ApplicationProcess":case"BusinessProcess":case"TechnologyProcess":return"m -5 -1.5 H 2 V -4 L 6 0 L 2 4 V 1.5 H -5 z";case"ApplicationService":case"BusinessService":case"TechnologyService":return"m -4 3 z c -4 0 -4 -6 0 -6 H 4 C 8 -3 8 3 4 3 z";case"BusinessActor":return"m 0 -2 A 1 1 0 0 0 0 -6 A 1 1 0 0 0 0 -2 V 3 M -3 6 L 0 3 M 3 6 L 0 3 M -3 0 H 3";case"BusinessRole":case"Stakeholder":return"m -4 -3 C -6 -3 -6 3 -4 3 H 4 C 6 3 6 -3 4 -3 H -4 M 4 -3 c -2 0 -2 6 0 6";case"BusinessObject":case"DataObject":return"m -5 -5 H 5 V 5 V 5 V 5 H -5 Z M -5 -3 H 5";case"Capability":return"m -4.5 4.5 h 9 v -9 h -3 v 9 m 3 -6 h -6 v 6 m 6 -3 h -9 v 3";case"CommunicationNetwork":return"m -4 -3 A 1 1 0 0 0 -1 -3 m 0 0 A 1 1 0 0 0 -4 -3 m 6 0 A 1 1 0 0 0 5 -3 A 1 1 0 0 0 2 -3 H -1 m -4 6 A 1 1 0 0 0 -2 3 A 1 1 0 0 0 -5 3 m 6 0 A 1 1 0 0 0 4 3 A 1 1 0 0 0 1 3 H -2 M -2.5 -1.5 L -3.5 1.5 M 3.5 -1.5 L 2.5 1.5";case"Constraint":return"m -4 -4 H 6 L 4 4 H -6 L -4 -4 M -3 4 L -1 -4";case"Contract":return"m -5 -5 H 5 V 5 V 5 V 5 H -5 Z M -5 -3 H 5 M -5 3 H 5";case"CourseOfAction":return"M -4 -1 A 1 1 0 0 0 6 -1 M 6 -1 A 1 1 0 0 0 -4 -1 M -2 -1 A 1 1 0 0 0 4 -1 A 1 1 0 0 0 -2 -1 M 0 -1 A 1 1 0 0 0 2 -1 A 1 1 0 0 0 0 -1 m 0.5 0 a 0.5 0.5 0 0 0 1 0 a 0.5 0.5 0 0 0 -1 0 m 0.5 0 m -6 3 L -2.5 2.5 L -3 5 Z M -6 5 Q -6 3 -4 3 L -3.5 4 Q -5 4 -5 6 Z";case"Deliverable":return"M -5 2 V -3.5 H 5 V 2 Q 2.5 0 0 2 Q -2.5 4 -5 2 Z";case"Device":return"M -3 2 L -5 5 H 5 L 3 2 H 4 C 5 2 5 2 5 1 V -4 C 5 -5 5 -5 4 -5 h -8 C -5 -5 -5 -5 -5 -4 V 1 C -5 2 -5 2 -4 2 H -3 H 3";case"Driver":return"M -5 0 A 1 1 0 0 0 5 0 M 5 0 A 1 1 0 0 0 -5 0 M -3 0 A 1 1 0 0 0 3 0 A 1 1 0 0 0 -3 0 M -1 0 A 1 1 0 0 0 1 0 A 1 1 0 0 0 -1 0 M -0.5 0 A 0.5 -0.5 0 0 0 0.5 0 A 0.5 0.5 0 0 0 -0.5 0";case"Gap":return"M -5 0 A 1 1 0 0 0 5 0 M 5 0 A 1 1 0 0 0 -5 0 M -6.3 1.5 H 6.3 M -6.3 -1.5 H 6.3";case"Goal":return"M -5 0 A 1 1 0 0 0 5 0 M 5 0 A 1 1 0 0 0 -5 0 M -3 0 A 1 1 0 0 0 3 0 A 1 1 0 0 0 -3 0 M -1 0 A 1 1 0 0 0 1 0 A 1 1 0 0 0 -1 0";case"Location":return"m 4 -1 C 6 -8 -6 -8 -4 -1 L 0 6 Z";case"Meaning":return"M -5 0 C -7 -1 -3 -5 -2 -3 C 0 -5 3 -4 2 -2 C 4 -3 6 -2 5 0 C 7 1 5 4 2 3 C 3 5 -3 5 -3 3 C -5 4 -6 2 -5 0 Z";case"Node":return"m -5 -3 V 5 h 8 v -8.5 h -7.32 l 2 -2 H 5 V 2 L 3.1 5.23 M 3 -3 L 5 -5";case"Outcome":return"M -5 0 A 1 1 0 0 0 5 0 M 5 0 A 1 1 0 0 0 -5 0 M -3 0 A 1 1 0 0 0 3 0 A 1 1 0 0 0 -3 0 M -1 0 A 1 1 0 0 0 1 0 A 1 1 0 0 0 -1 0 M -0.5 0 A 0.5 -0.5 0 0 0 0.5 0 A 0.5 0.5 0 0 0 -0.5 0 M 0 0 L 5.7 -5.7 M 4.5 -7 L 4.2 -4.2 L 7 -4.5";case"Path":return"m -3 4 L -6 0 L -3 -4 M 3 -4 L 6 0 L 3 4 M -3.2 -0.2 H -2.8 V 0.2 H -3.2 Z M -0.2 -0.2 H 0.2 V 0.2 H -0.2 Z M 2.8 -0.2 H 3.2 V 0.2 H 2.8 Z";case"Plateau":return"M -5 0 H 5 M -6 2.4 H 4 M -4 -2.4 H 6";case"Principle":return"M -5 -5 Q -5 -6 -4 -6 Q 0 -6 4 -6 Q 5 -6 5 -5 V 5 Q 5 6 4 6 H -4 Q -5 6 -5 5 Z M -0.35 1.5 V -4 H 0.35 V 1.5 Z M -0.35 3.35 V 4 H 0.35 V 3.35 Z";case"Product":return"m -5 -5 H 5 V 5 V 5 V 5 H -5 Z M -5 -3 H 0 V -5";case"Representation":return"m -5 -5 H 5 v 9 v 0 v 0 c -5 -3 -5 3 -10 0 Z M -5 -3 H 5";case"Requirement":return"m -4 -4 H 6 L 4 4 H -6 Z";case"Resource":return"M -6 -3 Q -6 -4 -5 -4 H 4 Q 5 -4 5 -3 V 3 Q 5 4 4 4 H -5 Q -6 4 -6 3 z m 11 5 A 1 1 0 0 0 6 1 V -1 A 1 1 0 0 0 5 -2 Z M -4 -2 H -4 V 2 M -2 -2 V 2 M 0 -2 V 2";case"SystemSoftware":return"m -6 1 Z c 0 -7 10 -7 10 0 c 0 7 -10 7 -10 0 z m 1 -3.3 c 4 -8.7 15 -1.7 8 6.6";case"Value":return"m -6 0 C -6 -6 6 -6 6 0 C 6 6 -6 6 -6 0";case"ValueStream":return"M 6 0 L 3 4 H -5 L -2 0 L -5 -4 H 3 Z";case"WorkPackage":return"M 3 2 V 0.5 L 5.2 2 L 3 3.5 V 2 H 3.4 V 1.4 L 4.2 2 L 3.4 2.6 V 2 M 3 2 H -2 A 3.4 3.4 0 1 1 0.4 1";case"AndJunction":case"OrJunction":return"M -5 0 A 1 1 0 0 0 5 0 M 5 0 A 1 1 0 0 0 -5 0"}return""},Px=(a,v,P,f,g)=>{const b=P.append("g").attr("id","nodes").selectAll("g").data(f).enter().append("g").attr("id",x=>x.id).attr("class",x=>"element-"+x.type.toLowerCase()).classed("node-root",x=>!1);return b.append("circle").attr("r",10).attr("fill",x=>x.properties!==void 0&&x.properties.dataclassificationlevel!==void 0?Ox[x.properties.dataclassificationlevel]:N1(x.type)).append("title").text(x=>{let E=x.name;return x.documentation!==void 0&&x.documentation.length>0&&(E+=" - "+x.documentation),E}),b.append("path").attr("d",x=>Lx(x.type)).attr("class","node-icon"),b.append("text").attr("class","node-label-type").attr("dx",x=>16).attr("dy",x=>-2).text(x=>{let E="("+x.type+")";return x.properties!==void 0&&x.properties.stereotype!==void 0&&(E+=" «"+x.properties.stereotype+"»"),E}),b.append("text").attr("class","node-label-name").attr("dx",x=>16).attr("dy",x=>8).text(x=>x.name),b},Dx={colorForNodeType:N1},S1=a=>{const v=a.append("defs"),P=10,f=10;v.append("marker").attr("id","relationship-arrow-open").attr("viewBox",[0,-8,20,20]).attr("refX",31).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","relationship-arrow-open"),v.append("marker").attr("id","relationship-arrow-open-read").attr("viewBox",[0,-8,20,20]).attr("refX",-21).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M10,-5L0,0L10,5").attr("class","relationship-arrow-open"),v.append("marker").attr("id","relationship-arrow-closed").attr("viewBox",[0,-8,20,20]).attr("refX",31).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","relationship-arrow-closed"),v.append("marker").attr("id","relationship-arrowlarge-open").attr("viewBox",[0,-8,20,20]).attr("refX",31).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M 0 0 L 0 -8 L 10 0 L 0 8 L 0 0").attr("class","relationship-arrowlarge-open"),v.append("marker").attr("id","relationship-diamond-open-start").attr("viewBox",[0,-8,22,22]).attr("refX",-23).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M 0 0 L 8 -6 L 16 0 L 8 6 L 0 0").attr("class","relationship-diamond-open"),v.append("marker").attr("id","relationship-diamond-closed-start").attr("viewBox",[0,-8,22,22]).attr("refX",-23).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M 0 0 L 8 -6 L 16 0 L 8 6 L 0 0").attr("class","relationship-diamond-closed"),v.append("marker").attr("id","relationship-circle-closed-start").attr("viewBox",[0,-8,22,22]).attr("refX",-23).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("markerWidth",P).attr("markerHeight",f).attr("orient","auto").append("path").attr("d","M 5, 0 m -5, 0 a 5,5 0 1,0 10,0 a 5,5 0 1,0 -10,0").attr("class","relationship-circle-closed")},Rx=(a,v)=>{const P=a.append("g").attr("id","links").selectAll("line").data(v).enter().append("line").attr("id",f=>f.id).attr("class",f=>"relationship-"+f.type.toLowerCase()).attr("marker-start",f=>Fx(f)).attr("marker-end",f=>jx(f));return P.append("title").text(f=>f.name),P},Fx=a=>{switch(a.type){case"Access":return a.accessType==="Read"||a.accessType==="ReadWrite"?"url(#relationship-arrow-open-read)":null;case"Aggregation":return"url(#relationship-diamond-open-start)";case"Composition":return"url(#relationship-diamond-closed-start)";case"Assignment":return"url(#relationship-circle-closed-start)"}},jx=a=>{switch(a.type){case"Triggering":case"Assignment":case"Flow":return"url(#relationship-arrow-closed)";case"Influence":case"Serving":return"url(#relationship-arrow-open)";case"Access":return a.accessType==="Write"||a.accessType==="ReadWrite"?"url(#relationship-arrow-open)":null;case"Realization":case"Specialization":return"url(#relationship-arrowlarge-open)"}};function Sn(a){return typeof a=="object"&&a.id?a.id:a}function Bx(a,v,P,f){const g=v.filter(b=>{const y=Sn(b.source),x=Sn(b.target);return a.find(E=>E.id===y)&&a.find(E=>E.id===x)}),p=d3.forceSimulation(a).force("link",d3.forceLink(g).id(b=>b.id).distance(100).strength(.5)).force("charge",d3.forceManyBody().strength(-300)).force("center",d3.forceCenter(P/2,f/2));p.tick(300),p.stop()}function I1(a,v,P,f,g){d3.selectAll("#graph-viewer").remove();const p=f.clientWidth,b=f.clientHeight,y=d3.select(f).append("svg").attr("id","graph-viewer").attr("width",p).attr("height",b);Bx(a,P,p,b),typeof S1=="function"&&S1(y);const x=y.append("g").attr("id","viewer"),E=P.filter(N=>a.find(F=>F.id===Sn(N.source))&&a.find(F=>F.id===Sn(N.target))),S=Rx(x,E);function d(N,F,$="x"){const Y=typeof N=="object"&&N.id?N.id:N,z=F.find(Z=>Z.id===Y);return z?$==="x"?z.x:z.y:0}S.attr("x1",N=>d(N.source,a,"x")).attr("y1",N=>d(N.source,a,"y")).attr("x2",N=>d(N.target,a,"x")).attr("y2",N=>d(N.target,a,"y"));const w=Px(p,b,x,a).attr("transform",N=>`translate(${N.x}, ${N.y})`);w.on("dblclick",function(N,F){N.stopPropagation();const $=parseInt(document.getElementById("depthSlider").value,10);document.getElementById("loading-message").style.display="block",Nx(F.id,$,Y=>{document.getElementById("loading-message").style.display="none",I1(Y.nodes,null,Y.links,f)})});const A=d3.drag().on("start",function(N,F){d3.select(this).classed("dragging-node",!0)}).on("drag",function(N,F){F.x=N.x,F.y=N.y,d3.select(this).attr("transform",`translate(${F.x}, ${F.y})`),S.filter($=>Sn($.source)===F.id||Sn($.target)===F.id).attr("x1",$=>d(Sn($.source),a,"x")).attr("y1",$=>d(Sn($.source),a,"y")).attr("x2",$=>d(Sn($.target),a,"x")).attr("y2",$=>d(Sn($.target),a,"y"))}).on("end",function(N,F){d3.select(this).classed("dragging-node",!1)});w.call(A);const T=d3.zoom().on("zoom",N=>{x.attr("transform",N.transform)});y.call(T).on("dblclick.zoom",null),y.insert("rect",":first-child").attr("id","canvas-bg").attr("width",p).attr("height",b).attr("fill","transparent").on("click",()=>{w.selectAll("*").classed("highlighted",!1).classed("neighbor-highlight",!1),S.classed("link-highlight",!1)}),Ux(a,y)}function Ux(a,v){if(!a.length){v.attr("viewBox",`0 0 ${window.innerWidth} ${window.innerHeight}`);return}let P=1/0,f=1/0,g=-1/0,p=-1/0;a.forEach(y=>{y.x<P&&(P=y.x),y.y<f&&(f=y.y),y.x>g&&(g=y.x),y.y>p&&(p=y.y)});const b=20;v.attr("viewBox",`${P-b} ${f-b} ${g-P+2*b} ${p-f+2*b}`)}const ul="archiGraphUserSettings";let cl={userLoadedModel:!1,userLoadedModelFilename:"",stickyNodesOnDrag_Enabled:!0};const zx=a=>{localStorage.setItem(ul,JSON.stringify(a))},_s=()=>{let a=cl;return localStorage.getItem(ul)&&(a=JSON.parse(localStorage.getItem(ul))),a},hl=a=>{let v=_s();return!(a in v)&&a in cl&&(er(a,cl[a]),v=_s()),v[a]},er=(a,v)=>{let P=_s();P[a]=v,zx(P)},Hx=()=>{const a=_s();if(a.userLoadedModel){const v=document.getElementById("userModelLoad-dragDrop-message");v.innerText=`Current loaded model: ${a.userLoadedModelFilename}`,document.getElementById("userModelLoad-delete").classList.remove("hidden")}document.getElementById("stickyNodesOnDrag").checked=hl("stickyNodesOnDrag_Enabled"),document.getElementById("dialog-userSettings").showModal()},O1=()=>{document.getElementById("dialog-userSettings").close(),document.getElementById("userModelLoad-dragDrop-message").innerText=""},Gx=(a,v)=>{var b;const P=((b=a.dataTransfer)==null?void 0:b.files)||a.target.files;if(!P||P.length===0){alert("No files were detected. Please try again.");return}const f=P[0];if(![".xml",".archimate"].some(y=>f.name.endsWith(y))){alert("Oops, it must be an .xml or .archimate file! Please ensure it is an ArchiMate Exchange Format or Archi file.");return}const g=document.getElementById("userModelLoad-dragDrop-message");g.innerText=`Loading: ${f.name}`;const p=new FileReader;p.onload=()=>{T1(p.result,()=>{er("userLoadedModel",!0),er("userLoadedModelFilename",f.name),document.getElementById("userModelLoad-delete").classList.remove("hidden"),g.innerText=`The ${f.name} file has been loaded.`,typeof v=="function"&&v()})},p.readAsText(f)},$x=()=>{const a=hl("userLoadedModelFilename");kx();const v=document.getElementById("userModelLoad-dragDrop-message");v.innerText=`${a} has been deleted, the default model has been loaded`,er("userLoadedModel",!1),er("userLoadedModelFilename",""),document.getElementById("userModelLoad-delete").classList.add("hidden")},{colorForNodeType:Vx}=Dx;function aa(a){return a.replace(/[<>&'"]/g,function(v){switch(v){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}function Yx(a,v){const P={Capability:1,CourseOfAction:1,Resource:1,ValueStream:1,BusinessActor:2,BusinessCollaboration:2,BusinessEvent:2,BusinessFunction:2,BusinessInteraction:2,BusinessInterface:2,BusinessObject:2,BusinessProcess:2,BusinessRole:2,BusinessService:2,Contract:2,Product:2,Representation:2,ApplicationComponent:3,ApplicationCollaboration:3,ApplicationEvent:3,ApplicationFunction:3,ApplicationInteraction:3,ApplicationInterface:3,ApplicationProcess:3,ApplicationService:3,DataObject:3,Artifact:4,CommunicationNetwork:4,Device:4,Node:4,Path:4,SystemSoftware:4,TechnologyCollaboration:4,TechnologyEvent:4,TechnologyFunction:4,TechnologyInteraction:4,TechnologyInterface:4,TechnologyProcess:4,TechnologyService:4,"Distribution Network":5,Equipment:5,Facility:5,Material:5},f={};a.forEach(p=>{f[p.id]=p.type});let g=`<?xml version="1.0" encoding="utf-8"?>
`;return g+=`<graphml xmlns="http://graphml.graphdrawing.org/xmlns"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:y="http://www.yworks.com/xml/graphml"
    xsi:schemaLocation="http://graphml.graphdrawing.org/xmlns
      http://www.yworks.com/xml/schema/graphml/1.0/ygraphml.xsd">
`,g+=`  <key for="node" id="d0" yfiles.type="nodegraphics"/>
`,g+=`  <key attr.name="description" attr.type="string" for="node" id="d1"/>
`,g+=`  <key for="edge" id="d2" yfiles.type="edgegraphics"/>
`,g+=`  <key attr.name="description" attr.type="string" for="edge" id="d3"/>
`,g+=`  <graph id="G" edgedefault="directed">
`,a.forEach(p=>{const b=aa(p.id),y=(p.name||"")+(p.type?` (${p.type})`:""),x=Vx(p.type),E=p.x!==void 0?parseFloat(p.x):0,S=p.y!==void 0?parseFloat(p.y):0,d=100,w=40;g+=`    <node id="${b}">
`,g+=`      <data key="d0">
`,g+=`        <y:ShapeNode>
`,g+=`          <y:Geometry x="${E}" y="${S}" width="${d}" height="${w}"/>
`,g+=`          <y:Fill color="${x}" transparent="false"/>
`,g+=`          <y:BorderStyle color="#000000" type="line" width="1.0"/>
`,g+=`          <y:NodeLabel alignment="center" autoSizePolicy="node_width" fontFamily="Dialog" fontSize="5" fontStyle="plain" textColor="#000000" visible="true" modelName="internal" modelPosition="c">
`,g+=`            ${aa(y)}
`,g+=`          </y:NodeLabel>
`,g+=`          <y:Shape type="rectangle"/>
`,g+=`        </y:ShapeNode>
`,g+=`      </data>
`,g+=`    </node>
`}),v.forEach((p,b)=>{let y=typeof p.source=="object"?p.source.id:p.source,x=typeof p.target=="object"?p.target.id:p.target;const E=f[y],S=f[x];P[E]&&P[S]?P[E]>P[S]&&([y,x]=[x,y]):(p.type==="Realization"||p.type==="Serving")&&([y,x]=[x,y]);const d=`e${b}`;g+=`    <edge id="${aa(d)}" source="${aa(y)}" target="${aa(x)}">
`,g+=`      <data key="d2">
`,g+=`        <y:PolyLineEdge>
`,g+=`          <y:LineStyle color="#000000" type="line" width="1.0"/>
`,g+=`          <y:Arrows source="none" target="standard"/>
`,g+=`          <y:BendStyle smoothed="true"/>
`,g+=`        </y:PolyLineEdge>
`,g+=`      </data>
`,g+=`    </edge>
`}),g+=`  </graph>
`,g+=`</graphml>
`,g}function Kx(a,v){const P=new Blob([a],{type:"application/xml"}),f=URL.createObjectURL(P),g=document.createElement("a");g.href=f,g.download=v,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(f)}function Xx(){const a=sessionStorage.getItem("archiGraphDataStore");if(!a){alert("No graph data found in session storage.");return}const v=JSON.parse(a);let P=Array.isArray(v.nodes)?v.nodes:Object.values(v.nodes||{});const f=v.links||[],g={};P.forEach(y=>{g[y.id]=y}),f.forEach(y=>{const x=typeof y.source=="object"?y.source.id:y.source,E=typeof y.target=="object"?y.target.id:y.target;g[x]||(g[x]={id:x,name:x,type:"Undefined",x:0,y:0}),g[E]||(g[E]={id:E,name:E,type:"Undefined",x:0,y:0})}),P=Object.values(g);const p=Yx(P,f),b=(v.modelName||"graph")+".graphml";Kx(p,b)}typeof document<"u"&&document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("exportGraphMLButton");a&&a.addEventListener("click",Xx)});function Wx(){const a=document.getElementById("applyFiltersBtn");a&&a.addEventListener("click",()=>{C1(v=>{const P=new Event("kuzuFiltersDone");document.dispatchEvent(P)})})}let Zx=typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams;function ws(){const a=k1();document.getElementById("loading-message").style.display="none",console.log("Nodes:",a.nodes),console.log("Links:",a.links),I1(a.nodes,null,a.links,document.getElementById("graph-container"))}function oa(){ws()}function Qx(){Zx.get("showheader"),document.querySelector("header").style.display="block",document.getElementById("action-userSettings").classList.remove("hidden"),document.getElementById("userSettings-userModelLoad").classList.remove("hidden")}function Jx(a,v){let P;return(...f)=>{clearTimeout(P),P=setTimeout(()=>a(...f),v)}}document.getElementById("action-reload").addEventListener("click",()=>{ll(fl,oa)});document.getElementById("action-model-overview").addEventListener("click",()=>{const a=Cx();document.getElementById("model-name").innerText=a.modelName,document.getElementById("model-documentation").innerText=a.modelDocumentation,document.getElementById("dialog-overview").showModal()});document.getElementById("dialog-overview-close").addEventListener("click",()=>{document.getElementById("dialog-overview").close()});document.getElementById("dialog-overview-close-x").addEventListener("click",()=>{document.getElementById("dialog-overview").close()});document.getElementById("action-userSettings").addEventListener("click",()=>{Hx()});document.getElementById("dialog-userSettings-close").addEventListener("click",()=>{O1()});document.getElementById("dialog-userSettings-close-x").addEventListener("click",()=>{O1()});document.getElementById("userModelLoad-dragDrop-zone").addEventListener("dragover",a=>{a.preventDefault()});document.getElementById("userModelLoad-dragDrop-zone").addEventListener("drop",a=>{a.preventDefault(),Gx(a,oa)});document.getElementById("userModelLoad-delete").addEventListener("click",()=>{$x(),ll(fl,oa)});document.getElementById("stickyNodesOnDrag").addEventListener("change",function(){er("stickyNodesOnDrag_Enabled",this.checked)});Wx();document.getElementById("applyFiltersBtn").addEventListener("click",async()=>{document.getElementById("loading-message").style.display="block",await C1(a=>{document.getElementById("loading-message").style.display="none";const v=new Event("kuzuFiltersDone");document.dispatchEvent(v)})});window.onload=async()=>{Qx(),Tx()||(er("userLoadedModel",!1),er("userLoadedModelFilename","")),hl("userLoadedModel")?oa():await ll(fl,oa)};window.onresize=Jx(()=>{ws()},100);window.onpopstate=()=>{ws()};document.addEventListener("kuzuFiltersDone",()=>{console.log("Global filter applied => re-draw from session"),ws()})});export default qx();
